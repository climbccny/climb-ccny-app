function LA(r,e){for(var n=0;n<e.length;n++){const s=e[n];if(typeof s!="string"&&!Array.isArray(s)){for(const o in s)if(o!=="default"&&!(o in r)){const u=Object.getOwnPropertyDescriptor(s,o);u&&Object.defineProperty(r,o,u.get?u:{enumerable:!0,get:()=>s[o]})}}}return Object.freeze(Object.defineProperty(r,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const f of u.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&s(f)}).observe(document,{childList:!0,subtree:!0});function n(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(o){if(o.ep)return;o.ep=!0;const u=n(o);fetch(o.href,u)}})();function PA(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var Sm={exports:{}},ql={};var Xv;function UA(){if(Xv)return ql;Xv=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(s,o,u){var f=null;if(u!==void 0&&(f=""+u),o.key!==void 0&&(f=""+o.key),"key"in o){u={};for(var m in o)m!=="key"&&(u[m]=o[m])}else u=o;return o=u.ref,{$$typeof:r,type:s,key:f,ref:o!==void 0?o:null,props:u}}return ql.Fragment=e,ql.jsx=n,ql.jsxs=n,ql}var Zv;function jA(){return Zv||(Zv=1,Sm.exports=UA()),Sm.exports}var b=jA(),Am={exports:{}},Re={};var Jv;function zA(){if(Jv)return Re;Jv=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),f=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),S=Symbol.for("react.activity"),R=Symbol.iterator;function O(V){return V===null||typeof V!="object"?null:(V=R&&V[R]||V["@@iterator"],typeof V=="function"?V:null)}var B={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Y=Object.assign,$={};function se(V,Z,j){this.props=V,this.context=Z,this.refs=$,this.updater=j||B}se.prototype.isReactComponent={},se.prototype.setState=function(V,Z){if(typeof V!="object"&&typeof V!="function"&&V!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,V,Z,"setState")},se.prototype.forceUpdate=function(V){this.updater.enqueueForceUpdate(this,V,"forceUpdate")};function ie(){}ie.prototype=se.prototype;function re(V,Z,j){this.props=V,this.context=Z,this.refs=$,this.updater=j||B}var ge=re.prototype=new ie;ge.constructor=re,Y(ge,se.prototype),ge.isPureReactComponent=!0;var ce=Array.isArray;function pe(){}var x={H:null,A:null,T:null,S:null},w=Object.prototype.hasOwnProperty;function I(V,Z,j){var ne=j.ref;return{$$typeof:r,type:V,key:Z,ref:ne!==void 0?ne:null,props:j}}function k(V,Z){return I(V.type,Z,V.props)}function M(V){return typeof V=="object"&&V!==null&&V.$$typeof===r}function P(V){var Z={"=":"=0",":":"=2"};return"$"+V.replace(/[=:]/g,function(j){return Z[j]})}var C=/\/+/g;function Be(V,Z){return typeof V=="object"&&V!==null&&V.key!=null?P(""+V.key):Z.toString(36)}function $e(V){switch(V.status){case"fulfilled":return V.value;case"rejected":throw V.reason;default:switch(typeof V.status=="string"?V.then(pe,pe):(V.status="pending",V.then(function(Z){V.status==="pending"&&(V.status="fulfilled",V.value=Z)},function(Z){V.status==="pending"&&(V.status="rejected",V.reason=Z)})),V.status){case"fulfilled":return V.value;case"rejected":throw V.reason}}throw V}function K(V,Z,j,ne,he){var ye=typeof V;(ye==="undefined"||ye==="boolean")&&(V=null);var Te=!1;if(V===null)Te=!0;else switch(ye){case"bigint":case"string":case"number":Te=!0;break;case"object":switch(V.$$typeof){case r:case e:Te=!0;break;case E:return Te=V._init,K(Te(V._payload),Z,j,ne,he)}}if(Te)return he=he(V),Te=ne===""?"."+Be(V,0):ne,ce(he)?(j="",Te!=null&&(j=Te.replace(C,"$&/")+"/"),K(he,Z,j,"",function(bs){return bs})):he!=null&&(M(he)&&(he=k(he,j+(he.key==null||V&&V.key===he.key?"":(""+he.key).replace(C,"$&/")+"/")+Te)),Z.push(he)),1;Te=0;var qe=ne===""?".":ne+":";if(ce(V))for(var Ke=0;Ke<V.length;Ke++)ne=V[Ke],ye=qe+Be(ne,Ke),Te+=K(ne,Z,j,ye,he);else if(Ke=O(V),typeof Ke=="function")for(V=Ke.call(V),Ke=0;!(ne=V.next()).done;)ne=ne.value,ye=qe+Be(ne,Ke++),Te+=K(ne,Z,j,ye,he);else if(ye==="object"){if(typeof V.then=="function")return K($e(V),Z,j,ne,he);throw Z=String(V),Error("Objects are not valid as a React child (found: "+(Z==="[object Object]"?"object with keys {"+Object.keys(V).join(", ")+"}":Z)+"). If you meant to render a collection of children, use an array instead.")}return Te}function ae(V,Z,j){if(V==null)return V;var ne=[],he=0;return K(V,ne,"","",function(ye){return Z.call(j,ye,he++)}),ne}function de(V){if(V._status===-1){var Z=V._result;Z=Z(),Z.then(function(j){(V._status===0||V._status===-1)&&(V._status=1,V._result=j)},function(j){(V._status===0||V._status===-1)&&(V._status=2,V._result=j)}),V._status===-1&&(V._status=0,V._result=Z)}if(V._status===1)return V._result.default;throw V._result}var xe=typeof reportError=="function"?reportError:function(V){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Z=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof V=="object"&&V!==null&&typeof V.message=="string"?String(V.message):String(V),error:V});if(!window.dispatchEvent(Z))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",V);return}console.error(V)},Oe={map:ae,forEach:function(V,Z,j){ae(V,function(){Z.apply(this,arguments)},j)},count:function(V){var Z=0;return ae(V,function(){Z++}),Z},toArray:function(V){return ae(V,function(Z){return Z})||[]},only:function(V){if(!M(V))throw Error("React.Children.only expected to receive a single React element child.");return V}};return Re.Activity=S,Re.Children=Oe,Re.Component=se,Re.Fragment=n,Re.Profiler=o,Re.PureComponent=re,Re.StrictMode=s,Re.Suspense=p,Re.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=x,Re.__COMPILER_RUNTIME={__proto__:null,c:function(V){return x.H.useMemoCache(V)}},Re.cache=function(V){return function(){return V.apply(null,arguments)}},Re.cacheSignal=function(){return null},Re.cloneElement=function(V,Z,j){if(V==null)throw Error("The argument must be a React element, but you passed "+V+".");var ne=Y({},V.props),he=V.key;if(Z!=null)for(ye in Z.key!==void 0&&(he=""+Z.key),Z)!w.call(Z,ye)||ye==="key"||ye==="__self"||ye==="__source"||ye==="ref"&&Z.ref===void 0||(ne[ye]=Z[ye]);var ye=arguments.length-2;if(ye===1)ne.children=j;else if(1<ye){for(var Te=Array(ye),qe=0;qe<ye;qe++)Te[qe]=arguments[qe+2];ne.children=Te}return I(V.type,he,ne)},Re.createContext=function(V){return V={$$typeof:f,_currentValue:V,_currentValue2:V,_threadCount:0,Provider:null,Consumer:null},V.Provider=V,V.Consumer={$$typeof:u,_context:V},V},Re.createElement=function(V,Z,j){var ne,he={},ye=null;if(Z!=null)for(ne in Z.key!==void 0&&(ye=""+Z.key),Z)w.call(Z,ne)&&ne!=="key"&&ne!=="__self"&&ne!=="__source"&&(he[ne]=Z[ne]);var Te=arguments.length-2;if(Te===1)he.children=j;else if(1<Te){for(var qe=Array(Te),Ke=0;Ke<Te;Ke++)qe[Ke]=arguments[Ke+2];he.children=qe}if(V&&V.defaultProps)for(ne in Te=V.defaultProps,Te)he[ne]===void 0&&(he[ne]=Te[ne]);return I(V,ye,he)},Re.createRef=function(){return{current:null}},Re.forwardRef=function(V){return{$$typeof:m,render:V}},Re.isValidElement=M,Re.lazy=function(V){return{$$typeof:E,_payload:{_status:-1,_result:V},_init:de}},Re.memo=function(V,Z){return{$$typeof:y,type:V,compare:Z===void 0?null:Z}},Re.startTransition=function(V){var Z=x.T,j={};x.T=j;try{var ne=V(),he=x.S;he!==null&&he(j,ne),typeof ne=="object"&&ne!==null&&typeof ne.then=="function"&&ne.then(pe,xe)}catch(ye){xe(ye)}finally{Z!==null&&j.types!==null&&(Z.types=j.types),x.T=Z}},Re.unstable_useCacheRefresh=function(){return x.H.useCacheRefresh()},Re.use=function(V){return x.H.use(V)},Re.useActionState=function(V,Z,j){return x.H.useActionState(V,Z,j)},Re.useCallback=function(V,Z){return x.H.useCallback(V,Z)},Re.useContext=function(V){return x.H.useContext(V)},Re.useDebugValue=function(){},Re.useDeferredValue=function(V,Z){return x.H.useDeferredValue(V,Z)},Re.useEffect=function(V,Z){return x.H.useEffect(V,Z)},Re.useEffectEvent=function(V){return x.H.useEffectEvent(V)},Re.useId=function(){return x.H.useId()},Re.useImperativeHandle=function(V,Z,j){return x.H.useImperativeHandle(V,Z,j)},Re.useInsertionEffect=function(V,Z){return x.H.useInsertionEffect(V,Z)},Re.useLayoutEffect=function(V,Z){return x.H.useLayoutEffect(V,Z)},Re.useMemo=function(V,Z){return x.H.useMemo(V,Z)},Re.useOptimistic=function(V,Z){return x.H.useOptimistic(V,Z)},Re.useReducer=function(V,Z,j){return x.H.useReducer(V,Z,j)},Re.useRef=function(V){return x.H.useRef(V)},Re.useState=function(V){return x.H.useState(V)},Re.useSyncExternalStore=function(V,Z,j){return x.H.useSyncExternalStore(V,Z,j)},Re.useTransition=function(){return x.H.useTransition()},Re.version="19.2.0",Re}var Wv;function Zh(){return Wv||(Wv=1,Am.exports=zA()),Am.exports}var D=Zh();const Ae=PA(D),e0=LA({__proto__:null,default:Ae},[D]);var wm={exports:{}},Hl={},Rm={exports:{}},Cm={};var t0;function BA(){return t0||(t0=1,(function(r){function e(K,ae){var de=K.length;K.push(ae);e:for(;0<de;){var xe=de-1>>>1,Oe=K[xe];if(0<o(Oe,ae))K[xe]=ae,K[de]=Oe,de=xe;else break e}}function n(K){return K.length===0?null:K[0]}function s(K){if(K.length===0)return null;var ae=K[0],de=K.pop();if(de!==ae){K[0]=de;e:for(var xe=0,Oe=K.length,V=Oe>>>1;xe<V;){var Z=2*(xe+1)-1,j=K[Z],ne=Z+1,he=K[ne];if(0>o(j,de))ne<Oe&&0>o(he,j)?(K[xe]=he,K[ne]=de,xe=ne):(K[xe]=j,K[Z]=de,xe=Z);else if(ne<Oe&&0>o(he,de))K[xe]=he,K[ne]=de,xe=ne;else break e}}return ae}function o(K,ae){var de=K.sortIndex-ae.sortIndex;return de!==0?de:K.id-ae.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;r.unstable_now=function(){return u.now()}}else{var f=Date,m=f.now();r.unstable_now=function(){return f.now()-m}}var p=[],y=[],E=1,S=null,R=3,O=!1,B=!1,Y=!1,$=!1,se=typeof setTimeout=="function"?setTimeout:null,ie=typeof clearTimeout=="function"?clearTimeout:null,re=typeof setImmediate<"u"?setImmediate:null;function ge(K){for(var ae=n(y);ae!==null;){if(ae.callback===null)s(y);else if(ae.startTime<=K)s(y),ae.sortIndex=ae.expirationTime,e(p,ae);else break;ae=n(y)}}function ce(K){if(Y=!1,ge(K),!B)if(n(p)!==null)B=!0,pe||(pe=!0,P());else{var ae=n(y);ae!==null&&$e(ce,ae.startTime-K)}}var pe=!1,x=-1,w=5,I=-1;function k(){return $?!0:!(r.unstable_now()-I<w)}function M(){if($=!1,pe){var K=r.unstable_now();I=K;var ae=!0;try{e:{B=!1,Y&&(Y=!1,ie(x),x=-1),O=!0;var de=R;try{t:{for(ge(K),S=n(p);S!==null&&!(S.expirationTime>K&&k());){var xe=S.callback;if(typeof xe=="function"){S.callback=null,R=S.priorityLevel;var Oe=xe(S.expirationTime<=K);if(K=r.unstable_now(),typeof Oe=="function"){S.callback=Oe,ge(K),ae=!0;break t}S===n(p)&&s(p),ge(K)}else s(p);S=n(p)}if(S!==null)ae=!0;else{var V=n(y);V!==null&&$e(ce,V.startTime-K),ae=!1}}break e}finally{S=null,R=de,O=!1}ae=void 0}}finally{ae?P():pe=!1}}}var P;if(typeof re=="function")P=function(){re(M)};else if(typeof MessageChannel<"u"){var C=new MessageChannel,Be=C.port2;C.port1.onmessage=M,P=function(){Be.postMessage(null)}}else P=function(){se(M,0)};function $e(K,ae){x=se(function(){K(r.unstable_now())},ae)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(K){K.callback=null},r.unstable_forceFrameRate=function(K){0>K||125<K?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):w=0<K?Math.floor(1e3/K):5},r.unstable_getCurrentPriorityLevel=function(){return R},r.unstable_next=function(K){switch(R){case 1:case 2:case 3:var ae=3;break;default:ae=R}var de=R;R=ae;try{return K()}finally{R=de}},r.unstable_requestPaint=function(){$=!0},r.unstable_runWithPriority=function(K,ae){switch(K){case 1:case 2:case 3:case 4:case 5:break;default:K=3}var de=R;R=K;try{return ae()}finally{R=de}},r.unstable_scheduleCallback=function(K,ae,de){var xe=r.unstable_now();switch(typeof de=="object"&&de!==null?(de=de.delay,de=typeof de=="number"&&0<de?xe+de:xe):de=xe,K){case 1:var Oe=-1;break;case 2:Oe=250;break;case 5:Oe=1073741823;break;case 4:Oe=1e4;break;default:Oe=5e3}return Oe=de+Oe,K={id:E++,callback:ae,priorityLevel:K,startTime:de,expirationTime:Oe,sortIndex:-1},de>xe?(K.sortIndex=de,e(y,K),n(p)===null&&K===n(y)&&(Y?(ie(x),x=-1):Y=!0,$e(ce,de-xe))):(K.sortIndex=Oe,e(p,K),B||O||(B=!0,pe||(pe=!0,P()))),K},r.unstable_shouldYield=k,r.unstable_wrapCallback=function(K){var ae=R;return function(){var de=R;R=ae;try{return K.apply(this,arguments)}finally{R=de}}}})(Cm)),Cm}var n0;function qA(){return n0||(n0=1,Rm.exports=BA()),Rm.exports}var xm={exports:{}},Kt={};var i0;function HA(){if(i0)return Kt;i0=1;var r=Zh();function e(p){var y="https://react.dev/errors/"+p;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var E=2;E<arguments.length;E++)y+="&args[]="+encodeURIComponent(arguments[E])}return"Minified React error #"+p+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(p,y,E){var S=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:S==null?null:""+S,children:p,containerInfo:y,implementation:E}}var f=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(p,y){if(p==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return Kt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Kt.createPortal=function(p,y){var E=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(e(299));return u(p,y,null,E)},Kt.flushSync=function(p){var y=f.T,E=s.p;try{if(f.T=null,s.p=2,p)return p()}finally{f.T=y,s.p=E,s.d.f()}},Kt.preconnect=function(p,y){typeof p=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,s.d.C(p,y))},Kt.prefetchDNS=function(p){typeof p=="string"&&s.d.D(p)},Kt.preinit=function(p,y){if(typeof p=="string"&&y&&typeof y.as=="string"){var E=y.as,S=m(E,y.crossOrigin),R=typeof y.integrity=="string"?y.integrity:void 0,O=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;E==="style"?s.d.S(p,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:S,integrity:R,fetchPriority:O}):E==="script"&&s.d.X(p,{crossOrigin:S,integrity:R,fetchPriority:O,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},Kt.preinitModule=function(p,y){if(typeof p=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var E=m(y.as,y.crossOrigin);s.d.M(p,{crossOrigin:E,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&s.d.M(p)},Kt.preload=function(p,y){if(typeof p=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var E=y.as,S=m(E,y.crossOrigin);s.d.L(p,E,{crossOrigin:S,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},Kt.preloadModule=function(p,y){if(typeof p=="string")if(y){var E=m(y.as,y.crossOrigin);s.d.m(p,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:E,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else s.d.m(p)},Kt.requestFormReset=function(p){s.d.r(p)},Kt.unstable_batchedUpdates=function(p,y){return p(y)},Kt.useFormState=function(p,y,E){return f.H.useFormState(p,y,E)},Kt.useFormStatus=function(){return f.H.useHostTransitionStatus()},Kt.version="19.2.0",Kt}var r0;function ZE(){if(r0)return xm.exports;r0=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),xm.exports=HA(),xm.exports}var s0;function FA(){if(s0)return Hl;s0=1;var r=qA(),e=Zh(),n=ZE();function s(t){var i="https://react.dev/errors/"+t;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)i+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function u(t){var i=t,a=t;if(t.alternate)for(;i.return;)i=i.return;else{t=i;do i=t,(i.flags&4098)!==0&&(a=i.return),t=i.return;while(t)}return i.tag===3?a:null}function f(t){if(t.tag===13){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function m(t){if(t.tag===31){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function p(t){if(u(t)!==t)throw Error(s(188))}function y(t){var i=t.alternate;if(!i){if(i=u(t),i===null)throw Error(s(188));return i!==t?null:t}for(var a=t,l=i;;){var h=a.return;if(h===null)break;var d=h.alternate;if(d===null){if(l=h.return,l!==null){a=l;continue}break}if(h.child===d.child){for(d=h.child;d;){if(d===a)return p(h),t;if(d===l)return p(h),i;d=d.sibling}throw Error(s(188))}if(a.return!==l.return)a=h,l=d;else{for(var _=!1,T=h.child;T;){if(T===a){_=!0,a=h,l=d;break}if(T===l){_=!0,l=h,a=d;break}T=T.sibling}if(!_){for(T=d.child;T;){if(T===a){_=!0,a=d,l=h;break}if(T===l){_=!0,l=d,a=h;break}T=T.sibling}if(!_)throw Error(s(189))}}if(a.alternate!==l)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?t:i}function E(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t;for(t=t.child;t!==null;){if(i=E(t),i!==null)return i;t=t.sibling}return null}var S=Object.assign,R=Symbol.for("react.element"),O=Symbol.for("react.transitional.element"),B=Symbol.for("react.portal"),Y=Symbol.for("react.fragment"),$=Symbol.for("react.strict_mode"),se=Symbol.for("react.profiler"),ie=Symbol.for("react.consumer"),re=Symbol.for("react.context"),ge=Symbol.for("react.forward_ref"),ce=Symbol.for("react.suspense"),pe=Symbol.for("react.suspense_list"),x=Symbol.for("react.memo"),w=Symbol.for("react.lazy"),I=Symbol.for("react.activity"),k=Symbol.for("react.memo_cache_sentinel"),M=Symbol.iterator;function P(t){return t===null||typeof t!="object"?null:(t=M&&t[M]||t["@@iterator"],typeof t=="function"?t:null)}var C=Symbol.for("react.client.reference");function Be(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===C?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Y:return"Fragment";case se:return"Profiler";case $:return"StrictMode";case ce:return"Suspense";case pe:return"SuspenseList";case I:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case B:return"Portal";case re:return t.displayName||"Context";case ie:return(t._context.displayName||"Context")+".Consumer";case ge:var i=t.render;return t=t.displayName,t||(t=i.displayName||i.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case x:return i=t.displayName||null,i!==null?i:Be(t.type)||"Memo";case w:i=t._payload,t=t._init;try{return Be(t(i))}catch{}}return null}var $e=Array.isArray,K=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ae=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,de={pending:!1,data:null,method:null,action:null},xe=[],Oe=-1;function V(t){return{current:t}}function Z(t){0>Oe||(t.current=xe[Oe],xe[Oe]=null,Oe--)}function j(t,i){Oe++,xe[Oe]=t.current,t.current=i}var ne=V(null),he=V(null),ye=V(null),Te=V(null);function qe(t,i){switch(j(ye,i),j(he,t),j(ne,null),i.nodeType){case 9:case 11:t=(t=i.documentElement)&&(t=t.namespaceURI)?vv(t):0;break;default:if(t=i.tagName,i=i.namespaceURI)i=vv(i),t=Ev(i,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}Z(ne),j(ne,t)}function Ke(){Z(ne),Z(he),Z(ye)}function bs(t){t.memoizedState!==null&&j(Te,t);var i=ne.current,a=Ev(i,t.type);i!==a&&(j(he,t),j(ne,a))}function Ta(t){he.current===t&&(Z(ne),Z(he)),Te.current===t&&(Z(Te),Ul._currentValue=de)}var ba,Sa;function ai(t){if(ba===void 0)try{throw Error()}catch(a){var i=a.stack.trim().match(/\n( *(at )?)/);ba=i&&i[1]||"",Sa=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ba+t+Sa}var Uo=!1;function Ss(t,i){if(!t||Uo)return"";Uo=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(i){var W=function(){throw Error()};if(Object.defineProperty(W.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(W,[])}catch(Q){var F=Q}Reflect.construct(t,[],W)}else{try{W.call()}catch(Q){F=Q}t.call(W.prototype)}}else{try{throw Error()}catch(Q){F=Q}(W=t())&&typeof W.catch=="function"&&W.catch(function(){})}}catch(Q){if(Q&&F&&typeof Q.stack=="string")return[Q.stack,F.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),_=d[0],T=d[1];if(_&&T){var N=_.split(`
`),H=T.split(`
`);for(h=l=0;l<N.length&&!N[l].includes("DetermineComponentFrameRoot");)l++;for(;h<H.length&&!H[h].includes("DetermineComponentFrameRoot");)h++;if(l===N.length||h===H.length)for(l=N.length-1,h=H.length-1;1<=l&&0<=h&&N[l]!==H[h];)h--;for(;1<=l&&0<=h;l--,h--)if(N[l]!==H[h]){if(l!==1||h!==1)do if(l--,h--,0>h||N[l]!==H[h]){var X=`
`+N[l].replace(" at new "," at ");return t.displayName&&X.includes("<anonymous>")&&(X=X.replace("<anonymous>",t.displayName)),X}while(1<=l&&0<=h);break}}}finally{Uo=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?ai(a):""}function jo(t,i){switch(t.tag){case 26:case 27:case 5:return ai(t.type);case 16:return ai("Lazy");case 13:return t.child!==i&&i!==null?ai("Suspense Fallback"):ai("Suspense");case 19:return ai("SuspenseList");case 0:case 15:return Ss(t.type,!1);case 11:return Ss(t.type.render,!1);case 1:return Ss(t.type,!0);case 31:return ai("Activity");default:return""}}function zo(t){try{var i="",a=null;do i+=jo(t,a),a=t,t=t.return;while(t);return i}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var Et=Object.prototype.hasOwnProperty,Mt=r.unstable_scheduleCallback,vr=r.unstable_cancelCallback,wf=r.unstable_shouldYield,Vu=r.unstable_requestPaint,en=r.unstable_now,As=r.unstable_getCurrentPriorityLevel,Bo=r.unstable_ImmediatePriority,qo=r.unstable_UserBlockingPriority,Er=r.unstable_NormalPriority,Rf=r.unstable_LowPriority,ku=r.unstable_IdlePriority,Lu=r.log,Pu=r.unstable_setDisableYieldValue,qn=null,zt=null;function An(t){if(typeof Lu=="function"&&Pu(t),zt&&typeof zt.setStrictMode=="function")try{zt.setStrictMode(qn,t)}catch{}}var pt=Math.clz32?Math.clz32:ju,Uu=Math.log,Aa=Math.LN2;function ju(t){return t>>>=0,t===0?32:31-(Uu(t)/Aa|0)|0}var oi=256,ws=262144,Tt=4194304;function li(t){var i=t&42;if(i!==0)return i;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function ui(t,i,a){var l=t.pendingLanes;if(l===0)return 0;var h=0,d=t.suspendedLanes,_=t.pingedLanes;t=t.warmLanes;var T=l&134217727;return T!==0?(l=T&~d,l!==0?h=li(l):(_&=T,_!==0?h=li(_):a||(a=T&~t,a!==0&&(h=li(a))))):(T=l&~d,T!==0?h=li(T):_!==0?h=li(_):a||(a=l&~t,a!==0&&(h=li(a)))),h===0?0:i!==0&&i!==h&&(i&d)===0&&(d=h&-h,a=i&-i,d>=a||d===32&&(a&4194048)!==0)?i:h}function Hn(t,i){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&i)===0}function Cf(t,i){switch(t){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function zu(){var t=Tt;return Tt<<=1,(Tt&62914560)===0&&(Tt=4194304),t}function ci(t){for(var i=[],a=0;31>a;a++)i.push(t);return i}function Rs(t,i){t.pendingLanes|=i,i!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function xf(t,i,a,l,h,d){var _=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var T=t.entanglements,N=t.expirationTimes,H=t.hiddenUpdates;for(a=_&~a;0<a;){var X=31-pt(a),W=1<<X;T[X]=0,N[X]=-1;var F=H[X];if(F!==null)for(H[X]=null,X=0;X<F.length;X++){var Q=F[X];Q!==null&&(Q.lane&=-536870913)}a&=~W}l!==0&&Cs(t,l,0),d!==0&&h===0&&t.tag!==0&&(t.suspendedLanes|=d&~(_&~i))}function Cs(t,i,a){t.pendingLanes|=i,t.suspendedLanes&=~i;var l=31-pt(i);t.entangledLanes|=i,t.entanglements[l]=t.entanglements[l]|1073741824|a&261930}function Ho(t,i){var a=t.entangledLanes|=i;for(t=t.entanglements;a;){var l=31-pt(a),h=1<<l;h&i|t[l]&i&&(t[l]|=i),a&=~h}}function Fo(t,i){var a=i&-i;return a=(a&42)!==0?1:xs(a),(a&(t.suspendedLanes|i))!==0?0:a}function xs(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function zi(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function Bu(){var t=ae.p;return t!==0?t:(t=window.event,t===void 0?32:Hv(t.type))}function Fn(t,i){var a=ae.p;try{return ae.p=t,i()}finally{ae.p=a}}var Gn=Math.random().toString(36).slice(2),bt="__reactFiber$"+Gn,Lt="__reactProps$"+Gn,hi="__reactContainer$"+Gn,wa="__reactEvents$"+Gn,If="__reactListeners$"+Gn,qu="__reactHandles$"+Gn,Hu="__reactResources$"+Gn,fi="__reactMarker$"+Gn;function Ra(t){delete t[bt],delete t[Lt],delete t[wa],delete t[If],delete t[qu]}function di(t){var i=t[bt];if(i)return i;for(var a=t.parentNode;a;){if(i=a[hi]||a[bt]){if(a=i.alternate,i.child!==null||a!==null&&a.child!==null)for(t=Cv(t);t!==null;){if(a=t[bt])return a;t=Cv(t)}return i}t=a,a=t.parentNode}return null}function wn(t){if(t=t[bt]||t[hi]){var i=t.tag;if(i===5||i===6||i===13||i===31||i===26||i===27||i===3)return t}return null}function pn(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t.stateNode;throw Error(s(33))}function mi(t){var i=t[Hu];return i||(i=t[Hu]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function St(t){t[fi]=!0}var Go=new Set,$o={};function pi(t,i){gi(t,i),gi(t+"Capture",i)}function gi(t,i){for($o[t]=i,t=0;t<i.length;t++)Go.add(i[t])}var Qo=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Yo={},Ko={};function Fu(t){return Et.call(Ko,t)?!0:Et.call(Yo,t)?!1:Qo.test(t)?Ko[t]=!0:(Yo[t]=!0,!1)}function Ca(t,i,a){if(Fu(i))if(a===null)t.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(i);return;case"boolean":var l=i.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(i);return}}t.setAttribute(i,""+a)}}function gn(t,i,a){if(a===null)t.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(i);return}t.setAttribute(i,""+a)}}function At(t,i,a,l){if(l===null)t.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(i,a,""+l)}}function Pt(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Tr(t){var i=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function Xo(t,i,a){var l=Object.getOwnPropertyDescriptor(t.constructor.prototype,i);if(!t.hasOwnProperty(i)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var h=l.get,d=l.set;return Object.defineProperty(t,i,{configurable:!0,get:function(){return h.call(this)},set:function(_){a=""+_,d.call(this,_)}}),Object.defineProperty(t,i,{enumerable:l.enumerable}),{getValue:function(){return a},setValue:function(_){a=""+_},stopTracking:function(){t._valueTracker=null,delete t[i]}}}}function Ze(t){if(!t._valueTracker){var i=Tr(t)?"checked":"value";t._valueTracker=Xo(t,i,""+t[i])}}function Is(t){if(!t)return!1;var i=t._valueTracker;if(!i)return!0;var a=i.getValue(),l="";return t&&(l=Tr(t)?t.checked?"true":"false":t.value),t=l,t!==a?(i.setValue(t),!0):!1}function yi(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Ns=/[\n"\\]/g;function rn(t){return t.replace(Ns,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function xa(t,i,a,l,h,d,_,T){t.name="",_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?t.type=_:t.removeAttribute("type"),i!=null?_==="number"?(i===0&&t.value===""||t.value!=i)&&(t.value=""+Pt(i)):t.value!==""+Pt(i)&&(t.value=""+Pt(i)):_!=="submit"&&_!=="reset"||t.removeAttribute("value"),i!=null?Zo(t,_,Pt(i)):a!=null?Zo(t,_,Pt(a)):l!=null&&t.removeAttribute("value"),h==null&&d!=null&&(t.defaultChecked=!!d),h!=null&&(t.checked=h&&typeof h!="function"&&typeof h!="symbol"),T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?t.name=""+Pt(T):t.removeAttribute("name")}function Gu(t,i,a,l,h,d,_,T){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(t.type=d),i!=null||a!=null){if(!(d!=="submit"&&d!=="reset"||i!=null)){Ze(t);return}a=a!=null?""+Pt(a):"",i=i!=null?""+Pt(i):a,T||i===t.value||(t.value=i),t.defaultValue=i}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=T?t.checked:!!l,t.defaultChecked=!!l,_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(t.name=_),Ze(t)}function Zo(t,i,a){i==="number"&&yi(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function br(t,i,a,l){if(t=t.options,i){i={};for(var h=0;h<a.length;h++)i["$"+a[h]]=!0;for(a=0;a<t.length;a++)h=i.hasOwnProperty("$"+t[a].value),t[a].selected!==h&&(t[a].selected=h),h&&l&&(t[a].defaultSelected=!0)}else{for(a=""+Pt(a),i=null,h=0;h<t.length;h++){if(t[h].value===a){t[h].selected=!0,l&&(t[h].defaultSelected=!0);return}i!==null||t[h].disabled||(i=t[h])}i!==null&&(i.selected=!0)}}function $u(t,i,a){if(i!=null&&(i=""+Pt(i),i!==t.value&&(t.value=i),a==null)){t.defaultValue!==i&&(t.defaultValue=i);return}t.defaultValue=a!=null?""+Pt(a):""}function Sr(t,i,a,l){if(i==null){if(l!=null){if(a!=null)throw Error(s(92));if($e(l)){if(1<l.length)throw Error(s(93));l=l[0]}a=l}a==null&&(a=""),i=a}a=Pt(i),t.defaultValue=a,l=t.textContent,l===a&&l!==""&&l!==null&&(t.value=l),Ze(t)}function sn(t,i){if(i){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=i;return}}t.textContent=i}var Qu=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Jo(t,i,a){var l=i.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?t.setProperty(i,""):i==="float"?t.cssFloat="":t[i]="":l?t.setProperty(i,a):typeof a!="number"||a===0||Qu.has(i)?i==="float"?t.cssFloat=a:t[i]=(""+a).trim():t[i]=a+"px"}function Wo(t,i,a){if(i!=null&&typeof i!="object")throw Error(s(62));if(t=t.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||i!=null&&i.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var h in i)l=i[h],i.hasOwnProperty(h)&&a[h]!==l&&Jo(t,h,l)}else for(var d in i)i.hasOwnProperty(d)&&Jo(t,d,i[d])}function Ia(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Yu=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Ar=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Na(t){return Ar.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function $n(){}var el=null;function Rn(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var wr=null,_i=null;function Ds(t){var i=wn(t);if(i&&(t=i.stateNode)){var a=t[Lt]||null;e:switch(t=i.stateNode,i.type){case"input":if(xa(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),i=a.name,a.type==="radio"&&i!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+rn(""+i)+'"][type="radio"]'),i=0;i<a.length;i++){var l=a[i];if(l!==t&&l.form===t.form){var h=l[Lt]||null;if(!h)throw Error(s(90));xa(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(i=0;i<a.length;i++)l=a[i],l.form===t.form&&Is(l)}break e;case"textarea":$u(t,a.value,a.defaultValue);break e;case"select":i=a.value,i!=null&&br(t,!!a.multiple,i,!1)}}}var Da=!1;function Rr(t,i,a){if(Da)return t(i,a);Da=!0;try{var l=t(i);return l}finally{if(Da=!1,(wr!==null||_i!==null)&&(Bc(),wr&&(i=wr,t=_i,_i=wr=null,Ds(i),t)))for(i=0;i<t.length;i++)Ds(t[i])}}function Qn(t,i){var a=t.stateNode;if(a===null)return null;var l=a[Lt]||null;if(l===null)return null;a=l[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break e;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(s(231,i,typeof a));return a}var Cn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Os=!1;if(Cn)try{var tt={};Object.defineProperty(tt,"passive",{get:function(){Os=!0}}),window.addEventListener("test",tt,tt),window.removeEventListener("test",tt,tt)}catch{Os=!1}var vi=null,tl=null,Ms=null;function nl(){if(Ms)return Ms;var t,i=tl,a=i.length,l,h="value"in vi?vi.value:vi.textContent,d=h.length;for(t=0;t<a&&i[t]===h[t];t++);var _=a-t;for(l=1;l<=_&&i[a-l]===h[d-l];l++);return Ms=h.slice(t,1<l?1-l:void 0)}function Vs(t){var i=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&i===13&&(t=13)):t=i,t===10&&(t=13),32<=t||t===13?t:0}function Bi(){return!0}function Yn(){return!1}function Bt(t){function i(a,l,h,d,_){this._reactName=a,this._targetInst=h,this.type=l,this.nativeEvent=d,this.target=_,this.currentTarget=null;for(var T in t)t.hasOwnProperty(T)&&(a=t[T],this[T]=a?a(d):d[T]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?Bi:Yn,this.isPropagationStopped=Yn,this}return S(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Bi)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Bi)},persist:function(){},isPersistent:Bi}),i}var qi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ei=Bt(qi),Cr=S({},qi,{view:0,detail:0}),il=Bt(Cr),xr,Oa,Ti,Ma=S({},Cr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ir,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Ti&&(Ti&&t.type==="mousemove"?(xr=t.screenX-Ti.screenX,Oa=t.screenY-Ti.screenY):Oa=xr=0,Ti=t),xr)},movementY:function(t){return"movementY"in t?t.movementY:Oa}}),rl=Bt(Ma),ks=S({},Ma,{dataTransfer:0}),Ku=Bt(ks),Xu=S({},Cr,{relatedTarget:0}),Ls=Bt(Xu),sl=S({},qi,{animationName:0,elapsedTime:0,pseudoElement:0}),Zu=Bt(sl),Va=S({},qi,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Ju=Bt(Va),Wu=S({},qi,{data:0}),bi=Bt(Wu),ec={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},tc={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},nc={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ic(t){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(t):(t=nc[t])?!!i[t]:!1}function Ir(){return ic}var tn=S({},Cr,{key:function(t){if(t.key){var i=ec[t.key]||t.key;if(i!=="Unidentified")return i}return t.type==="keypress"?(t=Vs(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?tc[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ir,charCode:function(t){return t.type==="keypress"?Vs(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Vs(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),rc=Bt(tn),sc=S({},Ma,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Hi=Bt(sc),c=S({},Cr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ir}),g=Bt(c),v=S({},qi,{propertyName:0,elapsedTime:0,pseudoElement:0}),A=Bt(v),z=S({},Ma,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),G=Bt(z),oe=S({},qi,{newState:0,oldState:0}),Ie=Bt(oe),gt=[9,13,27,32],Qe=Cn&&"CompositionEvent"in window,ct=null;Cn&&"documentMode"in document&&(ct=document.documentMode);var xn=Cn&&"TextEvent"in window&&!ct,Si=Cn&&(!Qe||ct&&8<ct&&11>=ct),Kn=" ",Xn=!1;function Ps(t,i){switch(t){case"keyup":return gt.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ka(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var La=!1;function aS(t,i){switch(t){case"compositionend":return ka(i);case"keypress":return i.which!==32?null:(Xn=!0,Kn);case"textInput":return t=i.data,t===Kn&&Xn?null:t;default:return null}}function oS(t,i){if(La)return t==="compositionend"||!Qe&&Ps(t,i)?(t=nl(),Ms=tl=vi=null,La=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return Si&&i.locale!=="ko"?null:i.data;default:return null}}var lS={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ng(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i==="input"?!!lS[t.type]:i==="textarea"}function Dg(t,i,a,l){wr?_i?_i.push(l):_i=[l]:wr=l,i=Yc(i,"onChange"),0<i.length&&(a=new Ei("onChange","change",null,a,l),t.push({event:a,listeners:i}))}var al=null,ol=null;function uS(t){dv(t,0)}function ac(t){var i=pn(t);if(Is(i))return t}function Og(t,i){if(t==="change")return i}var Mg=!1;if(Cn){var Nf;if(Cn){var Df="oninput"in document;if(!Df){var Vg=document.createElement("div");Vg.setAttribute("oninput","return;"),Df=typeof Vg.oninput=="function"}Nf=Df}else Nf=!1;Mg=Nf&&(!document.documentMode||9<document.documentMode)}function kg(){al&&(al.detachEvent("onpropertychange",Lg),ol=al=null)}function Lg(t){if(t.propertyName==="value"&&ac(ol)){var i=[];Dg(i,ol,t,Rn(t)),Rr(uS,i)}}function cS(t,i,a){t==="focusin"?(kg(),al=i,ol=a,al.attachEvent("onpropertychange",Lg)):t==="focusout"&&kg()}function hS(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return ac(ol)}function fS(t,i){if(t==="click")return ac(i)}function dS(t,i){if(t==="input"||t==="change")return ac(i)}function mS(t,i){return t===i&&(t!==0||1/t===1/i)||t!==t&&i!==i}var yn=typeof Object.is=="function"?Object.is:mS;function ll(t,i){if(yn(t,i))return!0;if(typeof t!="object"||t===null||typeof i!="object"||i===null)return!1;var a=Object.keys(t),l=Object.keys(i);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var h=a[l];if(!Et.call(i,h)||!yn(t[h],i[h]))return!1}return!0}function Pg(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Ug(t,i){var a=Pg(t);t=0;for(var l;a;){if(a.nodeType===3){if(l=t+a.textContent.length,t<=i&&l>=i)return{node:a,offset:i-t};t=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=Pg(a)}}function jg(t,i){return t&&i?t===i?!0:t&&t.nodeType===3?!1:i&&i.nodeType===3?jg(t,i.parentNode):"contains"in t?t.contains(i):t.compareDocumentPosition?!!(t.compareDocumentPosition(i)&16):!1:!1}function zg(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var i=yi(t.document);i instanceof t.HTMLIFrameElement;){try{var a=typeof i.contentWindow.location.href=="string"}catch{a=!1}if(a)t=i.contentWindow;else break;i=yi(t.document)}return i}function Of(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i&&(i==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||i==="textarea"||t.contentEditable==="true")}var pS=Cn&&"documentMode"in document&&11>=document.documentMode,Pa=null,Mf=null,ul=null,Vf=!1;function Bg(t,i,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Vf||Pa==null||Pa!==yi(l)||(l=Pa,"selectionStart"in l&&Of(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),ul&&ll(ul,l)||(ul=l,l=Yc(Mf,"onSelect"),0<l.length&&(i=new Ei("onSelect","select",null,i,a),t.push({event:i,listeners:l}),i.target=Pa)))}function Us(t,i){var a={};return a[t.toLowerCase()]=i.toLowerCase(),a["Webkit"+t]="webkit"+i,a["Moz"+t]="moz"+i,a}var Ua={animationend:Us("Animation","AnimationEnd"),animationiteration:Us("Animation","AnimationIteration"),animationstart:Us("Animation","AnimationStart"),transitionrun:Us("Transition","TransitionRun"),transitionstart:Us("Transition","TransitionStart"),transitioncancel:Us("Transition","TransitionCancel"),transitionend:Us("Transition","TransitionEnd")},kf={},qg={};Cn&&(qg=document.createElement("div").style,"AnimationEvent"in window||(delete Ua.animationend.animation,delete Ua.animationiteration.animation,delete Ua.animationstart.animation),"TransitionEvent"in window||delete Ua.transitionend.transition);function js(t){if(kf[t])return kf[t];if(!Ua[t])return t;var i=Ua[t],a;for(a in i)if(i.hasOwnProperty(a)&&a in qg)return kf[t]=i[a];return t}var Hg=js("animationend"),Fg=js("animationiteration"),Gg=js("animationstart"),gS=js("transitionrun"),yS=js("transitionstart"),_S=js("transitioncancel"),$g=js("transitionend"),Qg=new Map,Lf="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Lf.push("scrollEnd");function Zn(t,i){Qg.set(t,i),pi(i,[t])}var oc=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},In=[],ja=0,Pf=0;function lc(){for(var t=ja,i=Pf=ja=0;i<t;){var a=In[i];In[i++]=null;var l=In[i];In[i++]=null;var h=In[i];In[i++]=null;var d=In[i];if(In[i++]=null,l!==null&&h!==null){var _=l.pending;_===null?h.next=h:(h.next=_.next,_.next=h),l.pending=h}d!==0&&Yg(a,h,d)}}function uc(t,i,a,l){In[ja++]=t,In[ja++]=i,In[ja++]=a,In[ja++]=l,Pf|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function Uf(t,i,a,l){return uc(t,i,a,l),cc(t)}function zs(t,i){return uc(t,null,null,i),cc(t)}function Yg(t,i,a){t.lanes|=a;var l=t.alternate;l!==null&&(l.lanes|=a);for(var h=!1,d=t.return;d!==null;)d.childLanes|=a,l=d.alternate,l!==null&&(l.childLanes|=a),d.tag===22&&(t=d.stateNode,t===null||t._visibility&1||(h=!0)),t=d,d=d.return;return t.tag===3?(d=t.stateNode,h&&i!==null&&(h=31-pt(a),t=d.hiddenUpdates,l=t[h],l===null?t[h]=[i]:l.push(i),i.lane=a|536870912),d):null}function cc(t){if(50<Dl)throw Dl=0,Qd=null,Error(s(185));for(var i=t.return;i!==null;)t=i,i=t.return;return t.tag===3?t.stateNode:null}var za={};function vS(t,i,a,l){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function _n(t,i,a,l){return new vS(t,i,a,l)}function jf(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Fi(t,i){var a=t.alternate;return a===null?(a=_n(t.tag,i,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=i,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,i=t.dependencies,a.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function Kg(t,i){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=i,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,i=a.dependencies,t.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),t}function hc(t,i,a,l,h,d){var _=0;if(l=t,typeof t=="function")jf(t)&&(_=1);else if(typeof t=="string")_=AA(t,a,ne.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case I:return t=_n(31,a,i,h),t.elementType=I,t.lanes=d,t;case Y:return Bs(a.children,h,d,i);case $:_=8,h|=24;break;case se:return t=_n(12,a,i,h|2),t.elementType=se,t.lanes=d,t;case ce:return t=_n(13,a,i,h),t.elementType=ce,t.lanes=d,t;case pe:return t=_n(19,a,i,h),t.elementType=pe,t.lanes=d,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case re:_=10;break e;case ie:_=9;break e;case ge:_=11;break e;case x:_=14;break e;case w:_=16,l=null;break e}_=29,a=Error(s(130,t===null?"null":typeof t,"")),l=null}return i=_n(_,a,i,h),i.elementType=t,i.type=l,i.lanes=d,i}function Bs(t,i,a,l){return t=_n(7,t,l,i),t.lanes=a,t}function zf(t,i,a){return t=_n(6,t,null,i),t.lanes=a,t}function Xg(t){var i=_n(18,null,null,0);return i.stateNode=t,i}function Bf(t,i,a){return i=_n(4,t.children!==null?t.children:[],t.key,i),i.lanes=a,i.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},i}var Zg=new WeakMap;function Nn(t,i){if(typeof t=="object"&&t!==null){var a=Zg.get(t);return a!==void 0?a:(i={value:t,source:i,stack:zo(i)},Zg.set(t,i),i)}return{value:t,source:i,stack:zo(i)}}var Ba=[],qa=0,fc=null,cl=0,Dn=[],On=0,Nr=null,Ai=1,wi="";function Gi(t,i){Ba[qa++]=cl,Ba[qa++]=fc,fc=t,cl=i}function Jg(t,i,a){Dn[On++]=Ai,Dn[On++]=wi,Dn[On++]=Nr,Nr=t;var l=Ai;t=wi;var h=32-pt(l)-1;l&=~(1<<h),a+=1;var d=32-pt(i)+h;if(30<d){var _=h-h%5;d=(l&(1<<_)-1).toString(32),l>>=_,h-=_,Ai=1<<32-pt(i)+h|a<<h|l,wi=d+t}else Ai=1<<d|a<<h|l,wi=t}function qf(t){t.return!==null&&(Gi(t,1),Jg(t,1,0))}function Hf(t){for(;t===fc;)fc=Ba[--qa],Ba[qa]=null,cl=Ba[--qa],Ba[qa]=null;for(;t===Nr;)Nr=Dn[--On],Dn[On]=null,wi=Dn[--On],Dn[On]=null,Ai=Dn[--On],Dn[On]=null}function Wg(t,i){Dn[On++]=Ai,Dn[On++]=wi,Dn[On++]=Nr,Ai=i.id,wi=i.overflow,Nr=t}var qt=null,lt=null,ze=!1,Dr=null,Mn=!1,Ff=Error(s(519));function Or(t){var i=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw hl(Nn(i,t)),Ff}function ey(t){var i=t.stateNode,a=t.type,l=t.memoizedProps;switch(i[bt]=t,i[Lt]=l,a){case"dialog":Ve("cancel",i),Ve("close",i);break;case"iframe":case"object":case"embed":Ve("load",i);break;case"video":case"audio":for(a=0;a<Ml.length;a++)Ve(Ml[a],i);break;case"source":Ve("error",i);break;case"img":case"image":case"link":Ve("error",i),Ve("load",i);break;case"details":Ve("toggle",i);break;case"input":Ve("invalid",i),Gu(i,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":Ve("invalid",i);break;case"textarea":Ve("invalid",i),Sr(i,l.value,l.defaultValue,l.children)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||i.textContent===""+a||l.suppressHydrationWarning===!0||yv(i.textContent,a)?(l.popover!=null&&(Ve("beforetoggle",i),Ve("toggle",i)),l.onScroll!=null&&Ve("scroll",i),l.onScrollEnd!=null&&Ve("scrollend",i),l.onClick!=null&&(i.onclick=$n),i=!0):i=!1,i||Or(t,!0)}function ty(t){for(qt=t.return;qt;)switch(qt.tag){case 5:case 31:case 13:Mn=!1;return;case 27:case 3:Mn=!0;return;default:qt=qt.return}}function Ha(t){if(t!==qt)return!1;if(!ze)return ty(t),ze=!0,!1;var i=t.tag,a;if((a=i!==3&&i!==27)&&((a=i===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||lm(t.type,t.memoizedProps)),a=!a),a&&lt&&Or(t),ty(t),i===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));lt=Rv(t)}else if(i===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));lt=Rv(t)}else i===27?(i=lt,$r(t.type)?(t=dm,dm=null,lt=t):lt=i):lt=qt?kn(t.stateNode.nextSibling):null;return!0}function qs(){lt=qt=null,ze=!1}function Gf(){var t=Dr;return t!==null&&(un===null?un=t:un.push.apply(un,t),Dr=null),t}function hl(t){Dr===null?Dr=[t]:Dr.push(t)}var $f=V(null),Hs=null,$i=null;function Mr(t,i,a){j($f,i._currentValue),i._currentValue=a}function Qi(t){t._currentValue=$f.current,Z($f)}function Qf(t,i,a){for(;t!==null;){var l=t.alternate;if((t.childLanes&i)!==i?(t.childLanes|=i,l!==null&&(l.childLanes|=i)):l!==null&&(l.childLanes&i)!==i&&(l.childLanes|=i),t===a)break;t=t.return}}function Yf(t,i,a,l){var h=t.child;for(h!==null&&(h.return=t);h!==null;){var d=h.dependencies;if(d!==null){var _=h.child;d=d.firstContext;e:for(;d!==null;){var T=d;d=h;for(var N=0;N<i.length;N++)if(T.context===i[N]){d.lanes|=a,T=d.alternate,T!==null&&(T.lanes|=a),Qf(d.return,a,t),l||(_=null);break e}d=T.next}}else if(h.tag===18){if(_=h.return,_===null)throw Error(s(341));_.lanes|=a,d=_.alternate,d!==null&&(d.lanes|=a),Qf(_,a,t),_=null}else _=h.child;if(_!==null)_.return=h;else for(_=h;_!==null;){if(_===t){_=null;break}if(h=_.sibling,h!==null){h.return=_.return,_=h;break}_=_.return}h=_}}function Fa(t,i,a,l){t=null;for(var h=i,d=!1;h!==null;){if(!d){if((h.flags&524288)!==0)d=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var _=h.alternate;if(_===null)throw Error(s(387));if(_=_.memoizedProps,_!==null){var T=h.type;yn(h.pendingProps.value,_.value)||(t!==null?t.push(T):t=[T])}}else if(h===Te.current){if(_=h.alternate,_===null)throw Error(s(387));_.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(t!==null?t.push(Ul):t=[Ul])}h=h.return}t!==null&&Yf(i,t,a,l),i.flags|=262144}function dc(t){for(t=t.firstContext;t!==null;){if(!yn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Fs(t){Hs=t,$i=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Ht(t){return ny(Hs,t)}function mc(t,i){return Hs===null&&Fs(t),ny(t,i)}function ny(t,i){var a=i._currentValue;if(i={context:i,memoizedValue:a,next:null},$i===null){if(t===null)throw Error(s(308));$i=i,t.dependencies={lanes:0,firstContext:i},t.flags|=524288}else $i=$i.next=i;return a}var ES=typeof AbortController<"u"?AbortController:function(){var t=[],i=this.signal={aborted:!1,addEventListener:function(a,l){t.push(l)}};this.abort=function(){i.aborted=!0,t.forEach(function(a){return a()})}},TS=r.unstable_scheduleCallback,bS=r.unstable_NormalPriority,wt={$$typeof:re,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Kf(){return{controller:new ES,data:new Map,refCount:0}}function fl(t){t.refCount--,t.refCount===0&&TS(bS,function(){t.controller.abort()})}var dl=null,Xf=0,Ga=0,$a=null;function SS(t,i){if(dl===null){var a=dl=[];Xf=0,Ga=Wd(),$a={status:"pending",value:void 0,then:function(l){a.push(l)}}}return Xf++,i.then(iy,iy),i}function iy(){if(--Xf===0&&dl!==null){$a!==null&&($a.status="fulfilled");var t=dl;dl=null,Ga=0,$a=null;for(var i=0;i<t.length;i++)(0,t[i])()}}function AS(t,i){var a=[],l={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return t.then(function(){l.status="fulfilled",l.value=i;for(var h=0;h<a.length;h++)(0,a[h])(i)},function(h){for(l.status="rejected",l.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),l}var ry=K.S;K.S=function(t,i){B_=en(),typeof i=="object"&&i!==null&&typeof i.then=="function"&&SS(t,i),ry!==null&&ry(t,i)};var Gs=V(null);function Zf(){var t=Gs.current;return t!==null?t:st.pooledCache}function pc(t,i){i===null?j(Gs,Gs.current):j(Gs,i.pool)}function sy(){var t=Zf();return t===null?null:{parent:wt._currentValue,pool:t}}var Qa=Error(s(460)),Jf=Error(s(474)),gc=Error(s(542)),yc={then:function(){}};function ay(t){return t=t.status,t==="fulfilled"||t==="rejected"}function oy(t,i,a){switch(a=t[a],a===void 0?t.push(i):a!==i&&(i.then($n,$n),i=a),i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,uy(t),t;default:if(typeof i.status=="string")i.then($n,$n);else{if(t=st,t!==null&&100<t.shellSuspendCounter)throw Error(s(482));t=i,t.status="pending",t.then(function(l){if(i.status==="pending"){var h=i;h.status="fulfilled",h.value=l}},function(l){if(i.status==="pending"){var h=i;h.status="rejected",h.reason=l}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,uy(t),t}throw Qs=i,Qa}}function $s(t){try{var i=t._init;return i(t._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(Qs=a,Qa):a}}var Qs=null;function ly(){if(Qs===null)throw Error(s(459));var t=Qs;return Qs=null,t}function uy(t){if(t===Qa||t===gc)throw Error(s(483))}var Ya=null,ml=0;function _c(t){var i=ml;return ml+=1,Ya===null&&(Ya=[]),oy(Ya,t,i)}function pl(t,i){i=i.props.ref,t.ref=i!==void 0?i:null}function vc(t,i){throw i.$$typeof===R?Error(s(525)):(t=Object.prototype.toString.call(i),Error(s(31,t==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":t)))}function cy(t){function i(U,L){if(t){var q=U.deletions;q===null?(U.deletions=[L],U.flags|=16):q.push(L)}}function a(U,L){if(!t)return null;for(;L!==null;)i(U,L),L=L.sibling;return null}function l(U){for(var L=new Map;U!==null;)U.key!==null?L.set(U.key,U):L.set(U.index,U),U=U.sibling;return L}function h(U,L){return U=Fi(U,L),U.index=0,U.sibling=null,U}function d(U,L,q){return U.index=q,t?(q=U.alternate,q!==null?(q=q.index,q<L?(U.flags|=67108866,L):q):(U.flags|=67108866,L)):(U.flags|=1048576,L)}function _(U){return t&&U.alternate===null&&(U.flags|=67108866),U}function T(U,L,q,J){return L===null||L.tag!==6?(L=zf(q,U.mode,J),L.return=U,L):(L=h(L,q),L.return=U,L)}function N(U,L,q,J){var _e=q.type;return _e===Y?X(U,L,q.props.children,J,q.key):L!==null&&(L.elementType===_e||typeof _e=="object"&&_e!==null&&_e.$$typeof===w&&$s(_e)===L.type)?(L=h(L,q.props),pl(L,q),L.return=U,L):(L=hc(q.type,q.key,q.props,null,U.mode,J),pl(L,q),L.return=U,L)}function H(U,L,q,J){return L===null||L.tag!==4||L.stateNode.containerInfo!==q.containerInfo||L.stateNode.implementation!==q.implementation?(L=Bf(q,U.mode,J),L.return=U,L):(L=h(L,q.children||[]),L.return=U,L)}function X(U,L,q,J,_e){return L===null||L.tag!==7?(L=Bs(q,U.mode,J,_e),L.return=U,L):(L=h(L,q),L.return=U,L)}function W(U,L,q){if(typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint")return L=zf(""+L,U.mode,q),L.return=U,L;if(typeof L=="object"&&L!==null){switch(L.$$typeof){case O:return q=hc(L.type,L.key,L.props,null,U.mode,q),pl(q,L),q.return=U,q;case B:return L=Bf(L,U.mode,q),L.return=U,L;case w:return L=$s(L),W(U,L,q)}if($e(L)||P(L))return L=Bs(L,U.mode,q,null),L.return=U,L;if(typeof L.then=="function")return W(U,_c(L),q);if(L.$$typeof===re)return W(U,mc(U,L),q);vc(U,L)}return null}function F(U,L,q,J){var _e=L!==null?L.key:null;if(typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint")return _e!==null?null:T(U,L,""+q,J);if(typeof q=="object"&&q!==null){switch(q.$$typeof){case O:return q.key===_e?N(U,L,q,J):null;case B:return q.key===_e?H(U,L,q,J):null;case w:return q=$s(q),F(U,L,q,J)}if($e(q)||P(q))return _e!==null?null:X(U,L,q,J,null);if(typeof q.then=="function")return F(U,L,_c(q),J);if(q.$$typeof===re)return F(U,L,mc(U,q),J);vc(U,q)}return null}function Q(U,L,q,J,_e){if(typeof J=="string"&&J!==""||typeof J=="number"||typeof J=="bigint")return U=U.get(q)||null,T(L,U,""+J,_e);if(typeof J=="object"&&J!==null){switch(J.$$typeof){case O:return U=U.get(J.key===null?q:J.key)||null,N(L,U,J,_e);case B:return U=U.get(J.key===null?q:J.key)||null,H(L,U,J,_e);case w:return J=$s(J),Q(U,L,q,J,_e)}if($e(J)||P(J))return U=U.get(q)||null,X(L,U,J,_e,null);if(typeof J.then=="function")return Q(U,L,q,_c(J),_e);if(J.$$typeof===re)return Q(U,L,q,mc(L,J),_e);vc(L,J)}return null}function fe(U,L,q,J){for(var _e=null,Fe=null,me=L,De=L=0,Le=null;me!==null&&De<q.length;De++){me.index>De?(Le=me,me=null):Le=me.sibling;var Ge=F(U,me,q[De],J);if(Ge===null){me===null&&(me=Le);break}t&&me&&Ge.alternate===null&&i(U,me),L=d(Ge,L,De),Fe===null?_e=Ge:Fe.sibling=Ge,Fe=Ge,me=Le}if(De===q.length)return a(U,me),ze&&Gi(U,De),_e;if(me===null){for(;De<q.length;De++)me=W(U,q[De],J),me!==null&&(L=d(me,L,De),Fe===null?_e=me:Fe.sibling=me,Fe=me);return ze&&Gi(U,De),_e}for(me=l(me);De<q.length;De++)Le=Q(me,U,De,q[De],J),Le!==null&&(t&&Le.alternate!==null&&me.delete(Le.key===null?De:Le.key),L=d(Le,L,De),Fe===null?_e=Le:Fe.sibling=Le,Fe=Le);return t&&me.forEach(function(Zr){return i(U,Zr)}),ze&&Gi(U,De),_e}function Ee(U,L,q,J){if(q==null)throw Error(s(151));for(var _e=null,Fe=null,me=L,De=L=0,Le=null,Ge=q.next();me!==null&&!Ge.done;De++,Ge=q.next()){me.index>De?(Le=me,me=null):Le=me.sibling;var Zr=F(U,me,Ge.value,J);if(Zr===null){me===null&&(me=Le);break}t&&me&&Zr.alternate===null&&i(U,me),L=d(Zr,L,De),Fe===null?_e=Zr:Fe.sibling=Zr,Fe=Zr,me=Le}if(Ge.done)return a(U,me),ze&&Gi(U,De),_e;if(me===null){for(;!Ge.done;De++,Ge=q.next())Ge=W(U,Ge.value,J),Ge!==null&&(L=d(Ge,L,De),Fe===null?_e=Ge:Fe.sibling=Ge,Fe=Ge);return ze&&Gi(U,De),_e}for(me=l(me);!Ge.done;De++,Ge=q.next())Ge=Q(me,U,De,Ge.value,J),Ge!==null&&(t&&Ge.alternate!==null&&me.delete(Ge.key===null?De:Ge.key),L=d(Ge,L,De),Fe===null?_e=Ge:Fe.sibling=Ge,Fe=Ge);return t&&me.forEach(function(kA){return i(U,kA)}),ze&&Gi(U,De),_e}function rt(U,L,q,J){if(typeof q=="object"&&q!==null&&q.type===Y&&q.key===null&&(q=q.props.children),typeof q=="object"&&q!==null){switch(q.$$typeof){case O:e:{for(var _e=q.key;L!==null;){if(L.key===_e){if(_e=q.type,_e===Y){if(L.tag===7){a(U,L.sibling),J=h(L,q.props.children),J.return=U,U=J;break e}}else if(L.elementType===_e||typeof _e=="object"&&_e!==null&&_e.$$typeof===w&&$s(_e)===L.type){a(U,L.sibling),J=h(L,q.props),pl(J,q),J.return=U,U=J;break e}a(U,L);break}else i(U,L);L=L.sibling}q.type===Y?(J=Bs(q.props.children,U.mode,J,q.key),J.return=U,U=J):(J=hc(q.type,q.key,q.props,null,U.mode,J),pl(J,q),J.return=U,U=J)}return _(U);case B:e:{for(_e=q.key;L!==null;){if(L.key===_e)if(L.tag===4&&L.stateNode.containerInfo===q.containerInfo&&L.stateNode.implementation===q.implementation){a(U,L.sibling),J=h(L,q.children||[]),J.return=U,U=J;break e}else{a(U,L);break}else i(U,L);L=L.sibling}J=Bf(q,U.mode,J),J.return=U,U=J}return _(U);case w:return q=$s(q),rt(U,L,q,J)}if($e(q))return fe(U,L,q,J);if(P(q)){if(_e=P(q),typeof _e!="function")throw Error(s(150));return q=_e.call(q),Ee(U,L,q,J)}if(typeof q.then=="function")return rt(U,L,_c(q),J);if(q.$$typeof===re)return rt(U,L,mc(U,q),J);vc(U,q)}return typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint"?(q=""+q,L!==null&&L.tag===6?(a(U,L.sibling),J=h(L,q),J.return=U,U=J):(a(U,L),J=zf(q,U.mode,J),J.return=U,U=J),_(U)):a(U,L)}return function(U,L,q,J){try{ml=0;var _e=rt(U,L,q,J);return Ya=null,_e}catch(me){if(me===Qa||me===gc)throw me;var Fe=_n(29,me,null,U.mode);return Fe.lanes=J,Fe.return=U,Fe}finally{}}}var Ys=cy(!0),hy=cy(!1),Vr=!1;function Wf(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function ed(t,i){t=t.updateQueue,i.updateQueue===t&&(i.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function kr(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Lr(t,i,a){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(Ye&2)!==0){var h=l.pending;return h===null?i.next=i:(i.next=h.next,h.next=i),l.pending=i,i=cc(t),Yg(t,null,a),i}return uc(t,l,i,a),cc(t)}function gl(t,i,a){if(i=i.updateQueue,i!==null&&(i=i.shared,(a&4194048)!==0)){var l=i.lanes;l&=t.pendingLanes,a|=l,i.lanes=a,Ho(t,a)}}function td(t,i){var a=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var h=null,d=null;if(a=a.firstBaseUpdate,a!==null){do{var _={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};d===null?h=d=_:d=d.next=_,a=a.next}while(a!==null);d===null?h=d=i:d=d.next=i}else h=d=i;a={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=i:t.next=i,a.lastBaseUpdate=i}var nd=!1;function yl(){if(nd){var t=$a;if(t!==null)throw t}}function _l(t,i,a,l){nd=!1;var h=t.updateQueue;Vr=!1;var d=h.firstBaseUpdate,_=h.lastBaseUpdate,T=h.shared.pending;if(T!==null){h.shared.pending=null;var N=T,H=N.next;N.next=null,_===null?d=H:_.next=H,_=N;var X=t.alternate;X!==null&&(X=X.updateQueue,T=X.lastBaseUpdate,T!==_&&(T===null?X.firstBaseUpdate=H:T.next=H,X.lastBaseUpdate=N))}if(d!==null){var W=h.baseState;_=0,X=H=N=null,T=d;do{var F=T.lane&-536870913,Q=F!==T.lane;if(Q?(ke&F)===F:(l&F)===F){F!==0&&F===Ga&&(nd=!0),X!==null&&(X=X.next={lane:0,tag:T.tag,payload:T.payload,callback:null,next:null});e:{var fe=t,Ee=T;F=i;var rt=a;switch(Ee.tag){case 1:if(fe=Ee.payload,typeof fe=="function"){W=fe.call(rt,W,F);break e}W=fe;break e;case 3:fe.flags=fe.flags&-65537|128;case 0:if(fe=Ee.payload,F=typeof fe=="function"?fe.call(rt,W,F):fe,F==null)break e;W=S({},W,F);break e;case 2:Vr=!0}}F=T.callback,F!==null&&(t.flags|=64,Q&&(t.flags|=8192),Q=h.callbacks,Q===null?h.callbacks=[F]:Q.push(F))}else Q={lane:F,tag:T.tag,payload:T.payload,callback:T.callback,next:null},X===null?(H=X=Q,N=W):X=X.next=Q,_|=F;if(T=T.next,T===null){if(T=h.shared.pending,T===null)break;Q=T,T=Q.next,Q.next=null,h.lastBaseUpdate=Q,h.shared.pending=null}}while(!0);X===null&&(N=W),h.baseState=N,h.firstBaseUpdate=H,h.lastBaseUpdate=X,d===null&&(h.shared.lanes=0),Br|=_,t.lanes=_,t.memoizedState=W}}function fy(t,i){if(typeof t!="function")throw Error(s(191,t));t.call(i)}function dy(t,i){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)fy(a[t],i)}var Ka=V(null),Ec=V(0);function my(t,i){t=nr,j(Ec,t),j(Ka,i),nr=t|i.baseLanes}function id(){j(Ec,nr),j(Ka,Ka.current)}function rd(){nr=Ec.current,Z(Ka),Z(Ec)}var vn=V(null),Vn=null;function Pr(t){var i=t.alternate;j(yt,yt.current&1),j(vn,t),Vn===null&&(i===null||Ka.current!==null||i.memoizedState!==null)&&(Vn=t)}function sd(t){j(yt,yt.current),j(vn,t),Vn===null&&(Vn=t)}function py(t){t.tag===22?(j(yt,yt.current),j(vn,t),Vn===null&&(Vn=t)):Ur()}function Ur(){j(yt,yt.current),j(vn,vn.current)}function En(t){Z(vn),Vn===t&&(Vn=null),Z(yt)}var yt=V(0);function Tc(t){for(var i=t;i!==null;){if(i.tag===13){var a=i.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||hm(a)||fm(a)))return i}else if(i.tag===19&&(i.memoizedProps.revealOrder==="forwards"||i.memoizedProps.revealOrder==="backwards"||i.memoizedProps.revealOrder==="unstable_legacy-backwards"||i.memoizedProps.revealOrder==="together")){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var Yi=0,Ne=null,nt=null,Rt=null,bc=!1,Xa=!1,Ks=!1,Sc=0,vl=0,Za=null,wS=0;function dt(){throw Error(s(321))}function ad(t,i){if(i===null)return!1;for(var a=0;a<i.length&&a<t.length;a++)if(!yn(t[a],i[a]))return!1;return!0}function od(t,i,a,l,h,d){return Yi=d,Ne=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,K.H=t===null||t.memoizedState===null?Jy:bd,Ks=!1,d=a(l,h),Ks=!1,Xa&&(d=yy(i,a,l,h)),gy(t),d}function gy(t){K.H=bl;var i=nt!==null&&nt.next!==null;if(Yi=0,Rt=nt=Ne=null,bc=!1,vl=0,Za=null,i)throw Error(s(300));t===null||Ct||(t=t.dependencies,t!==null&&dc(t)&&(Ct=!0))}function yy(t,i,a,l){Ne=t;var h=0;do{if(Xa&&(Za=null),vl=0,Xa=!1,25<=h)throw Error(s(301));if(h+=1,Rt=nt=null,t.updateQueue!=null){var d=t.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}K.H=Wy,d=i(a,l)}while(Xa);return d}function RS(){var t=K.H,i=t.useState()[0];return i=typeof i.then=="function"?El(i):i,t=t.useState()[0],(nt!==null?nt.memoizedState:null)!==t&&(Ne.flags|=1024),i}function ld(){var t=Sc!==0;return Sc=0,t}function ud(t,i,a){i.updateQueue=t.updateQueue,i.flags&=-2053,t.lanes&=~a}function cd(t){if(bc){for(t=t.memoizedState;t!==null;){var i=t.queue;i!==null&&(i.pending=null),t=t.next}bc=!1}Yi=0,Rt=nt=Ne=null,Xa=!1,vl=Sc=0,Za=null}function nn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Rt===null?Ne.memoizedState=Rt=t:Rt=Rt.next=t,Rt}function _t(){if(nt===null){var t=Ne.alternate;t=t!==null?t.memoizedState:null}else t=nt.next;var i=Rt===null?Ne.memoizedState:Rt.next;if(i!==null)Rt=i,nt=t;else{if(t===null)throw Ne.alternate===null?Error(s(467)):Error(s(310));nt=t,t={memoizedState:nt.memoizedState,baseState:nt.baseState,baseQueue:nt.baseQueue,queue:nt.queue,next:null},Rt===null?Ne.memoizedState=Rt=t:Rt=Rt.next=t}return Rt}function Ac(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function El(t){var i=vl;return vl+=1,Za===null&&(Za=[]),t=oy(Za,t,i),i=Ne,(Rt===null?i.memoizedState:Rt.next)===null&&(i=i.alternate,K.H=i===null||i.memoizedState===null?Jy:bd),t}function wc(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return El(t);if(t.$$typeof===re)return Ht(t)}throw Error(s(438,String(t)))}function hd(t){var i=null,a=Ne.updateQueue;if(a!==null&&(i=a.memoCache),i==null){var l=Ne.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(i={data:l.data.map(function(h){return h.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),a===null&&(a=Ac(),Ne.updateQueue=a),a.memoCache=i,a=i.data[i.index],a===void 0)for(a=i.data[i.index]=Array(t),l=0;l<t;l++)a[l]=k;return i.index++,a}function Ki(t,i){return typeof i=="function"?i(t):i}function Rc(t){var i=_t();return fd(i,nt,t)}function fd(t,i,a){var l=t.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=a;var h=t.baseQueue,d=l.pending;if(d!==null){if(h!==null){var _=h.next;h.next=d.next,d.next=_}i.baseQueue=h=d,l.pending=null}if(d=t.baseState,h===null)t.memoizedState=d;else{i=h.next;var T=_=null,N=null,H=i,X=!1;do{var W=H.lane&-536870913;if(W!==H.lane?(ke&W)===W:(Yi&W)===W){var F=H.revertLane;if(F===0)N!==null&&(N=N.next={lane:0,revertLane:0,gesture:null,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null}),W===Ga&&(X=!0);else if((Yi&F)===F){H=H.next,F===Ga&&(X=!0);continue}else W={lane:0,revertLane:H.revertLane,gesture:null,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null},N===null?(T=N=W,_=d):N=N.next=W,Ne.lanes|=F,Br|=F;W=H.action,Ks&&a(d,W),d=H.hasEagerState?H.eagerState:a(d,W)}else F={lane:W,revertLane:H.revertLane,gesture:H.gesture,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null},N===null?(T=N=F,_=d):N=N.next=F,Ne.lanes|=W,Br|=W;H=H.next}while(H!==null&&H!==i);if(N===null?_=d:N.next=T,!yn(d,t.memoizedState)&&(Ct=!0,X&&(a=$a,a!==null)))throw a;t.memoizedState=d,t.baseState=_,t.baseQueue=N,l.lastRenderedState=d}return h===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function dd(t){var i=_t(),a=i.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=t;var l=a.dispatch,h=a.pending,d=i.memoizedState;if(h!==null){a.pending=null;var _=h=h.next;do d=t(d,_.action),_=_.next;while(_!==h);yn(d,i.memoizedState)||(Ct=!0),i.memoizedState=d,i.baseQueue===null&&(i.baseState=d),a.lastRenderedState=d}return[d,l]}function _y(t,i,a){var l=Ne,h=_t(),d=ze;if(d){if(a===void 0)throw Error(s(407));a=a()}else a=i();var _=!yn((nt||h).memoizedState,a);if(_&&(h.memoizedState=a,Ct=!0),h=h.queue,gd(Ty.bind(null,l,h,t),[t]),h.getSnapshot!==i||_||Rt!==null&&Rt.memoizedState.tag&1){if(l.flags|=2048,Ja(9,{destroy:void 0},Ey.bind(null,l,h,a,i),null),st===null)throw Error(s(349));d||(Yi&127)!==0||vy(l,i,a)}return a}function vy(t,i,a){t.flags|=16384,t={getSnapshot:i,value:a},i=Ne.updateQueue,i===null?(i=Ac(),Ne.updateQueue=i,i.stores=[t]):(a=i.stores,a===null?i.stores=[t]:a.push(t))}function Ey(t,i,a,l){i.value=a,i.getSnapshot=l,by(i)&&Sy(t)}function Ty(t,i,a){return a(function(){by(i)&&Sy(t)})}function by(t){var i=t.getSnapshot;t=t.value;try{var a=i();return!yn(t,a)}catch{return!0}}function Sy(t){var i=zs(t,2);i!==null&&cn(i,t,2)}function md(t){var i=nn();if(typeof t=="function"){var a=t;if(t=a(),Ks){An(!0);try{a()}finally{An(!1)}}}return i.memoizedState=i.baseState=t,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ki,lastRenderedState:t},i}function Ay(t,i,a,l){return t.baseState=a,fd(t,nt,typeof l=="function"?l:Ki)}function CS(t,i,a,l,h){if(Ic(t))throw Error(s(485));if(t=i.action,t!==null){var d={payload:h,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(_){d.listeners.push(_)}};K.T!==null?a(!0):d.isTransition=!1,l(d),a=i.pending,a===null?(d.next=i.pending=d,wy(i,d)):(d.next=a.next,i.pending=a.next=d)}}function wy(t,i){var a=i.action,l=i.payload,h=t.state;if(i.isTransition){var d=K.T,_={};K.T=_;try{var T=a(h,l),N=K.S;N!==null&&N(_,T),Ry(t,i,T)}catch(H){pd(t,i,H)}finally{d!==null&&_.types!==null&&(d.types=_.types),K.T=d}}else try{d=a(h,l),Ry(t,i,d)}catch(H){pd(t,i,H)}}function Ry(t,i,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){Cy(t,i,l)},function(l){return pd(t,i,l)}):Cy(t,i,a)}function Cy(t,i,a){i.status="fulfilled",i.value=a,xy(i),t.state=a,i=t.pending,i!==null&&(a=i.next,a===i?t.pending=null:(a=a.next,i.next=a,wy(t,a)))}function pd(t,i,a){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do i.status="rejected",i.reason=a,xy(i),i=i.next;while(i!==l)}t.action=null}function xy(t){t=t.listeners;for(var i=0;i<t.length;i++)(0,t[i])()}function Iy(t,i){return i}function Ny(t,i){if(ze){var a=st.formState;if(a!==null){e:{var l=Ne;if(ze){if(lt){t:{for(var h=lt,d=Mn;h.nodeType!==8;){if(!d){h=null;break t}if(h=kn(h.nextSibling),h===null){h=null;break t}}d=h.data,h=d==="F!"||d==="F"?h:null}if(h){lt=kn(h.nextSibling),l=h.data==="F!";break e}}Or(l)}l=!1}l&&(i=a[0])}}return a=nn(),a.memoizedState=a.baseState=i,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Iy,lastRenderedState:i},a.queue=l,a=Ky.bind(null,Ne,l),l.dispatch=a,l=md(!1),d=Td.bind(null,Ne,!1,l.queue),l=nn(),h={state:i,dispatch:null,action:t,pending:null},l.queue=h,a=CS.bind(null,Ne,h,d,a),h.dispatch=a,l.memoizedState=t,[i,a,!1]}function Dy(t){var i=_t();return Oy(i,nt,t)}function Oy(t,i,a){if(i=fd(t,i,Iy)[0],t=Rc(Ki)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var l=El(i)}catch(_){throw _===Qa?gc:_}else l=i;i=_t();var h=i.queue,d=h.dispatch;return a!==i.memoizedState&&(Ne.flags|=2048,Ja(9,{destroy:void 0},xS.bind(null,h,a),null)),[l,d,t]}function xS(t,i){t.action=i}function My(t){var i=_t(),a=nt;if(a!==null)return Oy(i,a,t);_t(),i=i.memoizedState,a=_t();var l=a.queue.dispatch;return a.memoizedState=t,[i,l,!1]}function Ja(t,i,a,l){return t={tag:t,create:a,deps:l,inst:i,next:null},i=Ne.updateQueue,i===null&&(i=Ac(),Ne.updateQueue=i),a=i.lastEffect,a===null?i.lastEffect=t.next=t:(l=a.next,a.next=t,t.next=l,i.lastEffect=t),t}function Vy(){return _t().memoizedState}function Cc(t,i,a,l){var h=nn();Ne.flags|=t,h.memoizedState=Ja(1|i,{destroy:void 0},a,l===void 0?null:l)}function xc(t,i,a,l){var h=_t();l=l===void 0?null:l;var d=h.memoizedState.inst;nt!==null&&l!==null&&ad(l,nt.memoizedState.deps)?h.memoizedState=Ja(i,d,a,l):(Ne.flags|=t,h.memoizedState=Ja(1|i,d,a,l))}function ky(t,i){Cc(8390656,8,t,i)}function gd(t,i){xc(2048,8,t,i)}function IS(t){Ne.flags|=4;var i=Ne.updateQueue;if(i===null)i=Ac(),Ne.updateQueue=i,i.events=[t];else{var a=i.events;a===null?i.events=[t]:a.push(t)}}function Ly(t){var i=_t().memoizedState;return IS({ref:i,nextImpl:t}),function(){if((Ye&2)!==0)throw Error(s(440));return i.impl.apply(void 0,arguments)}}function Py(t,i){return xc(4,2,t,i)}function Uy(t,i){return xc(4,4,t,i)}function jy(t,i){if(typeof i=="function"){t=t();var a=i(t);return function(){typeof a=="function"?a():i(null)}}if(i!=null)return t=t(),i.current=t,function(){i.current=null}}function zy(t,i,a){a=a!=null?a.concat([t]):null,xc(4,4,jy.bind(null,i,t),a)}function yd(){}function By(t,i){var a=_t();i=i===void 0?null:i;var l=a.memoizedState;return i!==null&&ad(i,l[1])?l[0]:(a.memoizedState=[t,i],t)}function qy(t,i){var a=_t();i=i===void 0?null:i;var l=a.memoizedState;if(i!==null&&ad(i,l[1]))return l[0];if(l=t(),Ks){An(!0);try{t()}finally{An(!1)}}return a.memoizedState=[l,i],l}function _d(t,i,a){return a===void 0||(Yi&1073741824)!==0&&(ke&261930)===0?t.memoizedState=i:(t.memoizedState=a,t=H_(),Ne.lanes|=t,Br|=t,a)}function Hy(t,i,a,l){return yn(a,i)?a:Ka.current!==null?(t=_d(t,a,l),yn(t,i)||(Ct=!0),t):(Yi&42)===0||(Yi&1073741824)!==0&&(ke&261930)===0?(Ct=!0,t.memoizedState=a):(t=H_(),Ne.lanes|=t,Br|=t,i)}function Fy(t,i,a,l,h){var d=ae.p;ae.p=d!==0&&8>d?d:8;var _=K.T,T={};K.T=T,Td(t,!1,i,a);try{var N=h(),H=K.S;if(H!==null&&H(T,N),N!==null&&typeof N=="object"&&typeof N.then=="function"){var X=AS(N,l);Tl(t,i,X,Sn(t))}else Tl(t,i,l,Sn(t))}catch(W){Tl(t,i,{then:function(){},status:"rejected",reason:W},Sn())}finally{ae.p=d,_!==null&&T.types!==null&&(_.types=T.types),K.T=_}}function NS(){}function vd(t,i,a,l){if(t.tag!==5)throw Error(s(476));var h=Gy(t).queue;Fy(t,h,i,de,a===null?NS:function(){return $y(t),a(l)})}function Gy(t){var i=t.memoizedState;if(i!==null)return i;i={memoizedState:de,baseState:de,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ki,lastRenderedState:de},next:null};var a={};return i.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ki,lastRenderedState:a},next:null},t.memoizedState=i,t=t.alternate,t!==null&&(t.memoizedState=i),i}function $y(t){var i=Gy(t);i.next===null&&(i=t.alternate.memoizedState),Tl(t,i.next.queue,{},Sn())}function Ed(){return Ht(Ul)}function Qy(){return _t().memoizedState}function Yy(){return _t().memoizedState}function DS(t){for(var i=t.return;i!==null;){switch(i.tag){case 24:case 3:var a=Sn();t=kr(a);var l=Lr(i,t,a);l!==null&&(cn(l,i,a),gl(l,i,a)),i={cache:Kf()},t.payload=i;return}i=i.return}}function OS(t,i,a){var l=Sn();a={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},Ic(t)?Xy(i,a):(a=Uf(t,i,a,l),a!==null&&(cn(a,t,l),Zy(a,i,l)))}function Ky(t,i,a){var l=Sn();Tl(t,i,a,l)}function Tl(t,i,a,l){var h={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(Ic(t))Xy(i,h);else{var d=t.alternate;if(t.lanes===0&&(d===null||d.lanes===0)&&(d=i.lastRenderedReducer,d!==null))try{var _=i.lastRenderedState,T=d(_,a);if(h.hasEagerState=!0,h.eagerState=T,yn(T,_))return uc(t,i,h,0),st===null&&lc(),!1}catch{}finally{}if(a=Uf(t,i,h,l),a!==null)return cn(a,t,l),Zy(a,i,l),!0}return!1}function Td(t,i,a,l){if(l={lane:2,revertLane:Wd(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},Ic(t)){if(i)throw Error(s(479))}else i=Uf(t,a,l,2),i!==null&&cn(i,t,2)}function Ic(t){var i=t.alternate;return t===Ne||i!==null&&i===Ne}function Xy(t,i){Xa=bc=!0;var a=t.pending;a===null?i.next=i:(i.next=a.next,a.next=i),t.pending=i}function Zy(t,i,a){if((a&4194048)!==0){var l=i.lanes;l&=t.pendingLanes,a|=l,i.lanes=a,Ho(t,a)}}var bl={readContext:Ht,use:wc,useCallback:dt,useContext:dt,useEffect:dt,useImperativeHandle:dt,useLayoutEffect:dt,useInsertionEffect:dt,useMemo:dt,useReducer:dt,useRef:dt,useState:dt,useDebugValue:dt,useDeferredValue:dt,useTransition:dt,useSyncExternalStore:dt,useId:dt,useHostTransitionStatus:dt,useFormState:dt,useActionState:dt,useOptimistic:dt,useMemoCache:dt,useCacheRefresh:dt};bl.useEffectEvent=dt;var Jy={readContext:Ht,use:wc,useCallback:function(t,i){return nn().memoizedState=[t,i===void 0?null:i],t},useContext:Ht,useEffect:ky,useImperativeHandle:function(t,i,a){a=a!=null?a.concat([t]):null,Cc(4194308,4,jy.bind(null,i,t),a)},useLayoutEffect:function(t,i){return Cc(4194308,4,t,i)},useInsertionEffect:function(t,i){Cc(4,2,t,i)},useMemo:function(t,i){var a=nn();i=i===void 0?null:i;var l=t();if(Ks){An(!0);try{t()}finally{An(!1)}}return a.memoizedState=[l,i],l},useReducer:function(t,i,a){var l=nn();if(a!==void 0){var h=a(i);if(Ks){An(!0);try{a(i)}finally{An(!1)}}}else h=i;return l.memoizedState=l.baseState=h,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:h},l.queue=t,t=t.dispatch=OS.bind(null,Ne,t),[l.memoizedState,t]},useRef:function(t){var i=nn();return t={current:t},i.memoizedState=t},useState:function(t){t=md(t);var i=t.queue,a=Ky.bind(null,Ne,i);return i.dispatch=a,[t.memoizedState,a]},useDebugValue:yd,useDeferredValue:function(t,i){var a=nn();return _d(a,t,i)},useTransition:function(){var t=md(!1);return t=Fy.bind(null,Ne,t.queue,!0,!1),nn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,i,a){var l=Ne,h=nn();if(ze){if(a===void 0)throw Error(s(407));a=a()}else{if(a=i(),st===null)throw Error(s(349));(ke&127)!==0||vy(l,i,a)}h.memoizedState=a;var d={value:a,getSnapshot:i};return h.queue=d,ky(Ty.bind(null,l,d,t),[t]),l.flags|=2048,Ja(9,{destroy:void 0},Ey.bind(null,l,d,a,i),null),a},useId:function(){var t=nn(),i=st.identifierPrefix;if(ze){var a=wi,l=Ai;a=(l&~(1<<32-pt(l)-1)).toString(32)+a,i="_"+i+"R_"+a,a=Sc++,0<a&&(i+="H"+a.toString(32)),i+="_"}else a=wS++,i="_"+i+"r_"+a.toString(32)+"_";return t.memoizedState=i},useHostTransitionStatus:Ed,useFormState:Ny,useActionState:Ny,useOptimistic:function(t){var i=nn();i.memoizedState=i.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=a,i=Td.bind(null,Ne,!0,a),a.dispatch=i,[t,i]},useMemoCache:hd,useCacheRefresh:function(){return nn().memoizedState=DS.bind(null,Ne)},useEffectEvent:function(t){var i=nn(),a={impl:t};return i.memoizedState=a,function(){if((Ye&2)!==0)throw Error(s(440));return a.impl.apply(void 0,arguments)}}},bd={readContext:Ht,use:wc,useCallback:By,useContext:Ht,useEffect:gd,useImperativeHandle:zy,useInsertionEffect:Py,useLayoutEffect:Uy,useMemo:qy,useReducer:Rc,useRef:Vy,useState:function(){return Rc(Ki)},useDebugValue:yd,useDeferredValue:function(t,i){var a=_t();return Hy(a,nt.memoizedState,t,i)},useTransition:function(){var t=Rc(Ki)[0],i=_t().memoizedState;return[typeof t=="boolean"?t:El(t),i]},useSyncExternalStore:_y,useId:Qy,useHostTransitionStatus:Ed,useFormState:Dy,useActionState:Dy,useOptimistic:function(t,i){var a=_t();return Ay(a,nt,t,i)},useMemoCache:hd,useCacheRefresh:Yy};bd.useEffectEvent=Ly;var Wy={readContext:Ht,use:wc,useCallback:By,useContext:Ht,useEffect:gd,useImperativeHandle:zy,useInsertionEffect:Py,useLayoutEffect:Uy,useMemo:qy,useReducer:dd,useRef:Vy,useState:function(){return dd(Ki)},useDebugValue:yd,useDeferredValue:function(t,i){var a=_t();return nt===null?_d(a,t,i):Hy(a,nt.memoizedState,t,i)},useTransition:function(){var t=dd(Ki)[0],i=_t().memoizedState;return[typeof t=="boolean"?t:El(t),i]},useSyncExternalStore:_y,useId:Qy,useHostTransitionStatus:Ed,useFormState:My,useActionState:My,useOptimistic:function(t,i){var a=_t();return nt!==null?Ay(a,nt,t,i):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:hd,useCacheRefresh:Yy};Wy.useEffectEvent=Ly;function Sd(t,i,a,l){i=t.memoizedState,a=a(l,i),a=a==null?i:S({},i,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var Ad={enqueueSetState:function(t,i,a){t=t._reactInternals;var l=Sn(),h=kr(l);h.payload=i,a!=null&&(h.callback=a),i=Lr(t,h,l),i!==null&&(cn(i,t,l),gl(i,t,l))},enqueueReplaceState:function(t,i,a){t=t._reactInternals;var l=Sn(),h=kr(l);h.tag=1,h.payload=i,a!=null&&(h.callback=a),i=Lr(t,h,l),i!==null&&(cn(i,t,l),gl(i,t,l))},enqueueForceUpdate:function(t,i){t=t._reactInternals;var a=Sn(),l=kr(a);l.tag=2,i!=null&&(l.callback=i),i=Lr(t,l,a),i!==null&&(cn(i,t,a),gl(i,t,a))}};function e_(t,i,a,l,h,d,_){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,d,_):i.prototype&&i.prototype.isPureReactComponent?!ll(a,l)||!ll(h,d):!0}function t_(t,i,a,l){t=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(a,l),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(a,l),i.state!==t&&Ad.enqueueReplaceState(i,i.state,null)}function Xs(t,i){var a=i;if("ref"in i){a={};for(var l in i)l!=="ref"&&(a[l]=i[l])}if(t=t.defaultProps){a===i&&(a=S({},a));for(var h in t)a[h]===void 0&&(a[h]=t[h])}return a}function n_(t){oc(t)}function i_(t){console.error(t)}function r_(t){oc(t)}function Nc(t,i){try{var a=t.onUncaughtError;a(i.value,{componentStack:i.stack})}catch(l){setTimeout(function(){throw l})}}function s_(t,i,a){try{var l=t.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function wd(t,i,a){return a=kr(a),a.tag=3,a.payload={element:null},a.callback=function(){Nc(t,i)},a}function a_(t){return t=kr(t),t.tag=3,t}function o_(t,i,a,l){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var d=l.value;t.payload=function(){return h(d)},t.callback=function(){s_(i,a,l)}}var _=a.stateNode;_!==null&&typeof _.componentDidCatch=="function"&&(t.callback=function(){s_(i,a,l),typeof h!="function"&&(qr===null?qr=new Set([this]):qr.add(this));var T=l.stack;this.componentDidCatch(l.value,{componentStack:T!==null?T:""})})}function MS(t,i,a,l,h){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(i=a.alternate,i!==null&&Fa(i,a,h,!0),a=vn.current,a!==null){switch(a.tag){case 31:case 13:return Vn===null?qc():a.alternate===null&&mt===0&&(mt=3),a.flags&=-257,a.flags|=65536,a.lanes=h,l===yc?a.flags|=16384:(i=a.updateQueue,i===null?a.updateQueue=new Set([l]):i.add(l),Xd(t,l,h)),!1;case 22:return a.flags|=65536,l===yc?a.flags|=16384:(i=a.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=i):(a=i.retryQueue,a===null?i.retryQueue=new Set([l]):a.add(l)),Xd(t,l,h)),!1}throw Error(s(435,a.tag))}return Xd(t,l,h),qc(),!1}if(ze)return i=vn.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=h,l!==Ff&&(t=Error(s(422),{cause:l}),hl(Nn(t,a)))):(l!==Ff&&(i=Error(s(423),{cause:l}),hl(Nn(i,a))),t=t.current.alternate,t.flags|=65536,h&=-h,t.lanes|=h,l=Nn(l,a),h=wd(t.stateNode,l,h),td(t,h),mt!==4&&(mt=2)),!1;var d=Error(s(520),{cause:l});if(d=Nn(d,a),Nl===null?Nl=[d]:Nl.push(d),mt!==4&&(mt=2),i===null)return!0;l=Nn(l,a),a=i;do{switch(a.tag){case 3:return a.flags|=65536,t=h&-h,a.lanes|=t,t=wd(a.stateNode,l,t),td(a,t),!1;case 1:if(i=a.type,d=a.stateNode,(a.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(qr===null||!qr.has(d))))return a.flags|=65536,h&=-h,a.lanes|=h,h=a_(h),o_(h,t,a,l),td(a,h),!1}a=a.return}while(a!==null);return!1}var Rd=Error(s(461)),Ct=!1;function Ft(t,i,a,l){i.child=t===null?hy(i,null,a,l):Ys(i,t.child,a,l)}function l_(t,i,a,l,h){a=a.render;var d=i.ref;if("ref"in l){var _={};for(var T in l)T!=="ref"&&(_[T]=l[T])}else _=l;return Fs(i),l=od(t,i,a,_,d,h),T=ld(),t!==null&&!Ct?(ud(t,i,h),Xi(t,i,h)):(ze&&T&&qf(i),i.flags|=1,Ft(t,i,l,h),i.child)}function u_(t,i,a,l,h){if(t===null){var d=a.type;return typeof d=="function"&&!jf(d)&&d.defaultProps===void 0&&a.compare===null?(i.tag=15,i.type=d,c_(t,i,d,l,h)):(t=hc(a.type,null,l,i,i.mode,h),t.ref=i.ref,t.return=i,i.child=t)}if(d=t.child,!Vd(t,h)){var _=d.memoizedProps;if(a=a.compare,a=a!==null?a:ll,a(_,l)&&t.ref===i.ref)return Xi(t,i,h)}return i.flags|=1,t=Fi(d,l),t.ref=i.ref,t.return=i,i.child=t}function c_(t,i,a,l,h){if(t!==null){var d=t.memoizedProps;if(ll(d,l)&&t.ref===i.ref)if(Ct=!1,i.pendingProps=l=d,Vd(t,h))(t.flags&131072)!==0&&(Ct=!0);else return i.lanes=t.lanes,Xi(t,i,h)}return Cd(t,i,a,l,h)}function h_(t,i,a,l){var h=l.children,d=t!==null?t.memoizedState:null;if(t===null&&i.stateNode===null&&(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((i.flags&128)!==0){if(d=d!==null?d.baseLanes|a:a,t!==null){for(l=i.child=t.child,h=0;l!==null;)h=h|l.lanes|l.childLanes,l=l.sibling;l=h&~d}else l=0,i.child=null;return f_(t,i,d,a,l)}if((a&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},t!==null&&pc(i,d!==null?d.cachePool:null),d!==null?my(i,d):id(),py(i);else return l=i.lanes=536870912,f_(t,i,d!==null?d.baseLanes|a:a,a,l)}else d!==null?(pc(i,d.cachePool),my(i,d),Ur(),i.memoizedState=null):(t!==null&&pc(i,null),id(),Ur());return Ft(t,i,h,a),i.child}function Sl(t,i){return t!==null&&t.tag===22||i.stateNode!==null||(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),i.sibling}function f_(t,i,a,l,h){var d=Zf();return d=d===null?null:{parent:wt._currentValue,pool:d},i.memoizedState={baseLanes:a,cachePool:d},t!==null&&pc(i,null),id(),py(i),t!==null&&Fa(t,i,l,!0),i.childLanes=h,null}function Dc(t,i){return i=Mc({mode:i.mode,children:i.children},t.mode),i.ref=t.ref,t.child=i,i.return=t,i}function d_(t,i,a){return Ys(i,t.child,null,a),t=Dc(i,i.pendingProps),t.flags|=2,En(i),i.memoizedState=null,t}function VS(t,i,a){var l=i.pendingProps,h=(i.flags&128)!==0;if(i.flags&=-129,t===null){if(ze){if(l.mode==="hidden")return t=Dc(i,l),i.lanes=536870912,Sl(null,t);if(sd(i),(t=lt)?(t=wv(t,Mn),t=t!==null&&t.data==="&"?t:null,t!==null&&(i.memoizedState={dehydrated:t,treeContext:Nr!==null?{id:Ai,overflow:wi}:null,retryLane:536870912,hydrationErrors:null},a=Xg(t),a.return=i,i.child=a,qt=i,lt=null)):t=null,t===null)throw Or(i);return i.lanes=536870912,null}return Dc(i,l)}var d=t.memoizedState;if(d!==null){var _=d.dehydrated;if(sd(i),h)if(i.flags&256)i.flags&=-257,i=d_(t,i,a);else if(i.memoizedState!==null)i.child=t.child,i.flags|=128,i=null;else throw Error(s(558));else if(Ct||Fa(t,i,a,!1),h=(a&t.childLanes)!==0,Ct||h){if(l=st,l!==null&&(_=Fo(l,a),_!==0&&_!==d.retryLane))throw d.retryLane=_,zs(t,_),cn(l,t,_),Rd;qc(),i=d_(t,i,a)}else t=d.treeContext,lt=kn(_.nextSibling),qt=i,ze=!0,Dr=null,Mn=!1,t!==null&&Wg(i,t),i=Dc(i,l),i.flags|=4096;return i}return t=Fi(t.child,{mode:l.mode,children:l.children}),t.ref=i.ref,i.child=t,t.return=i,t}function Oc(t,i){var a=i.ref;if(a===null)t!==null&&t.ref!==null&&(i.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(t===null||t.ref!==a)&&(i.flags|=4194816)}}function Cd(t,i,a,l,h){return Fs(i),a=od(t,i,a,l,void 0,h),l=ld(),t!==null&&!Ct?(ud(t,i,h),Xi(t,i,h)):(ze&&l&&qf(i),i.flags|=1,Ft(t,i,a,h),i.child)}function m_(t,i,a,l,h,d){return Fs(i),i.updateQueue=null,a=yy(i,l,a,h),gy(t),l=ld(),t!==null&&!Ct?(ud(t,i,d),Xi(t,i,d)):(ze&&l&&qf(i),i.flags|=1,Ft(t,i,a,d),i.child)}function p_(t,i,a,l,h){if(Fs(i),i.stateNode===null){var d=za,_=a.contextType;typeof _=="object"&&_!==null&&(d=Ht(_)),d=new a(l,d),i.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=Ad,i.stateNode=d,d._reactInternals=i,d=i.stateNode,d.props=l,d.state=i.memoizedState,d.refs={},Wf(i),_=a.contextType,d.context=typeof _=="object"&&_!==null?Ht(_):za,d.state=i.memoizedState,_=a.getDerivedStateFromProps,typeof _=="function"&&(Sd(i,a,_,l),d.state=i.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(_=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),_!==d.state&&Ad.enqueueReplaceState(d,d.state,null),_l(i,l,d,h),yl(),d.state=i.memoizedState),typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!0}else if(t===null){d=i.stateNode;var T=i.memoizedProps,N=Xs(a,T);d.props=N;var H=d.context,X=a.contextType;_=za,typeof X=="object"&&X!==null&&(_=Ht(X));var W=a.getDerivedStateFromProps;X=typeof W=="function"||typeof d.getSnapshotBeforeUpdate=="function",T=i.pendingProps!==T,X||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(T||H!==_)&&t_(i,d,l,_),Vr=!1;var F=i.memoizedState;d.state=F,_l(i,l,d,h),yl(),H=i.memoizedState,T||F!==H||Vr?(typeof W=="function"&&(Sd(i,a,W,l),H=i.memoizedState),(N=Vr||e_(i,a,N,l,F,H,_))?(X||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(i.flags|=4194308)):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=l,i.memoizedState=H),d.props=l,d.state=H,d.context=_,l=N):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!1)}else{d=i.stateNode,ed(t,i),_=i.memoizedProps,X=Xs(a,_),d.props=X,W=i.pendingProps,F=d.context,H=a.contextType,N=za,typeof H=="object"&&H!==null&&(N=Ht(H)),T=a.getDerivedStateFromProps,(H=typeof T=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(_!==W||F!==N)&&t_(i,d,l,N),Vr=!1,F=i.memoizedState,d.state=F,_l(i,l,d,h),yl();var Q=i.memoizedState;_!==W||F!==Q||Vr||t!==null&&t.dependencies!==null&&dc(t.dependencies)?(typeof T=="function"&&(Sd(i,a,T,l),Q=i.memoizedState),(X=Vr||e_(i,a,X,l,F,Q,N)||t!==null&&t.dependencies!==null&&dc(t.dependencies))?(H||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,Q,N),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,Q,N)),typeof d.componentDidUpdate=="function"&&(i.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof d.componentDidUpdate!="function"||_===t.memoizedProps&&F===t.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||_===t.memoizedProps&&F===t.memoizedState||(i.flags|=1024),i.memoizedProps=l,i.memoizedState=Q),d.props=l,d.state=Q,d.context=N,l=X):(typeof d.componentDidUpdate!="function"||_===t.memoizedProps&&F===t.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||_===t.memoizedProps&&F===t.memoizedState||(i.flags|=1024),l=!1)}return d=l,Oc(t,i),l=(i.flags&128)!==0,d||l?(d=i.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:d.render(),i.flags|=1,t!==null&&l?(i.child=Ys(i,t.child,null,h),i.child=Ys(i,null,a,h)):Ft(t,i,a,h),i.memoizedState=d.state,t=i.child):t=Xi(t,i,h),t}function g_(t,i,a,l){return qs(),i.flags|=256,Ft(t,i,a,l),i.child}var xd={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Id(t){return{baseLanes:t,cachePool:sy()}}function Nd(t,i,a){return t=t!==null?t.childLanes&~a:0,i&&(t|=bn),t}function y_(t,i,a){var l=i.pendingProps,h=!1,d=(i.flags&128)!==0,_;if((_=d)||(_=t!==null&&t.memoizedState===null?!1:(yt.current&2)!==0),_&&(h=!0,i.flags&=-129),_=(i.flags&32)!==0,i.flags&=-33,t===null){if(ze){if(h?Pr(i):Ur(),(t=lt)?(t=wv(t,Mn),t=t!==null&&t.data!=="&"?t:null,t!==null&&(i.memoizedState={dehydrated:t,treeContext:Nr!==null?{id:Ai,overflow:wi}:null,retryLane:536870912,hydrationErrors:null},a=Xg(t),a.return=i,i.child=a,qt=i,lt=null)):t=null,t===null)throw Or(i);return fm(t)?i.lanes=32:i.lanes=536870912,null}var T=l.children;return l=l.fallback,h?(Ur(),h=i.mode,T=Mc({mode:"hidden",children:T},h),l=Bs(l,h,a,null),T.return=i,l.return=i,T.sibling=l,i.child=T,l=i.child,l.memoizedState=Id(a),l.childLanes=Nd(t,_,a),i.memoizedState=xd,Sl(null,l)):(Pr(i),Dd(i,T))}var N=t.memoizedState;if(N!==null&&(T=N.dehydrated,T!==null)){if(d)i.flags&256?(Pr(i),i.flags&=-257,i=Od(t,i,a)):i.memoizedState!==null?(Ur(),i.child=t.child,i.flags|=128,i=null):(Ur(),T=l.fallback,h=i.mode,l=Mc({mode:"visible",children:l.children},h),T=Bs(T,h,a,null),T.flags|=2,l.return=i,T.return=i,l.sibling=T,i.child=l,Ys(i,t.child,null,a),l=i.child,l.memoizedState=Id(a),l.childLanes=Nd(t,_,a),i.memoizedState=xd,i=Sl(null,l));else if(Pr(i),fm(T)){if(_=T.nextSibling&&T.nextSibling.dataset,_)var H=_.dgst;_=H,l=Error(s(419)),l.stack="",l.digest=_,hl({value:l,source:null,stack:null}),i=Od(t,i,a)}else if(Ct||Fa(t,i,a,!1),_=(a&t.childLanes)!==0,Ct||_){if(_=st,_!==null&&(l=Fo(_,a),l!==0&&l!==N.retryLane))throw N.retryLane=l,zs(t,l),cn(_,t,l),Rd;hm(T)||qc(),i=Od(t,i,a)}else hm(T)?(i.flags|=192,i.child=t.child,i=null):(t=N.treeContext,lt=kn(T.nextSibling),qt=i,ze=!0,Dr=null,Mn=!1,t!==null&&Wg(i,t),i=Dd(i,l.children),i.flags|=4096);return i}return h?(Ur(),T=l.fallback,h=i.mode,N=t.child,H=N.sibling,l=Fi(N,{mode:"hidden",children:l.children}),l.subtreeFlags=N.subtreeFlags&65011712,H!==null?T=Fi(H,T):(T=Bs(T,h,a,null),T.flags|=2),T.return=i,l.return=i,l.sibling=T,i.child=l,Sl(null,l),l=i.child,T=t.child.memoizedState,T===null?T=Id(a):(h=T.cachePool,h!==null?(N=wt._currentValue,h=h.parent!==N?{parent:N,pool:N}:h):h=sy(),T={baseLanes:T.baseLanes|a,cachePool:h}),l.memoizedState=T,l.childLanes=Nd(t,_,a),i.memoizedState=xd,Sl(t.child,l)):(Pr(i),a=t.child,t=a.sibling,a=Fi(a,{mode:"visible",children:l.children}),a.return=i,a.sibling=null,t!==null&&(_=i.deletions,_===null?(i.deletions=[t],i.flags|=16):_.push(t)),i.child=a,i.memoizedState=null,a)}function Dd(t,i){return i=Mc({mode:"visible",children:i},t.mode),i.return=t,t.child=i}function Mc(t,i){return t=_n(22,t,null,i),t.lanes=0,t}function Od(t,i,a){return Ys(i,t.child,null,a),t=Dd(i,i.pendingProps.children),t.flags|=2,i.memoizedState=null,t}function __(t,i,a){t.lanes|=i;var l=t.alternate;l!==null&&(l.lanes|=i),Qf(t.return,i,a)}function Md(t,i,a,l,h,d){var _=t.memoizedState;_===null?t.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:h,treeForkCount:d}:(_.isBackwards=i,_.rendering=null,_.renderingStartTime=0,_.last=l,_.tail=a,_.tailMode=h,_.treeForkCount=d)}function v_(t,i,a){var l=i.pendingProps,h=l.revealOrder,d=l.tail;l=l.children;var _=yt.current,T=(_&2)!==0;if(T?(_=_&1|2,i.flags|=128):_&=1,j(yt,_),Ft(t,i,l,a),l=ze?cl:0,!T&&t!==null&&(t.flags&128)!==0)e:for(t=i.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&__(t,a,i);else if(t.tag===19)__(t,a,i);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===i)break e;for(;t.sibling===null;){if(t.return===null||t.return===i)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(h){case"forwards":for(a=i.child,h=null;a!==null;)t=a.alternate,t!==null&&Tc(t)===null&&(h=a),a=a.sibling;a=h,a===null?(h=i.child,i.child=null):(h=a.sibling,a.sibling=null),Md(i,!1,h,a,d,l);break;case"backwards":case"unstable_legacy-backwards":for(a=null,h=i.child,i.child=null;h!==null;){if(t=h.alternate,t!==null&&Tc(t)===null){i.child=h;break}t=h.sibling,h.sibling=a,a=h,h=t}Md(i,!0,a,null,d,l);break;case"together":Md(i,!1,null,null,void 0,l);break;default:i.memoizedState=null}return i.child}function Xi(t,i,a){if(t!==null&&(i.dependencies=t.dependencies),Br|=i.lanes,(a&i.childLanes)===0)if(t!==null){if(Fa(t,i,a,!1),(a&i.childLanes)===0)return null}else return null;if(t!==null&&i.child!==t.child)throw Error(s(153));if(i.child!==null){for(t=i.child,a=Fi(t,t.pendingProps),i.child=a,a.return=i;t.sibling!==null;)t=t.sibling,a=a.sibling=Fi(t,t.pendingProps),a.return=i;a.sibling=null}return i.child}function Vd(t,i){return(t.lanes&i)!==0?!0:(t=t.dependencies,!!(t!==null&&dc(t)))}function kS(t,i,a){switch(i.tag){case 3:qe(i,i.stateNode.containerInfo),Mr(i,wt,t.memoizedState.cache),qs();break;case 27:case 5:bs(i);break;case 4:qe(i,i.stateNode.containerInfo);break;case 10:Mr(i,i.type,i.memoizedProps.value);break;case 31:if(i.memoizedState!==null)return i.flags|=128,sd(i),null;break;case 13:var l=i.memoizedState;if(l!==null)return l.dehydrated!==null?(Pr(i),i.flags|=128,null):(a&i.child.childLanes)!==0?y_(t,i,a):(Pr(i),t=Xi(t,i,a),t!==null?t.sibling:null);Pr(i);break;case 19:var h=(t.flags&128)!==0;if(l=(a&i.childLanes)!==0,l||(Fa(t,i,a,!1),l=(a&i.childLanes)!==0),h){if(l)return v_(t,i,a);i.flags|=128}if(h=i.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),j(yt,yt.current),l)break;return null;case 22:return i.lanes=0,h_(t,i,a,i.pendingProps);case 24:Mr(i,wt,t.memoizedState.cache)}return Xi(t,i,a)}function E_(t,i,a){if(t!==null)if(t.memoizedProps!==i.pendingProps)Ct=!0;else{if(!Vd(t,a)&&(i.flags&128)===0)return Ct=!1,kS(t,i,a);Ct=(t.flags&131072)!==0}else Ct=!1,ze&&(i.flags&1048576)!==0&&Jg(i,cl,i.index);switch(i.lanes=0,i.tag){case 16:e:{var l=i.pendingProps;if(t=$s(i.elementType),i.type=t,typeof t=="function")jf(t)?(l=Xs(t,l),i.tag=1,i=p_(null,i,t,l,a)):(i.tag=0,i=Cd(null,i,t,l,a));else{if(t!=null){var h=t.$$typeof;if(h===ge){i.tag=11,i=l_(null,i,t,l,a);break e}else if(h===x){i.tag=14,i=u_(null,i,t,l,a);break e}}throw i=Be(t)||t,Error(s(306,i,""))}}return i;case 0:return Cd(t,i,i.type,i.pendingProps,a);case 1:return l=i.type,h=Xs(l,i.pendingProps),p_(t,i,l,h,a);case 3:e:{if(qe(i,i.stateNode.containerInfo),t===null)throw Error(s(387));l=i.pendingProps;var d=i.memoizedState;h=d.element,ed(t,i),_l(i,l,null,a);var _=i.memoizedState;if(l=_.cache,Mr(i,wt,l),l!==d.cache&&Yf(i,[wt],a,!0),yl(),l=_.element,d.isDehydrated)if(d={element:l,isDehydrated:!1,cache:_.cache},i.updateQueue.baseState=d,i.memoizedState=d,i.flags&256){i=g_(t,i,l,a);break e}else if(l!==h){h=Nn(Error(s(424)),i),hl(h),i=g_(t,i,l,a);break e}else{switch(t=i.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(lt=kn(t.firstChild),qt=i,ze=!0,Dr=null,Mn=!0,a=hy(i,null,l,a),i.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(qs(),l===h){i=Xi(t,i,a);break e}Ft(t,i,l,a)}i=i.child}return i;case 26:return Oc(t,i),t===null?(a=Dv(i.type,null,i.pendingProps,null))?i.memoizedState=a:ze||(a=i.type,t=i.pendingProps,l=Kc(ye.current).createElement(a),l[bt]=i,l[Lt]=t,Gt(l,a,t),St(l),i.stateNode=l):i.memoizedState=Dv(i.type,t.memoizedProps,i.pendingProps,t.memoizedState),null;case 27:return bs(i),t===null&&ze&&(l=i.stateNode=xv(i.type,i.pendingProps,ye.current),qt=i,Mn=!0,h=lt,$r(i.type)?(dm=h,lt=kn(l.firstChild)):lt=h),Ft(t,i,i.pendingProps.children,a),Oc(t,i),t===null&&(i.flags|=4194304),i.child;case 5:return t===null&&ze&&((h=l=lt)&&(l=hA(l,i.type,i.pendingProps,Mn),l!==null?(i.stateNode=l,qt=i,lt=kn(l.firstChild),Mn=!1,h=!0):h=!1),h||Or(i)),bs(i),h=i.type,d=i.pendingProps,_=t!==null?t.memoizedProps:null,l=d.children,lm(h,d)?l=null:_!==null&&lm(h,_)&&(i.flags|=32),i.memoizedState!==null&&(h=od(t,i,RS,null,null,a),Ul._currentValue=h),Oc(t,i),Ft(t,i,l,a),i.child;case 6:return t===null&&ze&&((t=a=lt)&&(a=fA(a,i.pendingProps,Mn),a!==null?(i.stateNode=a,qt=i,lt=null,t=!0):t=!1),t||Or(i)),null;case 13:return y_(t,i,a);case 4:return qe(i,i.stateNode.containerInfo),l=i.pendingProps,t===null?i.child=Ys(i,null,l,a):Ft(t,i,l,a),i.child;case 11:return l_(t,i,i.type,i.pendingProps,a);case 7:return Ft(t,i,i.pendingProps,a),i.child;case 8:return Ft(t,i,i.pendingProps.children,a),i.child;case 12:return Ft(t,i,i.pendingProps.children,a),i.child;case 10:return l=i.pendingProps,Mr(i,i.type,l.value),Ft(t,i,l.children,a),i.child;case 9:return h=i.type._context,l=i.pendingProps.children,Fs(i),h=Ht(h),l=l(h),i.flags|=1,Ft(t,i,l,a),i.child;case 14:return u_(t,i,i.type,i.pendingProps,a);case 15:return c_(t,i,i.type,i.pendingProps,a);case 19:return v_(t,i,a);case 31:return VS(t,i,a);case 22:return h_(t,i,a,i.pendingProps);case 24:return Fs(i),l=Ht(wt),t===null?(h=Zf(),h===null&&(h=st,d=Kf(),h.pooledCache=d,d.refCount++,d!==null&&(h.pooledCacheLanes|=a),h=d),i.memoizedState={parent:l,cache:h},Wf(i),Mr(i,wt,h)):((t.lanes&a)!==0&&(ed(t,i),_l(i,null,null,a),yl()),h=t.memoizedState,d=i.memoizedState,h.parent!==l?(h={parent:l,cache:l},i.memoizedState=h,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=h),Mr(i,wt,l)):(l=d.cache,Mr(i,wt,l),l!==h.cache&&Yf(i,[wt],a,!0))),Ft(t,i,i.pendingProps.children,a),i.child;case 29:throw i.pendingProps}throw Error(s(156,i.tag))}function Zi(t){t.flags|=4}function kd(t,i,a,l,h){if((i=(t.mode&32)!==0)&&(i=!1),i){if(t.flags|=16777216,(h&335544128)===h)if(t.stateNode.complete)t.flags|=8192;else if(Q_())t.flags|=8192;else throw Qs=yc,Jf}else t.flags&=-16777217}function T_(t,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!Lv(i))if(Q_())t.flags|=8192;else throw Qs=yc,Jf}function Vc(t,i){i!==null&&(t.flags|=4),t.flags&16384&&(i=t.tag!==22?zu():536870912,t.lanes|=i,no|=i)}function Al(t,i){if(!ze)switch(t.tailMode){case"hidden":i=t.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?i||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function ut(t){var i=t.alternate!==null&&t.alternate.child===t.child,a=0,l=0;if(i)for(var h=t.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags&65011712,l|=h.flags&65011712,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=l,t.childLanes=a,i}function LS(t,i,a){var l=i.pendingProps;switch(Hf(i),i.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ut(i),null;case 1:return ut(i),null;case 3:return a=i.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),i.memoizedState.cache!==l&&(i.flags|=2048),Qi(wt),Ke(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(Ha(i)?Zi(i):t===null||t.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,Gf())),ut(i),null;case 26:var h=i.type,d=i.memoizedState;return t===null?(Zi(i),d!==null?(ut(i),T_(i,d)):(ut(i),kd(i,h,null,l,a))):d?d!==t.memoizedState?(Zi(i),ut(i),T_(i,d)):(ut(i),i.flags&=-16777217):(t=t.memoizedProps,t!==l&&Zi(i),ut(i),kd(i,h,t,l,a)),null;case 27:if(Ta(i),a=ye.current,h=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==l&&Zi(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return ut(i),null}t=ne.current,Ha(i)?ey(i):(t=xv(h,l,a),i.stateNode=t,Zi(i))}return ut(i),null;case 5:if(Ta(i),h=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==l&&Zi(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return ut(i),null}if(d=ne.current,Ha(i))ey(i);else{var _=Kc(ye.current);switch(d){case 1:d=_.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:d=_.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":d=_.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":d=_.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":d=_.createElement("div"),d.innerHTML="<script><\/script>",d=d.removeChild(d.firstChild);break;case"select":d=typeof l.is=="string"?_.createElement("select",{is:l.is}):_.createElement("select"),l.multiple?d.multiple=!0:l.size&&(d.size=l.size);break;default:d=typeof l.is=="string"?_.createElement(h,{is:l.is}):_.createElement(h)}}d[bt]=i,d[Lt]=l;e:for(_=i.child;_!==null;){if(_.tag===5||_.tag===6)d.appendChild(_.stateNode);else if(_.tag!==4&&_.tag!==27&&_.child!==null){_.child.return=_,_=_.child;continue}if(_===i)break e;for(;_.sibling===null;){if(_.return===null||_.return===i)break e;_=_.return}_.sibling.return=_.return,_=_.sibling}i.stateNode=d;e:switch(Gt(d,h,l),h){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}l&&Zi(i)}}return ut(i),kd(i,i.type,t===null?null:t.memoizedProps,i.pendingProps,a),null;case 6:if(t&&i.stateNode!=null)t.memoizedProps!==l&&Zi(i);else{if(typeof l!="string"&&i.stateNode===null)throw Error(s(166));if(t=ye.current,Ha(i)){if(t=i.stateNode,a=i.memoizedProps,l=null,h=qt,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}t[bt]=i,t=!!(t.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||yv(t.nodeValue,a)),t||Or(i,!0)}else t=Kc(t).createTextNode(l),t[bt]=i,i.stateNode=t}return ut(i),null;case 31:if(a=i.memoizedState,t===null||t.memoizedState!==null){if(l=Ha(i),a!==null){if(t===null){if(!l)throw Error(s(318));if(t=i.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(557));t[bt]=i}else qs(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;ut(i),t=!1}else a=Gf(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=a),t=!0;if(!t)return i.flags&256?(En(i),i):(En(i),null);if((i.flags&128)!==0)throw Error(s(558))}return ut(i),null;case 13:if(l=i.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(h=Ha(i),l!==null&&l.dehydrated!==null){if(t===null){if(!h)throw Error(s(318));if(h=i.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(s(317));h[bt]=i}else qs(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;ut(i),h=!1}else h=Gf(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=h),h=!0;if(!h)return i.flags&256?(En(i),i):(En(i),null)}return En(i),(i.flags&128)!==0?(i.lanes=a,i):(a=l!==null,t=t!==null&&t.memoizedState!==null,a&&(l=i.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool),d=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==h&&(l.flags|=2048)),a!==t&&a&&(i.child.flags|=8192),Vc(i,i.updateQueue),ut(i),null);case 4:return Ke(),t===null&&im(i.stateNode.containerInfo),ut(i),null;case 10:return Qi(i.type),ut(i),null;case 19:if(Z(yt),l=i.memoizedState,l===null)return ut(i),null;if(h=(i.flags&128)!==0,d=l.rendering,d===null)if(h)Al(l,!1);else{if(mt!==0||t!==null&&(t.flags&128)!==0)for(t=i.child;t!==null;){if(d=Tc(t),d!==null){for(i.flags|=128,Al(l,!1),t=d.updateQueue,i.updateQueue=t,Vc(i,t),i.subtreeFlags=0,t=a,a=i.child;a!==null;)Kg(a,t),a=a.sibling;return j(yt,yt.current&1|2),ze&&Gi(i,l.treeForkCount),i.child}t=t.sibling}l.tail!==null&&en()>jc&&(i.flags|=128,h=!0,Al(l,!1),i.lanes=4194304)}else{if(!h)if(t=Tc(d),t!==null){if(i.flags|=128,h=!0,t=t.updateQueue,i.updateQueue=t,Vc(i,t),Al(l,!0),l.tail===null&&l.tailMode==="hidden"&&!d.alternate&&!ze)return ut(i),null}else 2*en()-l.renderingStartTime>jc&&a!==536870912&&(i.flags|=128,h=!0,Al(l,!1),i.lanes=4194304);l.isBackwards?(d.sibling=i.child,i.child=d):(t=l.last,t!==null?t.sibling=d:i.child=d,l.last=d)}return l.tail!==null?(t=l.tail,l.rendering=t,l.tail=t.sibling,l.renderingStartTime=en(),t.sibling=null,a=yt.current,j(yt,h?a&1|2:a&1),ze&&Gi(i,l.treeForkCount),t):(ut(i),null);case 22:case 23:return En(i),rd(),l=i.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(i.flags|=8192):l&&(i.flags|=8192),l?(a&536870912)!==0&&(i.flags&128)===0&&(ut(i),i.subtreeFlags&6&&(i.flags|=8192)):ut(i),a=i.updateQueue,a!==null&&Vc(i,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),l=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),l!==a&&(i.flags|=2048),t!==null&&Z(Gs),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),i.memoizedState.cache!==a&&(i.flags|=2048),Qi(wt),ut(i),null;case 25:return null;case 30:return null}throw Error(s(156,i.tag))}function PS(t,i){switch(Hf(i),i.tag){case 1:return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 3:return Qi(wt),Ke(),t=i.flags,(t&65536)!==0&&(t&128)===0?(i.flags=t&-65537|128,i):null;case 26:case 27:case 5:return Ta(i),null;case 31:if(i.memoizedState!==null){if(En(i),i.alternate===null)throw Error(s(340));qs()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 13:if(En(i),t=i.memoizedState,t!==null&&t.dehydrated!==null){if(i.alternate===null)throw Error(s(340));qs()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 19:return Z(yt),null;case 4:return Ke(),null;case 10:return Qi(i.type),null;case 22:case 23:return En(i),rd(),t!==null&&Z(Gs),t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 24:return Qi(wt),null;case 25:return null;default:return null}}function b_(t,i){switch(Hf(i),i.tag){case 3:Qi(wt),Ke();break;case 26:case 27:case 5:Ta(i);break;case 4:Ke();break;case 31:i.memoizedState!==null&&En(i);break;case 13:En(i);break;case 19:Z(yt);break;case 10:Qi(i.type);break;case 22:case 23:En(i),rd(),t!==null&&Z(Gs);break;case 24:Qi(wt)}}function wl(t,i){try{var a=i.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var h=l.next;a=h;do{if((a.tag&t)===t){l=void 0;var d=a.create,_=a.inst;l=d(),_.destroy=l}a=a.next}while(a!==h)}}catch(T){We(i,i.return,T)}}function jr(t,i,a){try{var l=i.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var d=h.next;l=d;do{if((l.tag&t)===t){var _=l.inst,T=_.destroy;if(T!==void 0){_.destroy=void 0,h=i;var N=a,H=T;try{H()}catch(X){We(h,N,X)}}}l=l.next}while(l!==d)}}catch(X){We(i,i.return,X)}}function S_(t){var i=t.updateQueue;if(i!==null){var a=t.stateNode;try{dy(i,a)}catch(l){We(t,t.return,l)}}}function A_(t,i,a){a.props=Xs(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(l){We(t,i,l)}}function Rl(t,i){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof a=="function"?t.refCleanup=a(l):a.current=l}}catch(h){We(t,i,h)}}function Ri(t,i){var a=t.ref,l=t.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(h){We(t,i,h)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){We(t,i,h)}else a.current=null}function w_(t){var i=t.type,a=t.memoizedProps,l=t.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break e;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(h){We(t,t.return,h)}}function Ld(t,i,a){try{var l=t.stateNode;sA(l,t.type,a,i),l[Lt]=i}catch(h){We(t,t.return,h)}}function R_(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&$r(t.type)||t.tag===4}function Pd(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||R_(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&$r(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Ud(t,i,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,i?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,i):(i=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,i.appendChild(t),a=a._reactRootContainer,a!=null||i.onclick!==null||(i.onclick=$n));else if(l!==4&&(l===27&&$r(t.type)&&(a=t.stateNode,i=null),t=t.child,t!==null))for(Ud(t,i,a),t=t.sibling;t!==null;)Ud(t,i,a),t=t.sibling}function kc(t,i,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,i?a.insertBefore(t,i):a.appendChild(t);else if(l!==4&&(l===27&&$r(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(kc(t,i,a),t=t.sibling;t!==null;)kc(t,i,a),t=t.sibling}function C_(t){var i=t.stateNode,a=t.memoizedProps;try{for(var l=t.type,h=i.attributes;h.length;)i.removeAttributeNode(h[0]);Gt(i,l,a),i[bt]=t,i[Lt]=a}catch(d){We(t,t.return,d)}}var Ji=!1,xt=!1,jd=!1,x_=typeof WeakSet=="function"?WeakSet:Set,Ut=null;function US(t,i){if(t=t.containerInfo,am=nh,t=zg(t),Of(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else e:{a=(a=t.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var h=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{a.nodeType,d.nodeType}catch{a=null;break e}var _=0,T=-1,N=-1,H=0,X=0,W=t,F=null;t:for(;;){for(var Q;W!==a||h!==0&&W.nodeType!==3||(T=_+h),W!==d||l!==0&&W.nodeType!==3||(N=_+l),W.nodeType===3&&(_+=W.nodeValue.length),(Q=W.firstChild)!==null;)F=W,W=Q;for(;;){if(W===t)break t;if(F===a&&++H===h&&(T=_),F===d&&++X===l&&(N=_),(Q=W.nextSibling)!==null)break;W=F,F=W.parentNode}W=Q}a=T===-1||N===-1?null:{start:T,end:N}}else a=null}a=a||{start:0,end:0}}else a=null;for(om={focusedElem:t,selectionRange:a},nh=!1,Ut=i;Ut!==null;)if(i=Ut,t=i.child,(i.subtreeFlags&1028)!==0&&t!==null)t.return=i,Ut=t;else for(;Ut!==null;){switch(i=Ut,d=i.alternate,t=i.flags,i.tag){case 0:if((t&4)!==0&&(t=i.updateQueue,t=t!==null?t.events:null,t!==null))for(a=0;a<t.length;a++)h=t[a],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&d!==null){t=void 0,a=i,h=d.memoizedProps,d=d.memoizedState,l=a.stateNode;try{var fe=Xs(a.type,h);t=l.getSnapshotBeforeUpdate(fe,d),l.__reactInternalSnapshotBeforeUpdate=t}catch(Ee){We(a,a.return,Ee)}}break;case 3:if((t&1024)!==0){if(t=i.stateNode.containerInfo,a=t.nodeType,a===9)cm(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":cm(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(s(163))}if(t=i.sibling,t!==null){t.return=i.return,Ut=t;break}Ut=i.return}}function I_(t,i,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:er(t,a),l&4&&wl(5,a);break;case 1:if(er(t,a),l&4)if(t=a.stateNode,i===null)try{t.componentDidMount()}catch(_){We(a,a.return,_)}else{var h=Xs(a.type,i.memoizedProps);i=i.memoizedState;try{t.componentDidUpdate(h,i,t.__reactInternalSnapshotBeforeUpdate)}catch(_){We(a,a.return,_)}}l&64&&S_(a),l&512&&Rl(a,a.return);break;case 3:if(er(t,a),l&64&&(t=a.updateQueue,t!==null)){if(i=null,a.child!==null)switch(a.child.tag){case 27:case 5:i=a.child.stateNode;break;case 1:i=a.child.stateNode}try{dy(t,i)}catch(_){We(a,a.return,_)}}break;case 27:i===null&&l&4&&C_(a);case 26:case 5:er(t,a),i===null&&l&4&&w_(a),l&512&&Rl(a,a.return);break;case 12:er(t,a);break;case 31:er(t,a),l&4&&O_(t,a);break;case 13:er(t,a),l&4&&M_(t,a),l&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=QS.bind(null,a),dA(t,a))));break;case 22:if(l=a.memoizedState!==null||Ji,!l){i=i!==null&&i.memoizedState!==null||xt,h=Ji;var d=xt;Ji=l,(xt=i)&&!d?tr(t,a,(a.subtreeFlags&8772)!==0):er(t,a),Ji=h,xt=d}break;case 30:break;default:er(t,a)}}function N_(t){var i=t.alternate;i!==null&&(t.alternate=null,N_(i)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(i=t.stateNode,i!==null&&Ra(i)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var ht=null,an=!1;function Wi(t,i,a){for(a=a.child;a!==null;)D_(t,i,a),a=a.sibling}function D_(t,i,a){if(zt&&typeof zt.onCommitFiberUnmount=="function")try{zt.onCommitFiberUnmount(qn,a)}catch{}switch(a.tag){case 26:xt||Ri(a,i),Wi(t,i,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:xt||Ri(a,i);var l=ht,h=an;$r(a.type)&&(ht=a.stateNode,an=!1),Wi(t,i,a),kl(a.stateNode),ht=l,an=h;break;case 5:xt||Ri(a,i);case 6:if(l=ht,h=an,ht=null,Wi(t,i,a),ht=l,an=h,ht!==null)if(an)try{(ht.nodeType===9?ht.body:ht.nodeName==="HTML"?ht.ownerDocument.body:ht).removeChild(a.stateNode)}catch(d){We(a,i,d)}else try{ht.removeChild(a.stateNode)}catch(d){We(a,i,d)}break;case 18:ht!==null&&(an?(t=ht,Sv(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),co(t)):Sv(ht,a.stateNode));break;case 4:l=ht,h=an,ht=a.stateNode.containerInfo,an=!0,Wi(t,i,a),ht=l,an=h;break;case 0:case 11:case 14:case 15:jr(2,a,i),xt||jr(4,a,i),Wi(t,i,a);break;case 1:xt||(Ri(a,i),l=a.stateNode,typeof l.componentWillUnmount=="function"&&A_(a,i,l)),Wi(t,i,a);break;case 21:Wi(t,i,a);break;case 22:xt=(l=xt)||a.memoizedState!==null,Wi(t,i,a),xt=l;break;default:Wi(t,i,a)}}function O_(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{co(t)}catch(a){We(i,i.return,a)}}}function M_(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{co(t)}catch(a){We(i,i.return,a)}}function jS(t){switch(t.tag){case 31:case 13:case 19:var i=t.stateNode;return i===null&&(i=t.stateNode=new x_),i;case 22:return t=t.stateNode,i=t._retryCache,i===null&&(i=t._retryCache=new x_),i;default:throw Error(s(435,t.tag))}}function Lc(t,i){var a=jS(t);i.forEach(function(l){if(!a.has(l)){a.add(l);var h=YS.bind(null,t,l);l.then(h,h)}})}function on(t,i){var a=i.deletions;if(a!==null)for(var l=0;l<a.length;l++){var h=a[l],d=t,_=i,T=_;e:for(;T!==null;){switch(T.tag){case 27:if($r(T.type)){ht=T.stateNode,an=!1;break e}break;case 5:ht=T.stateNode,an=!1;break e;case 3:case 4:ht=T.stateNode.containerInfo,an=!0;break e}T=T.return}if(ht===null)throw Error(s(160));D_(d,_,h),ht=null,an=!1,d=h.alternate,d!==null&&(d.return=null),h.return=null}if(i.subtreeFlags&13886)for(i=i.child;i!==null;)V_(i,t),i=i.sibling}var Jn=null;function V_(t,i){var a=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:on(i,t),ln(t),l&4&&(jr(3,t,t.return),wl(3,t),jr(5,t,t.return));break;case 1:on(i,t),ln(t),l&512&&(xt||a===null||Ri(a,a.return)),l&64&&Ji&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var h=Jn;if(on(i,t),ln(t),l&512&&(xt||a===null||Ri(a,a.return)),l&4){var d=a!==null?a.memoizedState:null;if(l=t.memoizedState,a===null)if(l===null)if(t.stateNode===null){e:{l=t.type,a=t.memoizedProps,h=h.ownerDocument||h;t:switch(l){case"title":d=h.getElementsByTagName("title")[0],(!d||d[fi]||d[bt]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=h.createElement(l),h.head.insertBefore(d,h.querySelector("head > title"))),Gt(d,l,a),d[bt]=t,St(d),l=d;break e;case"link":var _=Vv("link","href",h).get(l+(a.href||""));if(_){for(var T=0;T<_.length;T++)if(d=_[T],d.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&d.getAttribute("rel")===(a.rel==null?null:a.rel)&&d.getAttribute("title")===(a.title==null?null:a.title)&&d.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){_.splice(T,1);break t}}d=h.createElement(l),Gt(d,l,a),h.head.appendChild(d);break;case"meta":if(_=Vv("meta","content",h).get(l+(a.content||""))){for(T=0;T<_.length;T++)if(d=_[T],d.getAttribute("content")===(a.content==null?null:""+a.content)&&d.getAttribute("name")===(a.name==null?null:a.name)&&d.getAttribute("property")===(a.property==null?null:a.property)&&d.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&d.getAttribute("charset")===(a.charSet==null?null:a.charSet)){_.splice(T,1);break t}}d=h.createElement(l),Gt(d,l,a),h.head.appendChild(d);break;default:throw Error(s(468,l))}d[bt]=t,St(d),l=d}t.stateNode=l}else kv(h,t.type,t.stateNode);else t.stateNode=Mv(h,l,t.memoizedProps);else d!==l?(d===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):d.count--,l===null?kv(h,t.type,t.stateNode):Mv(h,l,t.memoizedProps)):l===null&&t.stateNode!==null&&Ld(t,t.memoizedProps,a.memoizedProps)}break;case 27:on(i,t),ln(t),l&512&&(xt||a===null||Ri(a,a.return)),a!==null&&l&4&&Ld(t,t.memoizedProps,a.memoizedProps);break;case 5:if(on(i,t),ln(t),l&512&&(xt||a===null||Ri(a,a.return)),t.flags&32){h=t.stateNode;try{sn(h,"")}catch(fe){We(t,t.return,fe)}}l&4&&t.stateNode!=null&&(h=t.memoizedProps,Ld(t,h,a!==null?a.memoizedProps:h)),l&1024&&(jd=!0);break;case 6:if(on(i,t),ln(t),l&4){if(t.stateNode===null)throw Error(s(162));l=t.memoizedProps,a=t.stateNode;try{a.nodeValue=l}catch(fe){We(t,t.return,fe)}}break;case 3:if(Jc=null,h=Jn,Jn=Xc(i.containerInfo),on(i,t),Jn=h,ln(t),l&4&&a!==null&&a.memoizedState.isDehydrated)try{co(i.containerInfo)}catch(fe){We(t,t.return,fe)}jd&&(jd=!1,k_(t));break;case 4:l=Jn,Jn=Xc(t.stateNode.containerInfo),on(i,t),ln(t),Jn=l;break;case 12:on(i,t),ln(t);break;case 31:on(i,t),ln(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Lc(t,l)));break;case 13:on(i,t),ln(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Uc=en()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Lc(t,l)));break;case 22:h=t.memoizedState!==null;var N=a!==null&&a.memoizedState!==null,H=Ji,X=xt;if(Ji=H||h,xt=X||N,on(i,t),xt=X,Ji=H,ln(t),l&8192)e:for(i=t.stateNode,i._visibility=h?i._visibility&-2:i._visibility|1,h&&(a===null||N||Ji||xt||Zs(t)),a=null,i=t;;){if(i.tag===5||i.tag===26){if(a===null){N=a=i;try{if(d=N.stateNode,h)_=d.style,typeof _.setProperty=="function"?_.setProperty("display","none","important"):_.display="none";else{T=N.stateNode;var W=N.memoizedProps.style,F=W!=null&&W.hasOwnProperty("display")?W.display:null;T.style.display=F==null||typeof F=="boolean"?"":(""+F).trim()}}catch(fe){We(N,N.return,fe)}}}else if(i.tag===6){if(a===null){N=i;try{N.stateNode.nodeValue=h?"":N.memoizedProps}catch(fe){We(N,N.return,fe)}}}else if(i.tag===18){if(a===null){N=i;try{var Q=N.stateNode;h?Av(Q,!0):Av(N.stateNode,!1)}catch(fe){We(N,N.return,fe)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===t)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break e;for(;i.sibling===null;){if(i.return===null||i.return===t)break e;a===i&&(a=null),i=i.return}a===i&&(a=null),i.sibling.return=i.return,i=i.sibling}l&4&&(l=t.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,Lc(t,a))));break;case 19:on(i,t),ln(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Lc(t,l)));break;case 30:break;case 21:break;default:on(i,t),ln(t)}}function ln(t){var i=t.flags;if(i&2){try{for(var a,l=t.return;l!==null;){if(R_(l)){a=l;break}l=l.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var h=a.stateNode,d=Pd(t);kc(t,d,h);break;case 5:var _=a.stateNode;a.flags&32&&(sn(_,""),a.flags&=-33);var T=Pd(t);kc(t,T,_);break;case 3:case 4:var N=a.stateNode.containerInfo,H=Pd(t);Ud(t,H,N);break;default:throw Error(s(161))}}catch(X){We(t,t.return,X)}t.flags&=-3}i&4096&&(t.flags&=-4097)}function k_(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var i=t;k_(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),t=t.sibling}}function er(t,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)I_(t,i.alternate,i),i=i.sibling}function Zs(t){for(t=t.child;t!==null;){var i=t;switch(i.tag){case 0:case 11:case 14:case 15:jr(4,i,i.return),Zs(i);break;case 1:Ri(i,i.return);var a=i.stateNode;typeof a.componentWillUnmount=="function"&&A_(i,i.return,a),Zs(i);break;case 27:kl(i.stateNode);case 26:case 5:Ri(i,i.return),Zs(i);break;case 22:i.memoizedState===null&&Zs(i);break;case 30:Zs(i);break;default:Zs(i)}t=t.sibling}}function tr(t,i,a){for(a=a&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var l=i.alternate,h=t,d=i,_=d.flags;switch(d.tag){case 0:case 11:case 15:tr(h,d,a),wl(4,d);break;case 1:if(tr(h,d,a),l=d,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(H){We(l,l.return,H)}if(l=d,h=l.updateQueue,h!==null){var T=l.stateNode;try{var N=h.shared.hiddenCallbacks;if(N!==null)for(h.shared.hiddenCallbacks=null,h=0;h<N.length;h++)fy(N[h],T)}catch(H){We(l,l.return,H)}}a&&_&64&&S_(d),Rl(d,d.return);break;case 27:C_(d);case 26:case 5:tr(h,d,a),a&&l===null&&_&4&&w_(d),Rl(d,d.return);break;case 12:tr(h,d,a);break;case 31:tr(h,d,a),a&&_&4&&O_(h,d);break;case 13:tr(h,d,a),a&&_&4&&M_(h,d);break;case 22:d.memoizedState===null&&tr(h,d,a),Rl(d,d.return);break;case 30:break;default:tr(h,d,a)}i=i.sibling}}function zd(t,i){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(t=i.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&fl(a))}function Bd(t,i){t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&fl(t))}function Wn(t,i,a,l){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)L_(t,i,a,l),i=i.sibling}function L_(t,i,a,l){var h=i.flags;switch(i.tag){case 0:case 11:case 15:Wn(t,i,a,l),h&2048&&wl(9,i);break;case 1:Wn(t,i,a,l);break;case 3:Wn(t,i,a,l),h&2048&&(t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&fl(t)));break;case 12:if(h&2048){Wn(t,i,a,l),t=i.stateNode;try{var d=i.memoizedProps,_=d.id,T=d.onPostCommit;typeof T=="function"&&T(_,i.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(N){We(i,i.return,N)}}else Wn(t,i,a,l);break;case 31:Wn(t,i,a,l);break;case 13:Wn(t,i,a,l);break;case 23:break;case 22:d=i.stateNode,_=i.alternate,i.memoizedState!==null?d._visibility&2?Wn(t,i,a,l):Cl(t,i):d._visibility&2?Wn(t,i,a,l):(d._visibility|=2,Wa(t,i,a,l,(i.subtreeFlags&10256)!==0||!1)),h&2048&&zd(_,i);break;case 24:Wn(t,i,a,l),h&2048&&Bd(i.alternate,i);break;default:Wn(t,i,a,l)}}function Wa(t,i,a,l,h){for(h=h&&((i.subtreeFlags&10256)!==0||!1),i=i.child;i!==null;){var d=t,_=i,T=a,N=l,H=_.flags;switch(_.tag){case 0:case 11:case 15:Wa(d,_,T,N,h),wl(8,_);break;case 23:break;case 22:var X=_.stateNode;_.memoizedState!==null?X._visibility&2?Wa(d,_,T,N,h):Cl(d,_):(X._visibility|=2,Wa(d,_,T,N,h)),h&&H&2048&&zd(_.alternate,_);break;case 24:Wa(d,_,T,N,h),h&&H&2048&&Bd(_.alternate,_);break;default:Wa(d,_,T,N,h)}i=i.sibling}}function Cl(t,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var a=t,l=i,h=l.flags;switch(l.tag){case 22:Cl(a,l),h&2048&&zd(l.alternate,l);break;case 24:Cl(a,l),h&2048&&Bd(l.alternate,l);break;default:Cl(a,l)}i=i.sibling}}var xl=8192;function eo(t,i,a){if(t.subtreeFlags&xl)for(t=t.child;t!==null;)P_(t,i,a),t=t.sibling}function P_(t,i,a){switch(t.tag){case 26:eo(t,i,a),t.flags&xl&&t.memoizedState!==null&&wA(a,Jn,t.memoizedState,t.memoizedProps);break;case 5:eo(t,i,a);break;case 3:case 4:var l=Jn;Jn=Xc(t.stateNode.containerInfo),eo(t,i,a),Jn=l;break;case 22:t.memoizedState===null&&(l=t.alternate,l!==null&&l.memoizedState!==null?(l=xl,xl=16777216,eo(t,i,a),xl=l):eo(t,i,a));break;default:eo(t,i,a)}}function U_(t){var i=t.alternate;if(i!==null&&(t=i.child,t!==null)){i.child=null;do i=t.sibling,t.sibling=null,t=i;while(t!==null)}}function Il(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];Ut=l,z_(l,t)}U_(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)j_(t),t=t.sibling}function j_(t){switch(t.tag){case 0:case 11:case 15:Il(t),t.flags&2048&&jr(9,t,t.return);break;case 3:Il(t);break;case 12:Il(t);break;case 22:var i=t.stateNode;t.memoizedState!==null&&i._visibility&2&&(t.return===null||t.return.tag!==13)?(i._visibility&=-3,Pc(t)):Il(t);break;default:Il(t)}}function Pc(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];Ut=l,z_(l,t)}U_(t)}for(t=t.child;t!==null;){switch(i=t,i.tag){case 0:case 11:case 15:jr(8,i,i.return),Pc(i);break;case 22:a=i.stateNode,a._visibility&2&&(a._visibility&=-3,Pc(i));break;default:Pc(i)}t=t.sibling}}function z_(t,i){for(;Ut!==null;){var a=Ut;switch(a.tag){case 0:case 11:case 15:jr(8,a,i);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:fl(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,Ut=l;else e:for(a=t;Ut!==null;){l=Ut;var h=l.sibling,d=l.return;if(N_(l),l===a){Ut=null;break e}if(h!==null){h.return=d,Ut=h;break e}Ut=d}}}var zS={getCacheForType:function(t){var i=Ht(wt),a=i.data.get(t);return a===void 0&&(a=t(),i.data.set(t,a)),a},cacheSignal:function(){return Ht(wt).controller.signal}},BS=typeof WeakMap=="function"?WeakMap:Map,Ye=0,st=null,Me=null,ke=0,Je=0,Tn=null,zr=!1,to=!1,qd=!1,nr=0,mt=0,Br=0,Js=0,Hd=0,bn=0,no=0,Nl=null,un=null,Fd=!1,Uc=0,B_=0,jc=1/0,zc=null,qr=null,Vt=0,Hr=null,io=null,ir=0,Gd=0,$d=null,q_=null,Dl=0,Qd=null;function Sn(){return(Ye&2)!==0&&ke!==0?ke&-ke:K.T!==null?Wd():Bu()}function H_(){if(bn===0)if((ke&536870912)===0||ze){var t=ws;ws<<=1,(ws&3932160)===0&&(ws=262144),bn=t}else bn=536870912;return t=vn.current,t!==null&&(t.flags|=32),bn}function cn(t,i,a){(t===st&&(Je===2||Je===9)||t.cancelPendingCommit!==null)&&(ro(t,0),Fr(t,ke,bn,!1)),Rs(t,a),((Ye&2)===0||t!==st)&&(t===st&&((Ye&2)===0&&(Js|=a),mt===4&&Fr(t,ke,bn,!1)),Ci(t))}function F_(t,i,a){if((Ye&6)!==0)throw Error(s(327));var l=!a&&(i&127)===0&&(i&t.expiredLanes)===0||Hn(t,i),h=l?FS(t,i):Kd(t,i,!0),d=l;do{if(h===0){to&&!l&&Fr(t,i,0,!1);break}else{if(a=t.current.alternate,d&&!qS(a)){h=Kd(t,i,!1),d=!1;continue}if(h===2){if(d=i,t.errorRecoveryDisabledLanes&d)var _=0;else _=t.pendingLanes&-536870913,_=_!==0?_:_&536870912?536870912:0;if(_!==0){i=_;e:{var T=t;h=Nl;var N=T.current.memoizedState.isDehydrated;if(N&&(ro(T,_).flags|=256),_=Kd(T,_,!1),_!==2){if(qd&&!N){T.errorRecoveryDisabledLanes|=d,Js|=d,h=4;break e}d=un,un=h,d!==null&&(un===null?un=d:un.push.apply(un,d))}h=_}if(d=!1,h!==2)continue}}if(h===1){ro(t,0),Fr(t,i,0,!0);break}e:{switch(l=t,d=h,d){case 0:case 1:throw Error(s(345));case 4:if((i&4194048)!==i)break;case 6:Fr(l,i,bn,!zr);break e;case 2:un=null;break;case 3:case 5:break;default:throw Error(s(329))}if((i&62914560)===i&&(h=Uc+300-en(),10<h)){if(Fr(l,i,bn,!zr),ui(l,0,!0)!==0)break e;ir=i,l.timeoutHandle=Tv(G_.bind(null,l,a,un,zc,Fd,i,bn,Js,no,zr,d,"Throttled",-0,0),h);break e}G_(l,a,un,zc,Fd,i,bn,Js,no,zr,d,null,-0,0)}}break}while(!0);Ci(t)}function G_(t,i,a,l,h,d,_,T,N,H,X,W,F,Q){if(t.timeoutHandle=-1,W=i.subtreeFlags,W&8192||(W&16785408)===16785408){W={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:$n},P_(i,d,W);var fe=(d&62914560)===d?Uc-en():(d&4194048)===d?B_-en():0;if(fe=RA(W,fe),fe!==null){ir=d,t.cancelPendingCommit=fe(W_.bind(null,t,i,d,a,l,h,_,T,N,X,W,null,F,Q)),Fr(t,d,_,!H);return}}W_(t,i,d,a,l,h,_,T,N)}function qS(t){for(var i=t;;){var a=i.tag;if((a===0||a===11||a===15)&&i.flags&16384&&(a=i.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var h=a[l],d=h.getSnapshot;h=h.value;try{if(!yn(d(),h))return!1}catch{return!1}}if(a=i.child,i.subtreeFlags&16384&&a!==null)a.return=i,i=a;else{if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function Fr(t,i,a,l){i&=~Hd,i&=~Js,t.suspendedLanes|=i,t.pingedLanes&=~i,l&&(t.warmLanes|=i),l=t.expirationTimes;for(var h=i;0<h;){var d=31-pt(h),_=1<<d;l[d]=-1,h&=~_}a!==0&&Cs(t,a,i)}function Bc(){return(Ye&6)===0?(Ol(0),!1):!0}function Yd(){if(Me!==null){if(Je===0)var t=Me.return;else t=Me,$i=Hs=null,cd(t),Ya=null,ml=0,t=Me;for(;t!==null;)b_(t.alternate,t),t=t.return;Me=null}}function ro(t,i){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,lA(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),ir=0,Yd(),st=t,Me=a=Fi(t.current,null),ke=i,Je=0,Tn=null,zr=!1,to=Hn(t,i),qd=!1,no=bn=Hd=Js=Br=mt=0,un=Nl=null,Fd=!1,(i&8)!==0&&(i|=i&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=i;0<l;){var h=31-pt(l),d=1<<h;i|=t[h],l&=~d}return nr=i,lc(),a}function $_(t,i){Ne=null,K.H=bl,i===Qa||i===gc?(i=ly(),Je=3):i===Jf?(i=ly(),Je=4):Je=i===Rd?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,Tn=i,Me===null&&(mt=1,Nc(t,Nn(i,t.current)))}function Q_(){var t=vn.current;return t===null?!0:(ke&4194048)===ke?Vn===null:(ke&62914560)===ke||(ke&536870912)!==0?t===Vn:!1}function Y_(){var t=K.H;return K.H=bl,t===null?bl:t}function K_(){var t=K.A;return K.A=zS,t}function qc(){mt=4,zr||(ke&4194048)!==ke&&vn.current!==null||(to=!0),(Br&134217727)===0&&(Js&134217727)===0||st===null||Fr(st,ke,bn,!1)}function Kd(t,i,a){var l=Ye;Ye|=2;var h=Y_(),d=K_();(st!==t||ke!==i)&&(zc=null,ro(t,i)),i=!1;var _=mt;e:do try{if(Je!==0&&Me!==null){var T=Me,N=Tn;switch(Je){case 8:Yd(),_=6;break e;case 3:case 2:case 9:case 6:vn.current===null&&(i=!0);var H=Je;if(Je=0,Tn=null,so(t,T,N,H),a&&to){_=0;break e}break;default:H=Je,Je=0,Tn=null,so(t,T,N,H)}}HS(),_=mt;break}catch(X){$_(t,X)}while(!0);return i&&t.shellSuspendCounter++,$i=Hs=null,Ye=l,K.H=h,K.A=d,Me===null&&(st=null,ke=0,lc()),_}function HS(){for(;Me!==null;)X_(Me)}function FS(t,i){var a=Ye;Ye|=2;var l=Y_(),h=K_();st!==t||ke!==i?(zc=null,jc=en()+500,ro(t,i)):to=Hn(t,i);e:do try{if(Je!==0&&Me!==null){i=Me;var d=Tn;t:switch(Je){case 1:Je=0,Tn=null,so(t,i,d,1);break;case 2:case 9:if(ay(d)){Je=0,Tn=null,Z_(i);break}i=function(){Je!==2&&Je!==9||st!==t||(Je=7),Ci(t)},d.then(i,i);break e;case 3:Je=7;break e;case 4:Je=5;break e;case 7:ay(d)?(Je=0,Tn=null,Z_(i)):(Je=0,Tn=null,so(t,i,d,7));break;case 5:var _=null;switch(Me.tag){case 26:_=Me.memoizedState;case 5:case 27:var T=Me;if(_?Lv(_):T.stateNode.complete){Je=0,Tn=null;var N=T.sibling;if(N!==null)Me=N;else{var H=T.return;H!==null?(Me=H,Hc(H)):Me=null}break t}}Je=0,Tn=null,so(t,i,d,5);break;case 6:Je=0,Tn=null,so(t,i,d,6);break;case 8:Yd(),mt=6;break e;default:throw Error(s(462))}}GS();break}catch(X){$_(t,X)}while(!0);return $i=Hs=null,K.H=l,K.A=h,Ye=a,Me!==null?0:(st=null,ke=0,lc(),mt)}function GS(){for(;Me!==null&&!wf();)X_(Me)}function X_(t){var i=E_(t.alternate,t,nr);t.memoizedProps=t.pendingProps,i===null?Hc(t):Me=i}function Z_(t){var i=t,a=i.alternate;switch(i.tag){case 15:case 0:i=m_(a,i,i.pendingProps,i.type,void 0,ke);break;case 11:i=m_(a,i,i.pendingProps,i.type.render,i.ref,ke);break;case 5:cd(i);default:b_(a,i),i=Me=Kg(i,nr),i=E_(a,i,nr)}t.memoizedProps=t.pendingProps,i===null?Hc(t):Me=i}function so(t,i,a,l){$i=Hs=null,cd(i),Ya=null,ml=0;var h=i.return;try{if(MS(t,h,i,a,ke)){mt=1,Nc(t,Nn(a,t.current)),Me=null;return}}catch(d){if(h!==null)throw Me=h,d;mt=1,Nc(t,Nn(a,t.current)),Me=null;return}i.flags&32768?(ze||l===1?t=!0:to||(ke&536870912)!==0?t=!1:(zr=t=!0,(l===2||l===9||l===3||l===6)&&(l=vn.current,l!==null&&l.tag===13&&(l.flags|=16384))),J_(i,t)):Hc(i)}function Hc(t){var i=t;do{if((i.flags&32768)!==0){J_(i,zr);return}t=i.return;var a=LS(i.alternate,i,nr);if(a!==null){Me=a;return}if(i=i.sibling,i!==null){Me=i;return}Me=i=t}while(i!==null);mt===0&&(mt=5)}function J_(t,i){do{var a=PS(t.alternate,t);if(a!==null){a.flags&=32767,Me=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!i&&(t=t.sibling,t!==null)){Me=t;return}Me=t=a}while(t!==null);mt=6,Me=null}function W_(t,i,a,l,h,d,_,T,N){t.cancelPendingCommit=null;do Fc();while(Vt!==0);if((Ye&6)!==0)throw Error(s(327));if(i!==null){if(i===t.current)throw Error(s(177));if(d=i.lanes|i.childLanes,d|=Pf,xf(t,a,d,_,T,N),t===st&&(Me=st=null,ke=0),io=i,Hr=t,ir=a,Gd=d,$d=h,q_=l,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,KS(Er,function(){return rv(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||l){l=K.T,K.T=null,h=ae.p,ae.p=2,_=Ye,Ye|=4;try{US(t,i,a)}finally{Ye=_,ae.p=h,K.T=l}}Vt=1,ev(),tv(),nv()}}function ev(){if(Vt===1){Vt=0;var t=Hr,i=io,a=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||a){a=K.T,K.T=null;var l=ae.p;ae.p=2;var h=Ye;Ye|=4;try{V_(i,t);var d=om,_=zg(t.containerInfo),T=d.focusedElem,N=d.selectionRange;if(_!==T&&T&&T.ownerDocument&&jg(T.ownerDocument.documentElement,T)){if(N!==null&&Of(T)){var H=N.start,X=N.end;if(X===void 0&&(X=H),"selectionStart"in T)T.selectionStart=H,T.selectionEnd=Math.min(X,T.value.length);else{var W=T.ownerDocument||document,F=W&&W.defaultView||window;if(F.getSelection){var Q=F.getSelection(),fe=T.textContent.length,Ee=Math.min(N.start,fe),rt=N.end===void 0?Ee:Math.min(N.end,fe);!Q.extend&&Ee>rt&&(_=rt,rt=Ee,Ee=_);var U=Ug(T,Ee),L=Ug(T,rt);if(U&&L&&(Q.rangeCount!==1||Q.anchorNode!==U.node||Q.anchorOffset!==U.offset||Q.focusNode!==L.node||Q.focusOffset!==L.offset)){var q=W.createRange();q.setStart(U.node,U.offset),Q.removeAllRanges(),Ee>rt?(Q.addRange(q),Q.extend(L.node,L.offset)):(q.setEnd(L.node,L.offset),Q.addRange(q))}}}}for(W=[],Q=T;Q=Q.parentNode;)Q.nodeType===1&&W.push({element:Q,left:Q.scrollLeft,top:Q.scrollTop});for(typeof T.focus=="function"&&T.focus(),T=0;T<W.length;T++){var J=W[T];J.element.scrollLeft=J.left,J.element.scrollTop=J.top}}nh=!!am,om=am=null}finally{Ye=h,ae.p=l,K.T=a}}t.current=i,Vt=2}}function tv(){if(Vt===2){Vt=0;var t=Hr,i=io,a=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||a){a=K.T,K.T=null;var l=ae.p;ae.p=2;var h=Ye;Ye|=4;try{I_(t,i.alternate,i)}finally{Ye=h,ae.p=l,K.T=a}}Vt=3}}function nv(){if(Vt===4||Vt===3){Vt=0,Vu();var t=Hr,i=io,a=ir,l=q_;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?Vt=5:(Vt=0,io=Hr=null,iv(t,t.pendingLanes));var h=t.pendingLanes;if(h===0&&(qr=null),zi(a),i=i.stateNode,zt&&typeof zt.onCommitFiberRoot=="function")try{zt.onCommitFiberRoot(qn,i,void 0,(i.current.flags&128)===128)}catch{}if(l!==null){i=K.T,h=ae.p,ae.p=2,K.T=null;try{for(var d=t.onRecoverableError,_=0;_<l.length;_++){var T=l[_];d(T.value,{componentStack:T.stack})}}finally{K.T=i,ae.p=h}}(ir&3)!==0&&Fc(),Ci(t),h=t.pendingLanes,(a&261930)!==0&&(h&42)!==0?t===Qd?Dl++:(Dl=0,Qd=t):Dl=0,Ol(0)}}function iv(t,i){(t.pooledCacheLanes&=i)===0&&(i=t.pooledCache,i!=null&&(t.pooledCache=null,fl(i)))}function Fc(){return ev(),tv(),nv(),rv()}function rv(){if(Vt!==5)return!1;var t=Hr,i=Gd;Gd=0;var a=zi(ir),l=K.T,h=ae.p;try{ae.p=32>a?32:a,K.T=null,a=$d,$d=null;var d=Hr,_=ir;if(Vt=0,io=Hr=null,ir=0,(Ye&6)!==0)throw Error(s(331));var T=Ye;if(Ye|=4,j_(d.current),L_(d,d.current,_,a),Ye=T,Ol(0,!1),zt&&typeof zt.onPostCommitFiberRoot=="function")try{zt.onPostCommitFiberRoot(qn,d)}catch{}return!0}finally{ae.p=h,K.T=l,iv(t,i)}}function sv(t,i,a){i=Nn(a,i),i=wd(t.stateNode,i,2),t=Lr(t,i,2),t!==null&&(Rs(t,2),Ci(t))}function We(t,i,a){if(t.tag===3)sv(t,t,a);else for(;i!==null;){if(i.tag===3){sv(i,t,a);break}else if(i.tag===1){var l=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(qr===null||!qr.has(l))){t=Nn(a,t),a=a_(2),l=Lr(i,a,2),l!==null&&(o_(a,l,i,t),Rs(l,2),Ci(l));break}}i=i.return}}function Xd(t,i,a){var l=t.pingCache;if(l===null){l=t.pingCache=new BS;var h=new Set;l.set(i,h)}else h=l.get(i),h===void 0&&(h=new Set,l.set(i,h));h.has(a)||(qd=!0,h.add(a),t=$S.bind(null,t,i,a),i.then(t,t))}function $S(t,i,a){var l=t.pingCache;l!==null&&l.delete(i),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,st===t&&(ke&a)===a&&(mt===4||mt===3&&(ke&62914560)===ke&&300>en()-Uc?(Ye&2)===0&&ro(t,0):Hd|=a,no===ke&&(no=0)),Ci(t)}function av(t,i){i===0&&(i=zu()),t=zs(t,i),t!==null&&(Rs(t,i),Ci(t))}function QS(t){var i=t.memoizedState,a=0;i!==null&&(a=i.retryLane),av(t,a)}function YS(t,i){var a=0;switch(t.tag){case 31:case 13:var l=t.stateNode,h=t.memoizedState;h!==null&&(a=h.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(i),av(t,a)}function KS(t,i){return Mt(t,i)}var Gc=null,ao=null,Zd=!1,$c=!1,Jd=!1,Gr=0;function Ci(t){t!==ao&&t.next===null&&(ao===null?Gc=ao=t:ao=ao.next=t),$c=!0,Zd||(Zd=!0,ZS())}function Ol(t,i){if(!Jd&&$c){Jd=!0;do for(var a=!1,l=Gc;l!==null;){if(t!==0){var h=l.pendingLanes;if(h===0)var d=0;else{var _=l.suspendedLanes,T=l.pingedLanes;d=(1<<31-pt(42|t)+1)-1,d&=h&~(_&~T),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(a=!0,cv(l,d))}else d=ke,d=ui(l,l===st?d:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(d&3)===0||Hn(l,d)||(a=!0,cv(l,d));l=l.next}while(a);Jd=!1}}function XS(){ov()}function ov(){$c=Zd=!1;var t=0;Gr!==0&&oA()&&(t=Gr);for(var i=en(),a=null,l=Gc;l!==null;){var h=l.next,d=lv(l,i);d===0?(l.next=null,a===null?Gc=h:a.next=h,h===null&&(ao=a)):(a=l,(t!==0||(d&3)!==0)&&($c=!0)),l=h}Vt!==0&&Vt!==5||Ol(t),Gr!==0&&(Gr=0)}function lv(t,i){for(var a=t.suspendedLanes,l=t.pingedLanes,h=t.expirationTimes,d=t.pendingLanes&-62914561;0<d;){var _=31-pt(d),T=1<<_,N=h[_];N===-1?((T&a)===0||(T&l)!==0)&&(h[_]=Cf(T,i)):N<=i&&(t.expiredLanes|=T),d&=~T}if(i=st,a=ke,a=ui(t,t===i?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,a===0||t===i&&(Je===2||Je===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&vr(l),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||Hn(t,a)){if(i=a&-a,i===t.callbackPriority)return i;switch(l!==null&&vr(l),zi(a)){case 2:case 8:a=qo;break;case 32:a=Er;break;case 268435456:a=ku;break;default:a=Er}return l=uv.bind(null,t),a=Mt(a,l),t.callbackPriority=i,t.callbackNode=a,i}return l!==null&&l!==null&&vr(l),t.callbackPriority=2,t.callbackNode=null,2}function uv(t,i){if(Vt!==0&&Vt!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(Fc()&&t.callbackNode!==a)return null;var l=ke;return l=ui(t,t===st?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(F_(t,l,i),lv(t,en()),t.callbackNode!=null&&t.callbackNode===a?uv.bind(null,t):null)}function cv(t,i){if(Fc())return null;F_(t,i,!0)}function ZS(){uA(function(){(Ye&6)!==0?Mt(Bo,XS):ov()})}function Wd(){if(Gr===0){var t=Ga;t===0&&(t=oi,oi<<=1,(oi&261888)===0&&(oi=256)),Gr=t}return Gr}function hv(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Na(""+t)}function fv(t,i){var a=i.ownerDocument.createElement("input");return a.name=i.name,a.value=i.value,t.id&&a.setAttribute("form",t.id),i.parentNode.insertBefore(a,i),t=new FormData(t),a.parentNode.removeChild(a),t}function JS(t,i,a,l,h){if(i==="submit"&&a&&a.stateNode===h){var d=hv((h[Lt]||null).action),_=l.submitter;_&&(i=(i=_[Lt]||null)?hv(i.formAction):_.getAttribute("formAction"),i!==null&&(d=i,_=null));var T=new Ei("action","action",null,l,h);t.push({event:T,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Gr!==0){var N=_?fv(h,_):new FormData(h);vd(a,{pending:!0,data:N,method:h.method,action:d},null,N)}}else typeof d=="function"&&(T.preventDefault(),N=_?fv(h,_):new FormData(h),vd(a,{pending:!0,data:N,method:h.method,action:d},d,N))},currentTarget:h}]})}}for(var em=0;em<Lf.length;em++){var tm=Lf[em],WS=tm.toLowerCase(),eA=tm[0].toUpperCase()+tm.slice(1);Zn(WS,"on"+eA)}Zn(Hg,"onAnimationEnd"),Zn(Fg,"onAnimationIteration"),Zn(Gg,"onAnimationStart"),Zn("dblclick","onDoubleClick"),Zn("focusin","onFocus"),Zn("focusout","onBlur"),Zn(gS,"onTransitionRun"),Zn(yS,"onTransitionStart"),Zn(_S,"onTransitionCancel"),Zn($g,"onTransitionEnd"),gi("onMouseEnter",["mouseout","mouseover"]),gi("onMouseLeave",["mouseout","mouseover"]),gi("onPointerEnter",["pointerout","pointerover"]),gi("onPointerLeave",["pointerout","pointerover"]),pi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),pi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),pi("onBeforeInput",["compositionend","keypress","textInput","paste"]),pi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),pi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),pi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ml="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),tA=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Ml));function dv(t,i){i=(i&4)!==0;for(var a=0;a<t.length;a++){var l=t[a],h=l.event;l=l.listeners;e:{var d=void 0;if(i)for(var _=l.length-1;0<=_;_--){var T=l[_],N=T.instance,H=T.currentTarget;if(T=T.listener,N!==d&&h.isPropagationStopped())break e;d=T,h.currentTarget=H;try{d(h)}catch(X){oc(X)}h.currentTarget=null,d=N}else for(_=0;_<l.length;_++){if(T=l[_],N=T.instance,H=T.currentTarget,T=T.listener,N!==d&&h.isPropagationStopped())break e;d=T,h.currentTarget=H;try{d(h)}catch(X){oc(X)}h.currentTarget=null,d=N}}}}function Ve(t,i){var a=i[wa];a===void 0&&(a=i[wa]=new Set);var l=t+"__bubble";a.has(l)||(mv(i,t,2,!1),a.add(l))}function nm(t,i,a){var l=0;i&&(l|=4),mv(a,t,l,i)}var Qc="_reactListening"+Math.random().toString(36).slice(2);function im(t){if(!t[Qc]){t[Qc]=!0,Go.forEach(function(a){a!=="selectionchange"&&(tA.has(a)||nm(a,!1,t),nm(a,!0,t))});var i=t.nodeType===9?t:t.ownerDocument;i===null||i[Qc]||(i[Qc]=!0,nm("selectionchange",!1,i))}}function mv(t,i,a,l){switch(Hv(i)){case 2:var h=IA;break;case 8:h=NA;break;default:h=_m}a=h.bind(null,i,a,t),h=void 0,!Os||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(h=!0),l?h!==void 0?t.addEventListener(i,a,{capture:!0,passive:h}):t.addEventListener(i,a,!0):h!==void 0?t.addEventListener(i,a,{passive:h}):t.addEventListener(i,a,!1)}function rm(t,i,a,l,h){var d=l;if((i&1)===0&&(i&2)===0&&l!==null)e:for(;;){if(l===null)return;var _=l.tag;if(_===3||_===4){var T=l.stateNode.containerInfo;if(T===h)break;if(_===4)for(_=l.return;_!==null;){var N=_.tag;if((N===3||N===4)&&_.stateNode.containerInfo===h)return;_=_.return}for(;T!==null;){if(_=di(T),_===null)return;if(N=_.tag,N===5||N===6||N===26||N===27){l=d=_;continue e}T=T.parentNode}}l=l.return}Rr(function(){var H=d,X=Rn(a),W=[];e:{var F=Qg.get(t);if(F!==void 0){var Q=Ei,fe=t;switch(t){case"keypress":if(Vs(a)===0)break e;case"keydown":case"keyup":Q=rc;break;case"focusin":fe="focus",Q=Ls;break;case"focusout":fe="blur",Q=Ls;break;case"beforeblur":case"afterblur":Q=Ls;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Q=rl;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Q=Ku;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Q=g;break;case Hg:case Fg:case Gg:Q=Zu;break;case $g:Q=A;break;case"scroll":case"scrollend":Q=il;break;case"wheel":Q=G;break;case"copy":case"cut":case"paste":Q=Ju;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Q=Hi;break;case"toggle":case"beforetoggle":Q=Ie}var Ee=(i&4)!==0,rt=!Ee&&(t==="scroll"||t==="scrollend"),U=Ee?F!==null?F+"Capture":null:F;Ee=[];for(var L=H,q;L!==null;){var J=L;if(q=J.stateNode,J=J.tag,J!==5&&J!==26&&J!==27||q===null||U===null||(J=Qn(L,U),J!=null&&Ee.push(Vl(L,J,q))),rt)break;L=L.return}0<Ee.length&&(F=new Q(F,fe,null,a,X),W.push({event:F,listeners:Ee}))}}if((i&7)===0){e:{if(F=t==="mouseover"||t==="pointerover",Q=t==="mouseout"||t==="pointerout",F&&a!==el&&(fe=a.relatedTarget||a.fromElement)&&(di(fe)||fe[hi]))break e;if((Q||F)&&(F=X.window===X?X:(F=X.ownerDocument)?F.defaultView||F.parentWindow:window,Q?(fe=a.relatedTarget||a.toElement,Q=H,fe=fe?di(fe):null,fe!==null&&(rt=u(fe),Ee=fe.tag,fe!==rt||Ee!==5&&Ee!==27&&Ee!==6)&&(fe=null)):(Q=null,fe=H),Q!==fe)){if(Ee=rl,J="onMouseLeave",U="onMouseEnter",L="mouse",(t==="pointerout"||t==="pointerover")&&(Ee=Hi,J="onPointerLeave",U="onPointerEnter",L="pointer"),rt=Q==null?F:pn(Q),q=fe==null?F:pn(fe),F=new Ee(J,L+"leave",Q,a,X),F.target=rt,F.relatedTarget=q,J=null,di(X)===H&&(Ee=new Ee(U,L+"enter",fe,a,X),Ee.target=q,Ee.relatedTarget=rt,J=Ee),rt=J,Q&&fe)t:{for(Ee=nA,U=Q,L=fe,q=0,J=U;J;J=Ee(J))q++;J=0;for(var _e=L;_e;_e=Ee(_e))J++;for(;0<q-J;)U=Ee(U),q--;for(;0<J-q;)L=Ee(L),J--;for(;q--;){if(U===L||L!==null&&U===L.alternate){Ee=U;break t}U=Ee(U),L=Ee(L)}Ee=null}else Ee=null;Q!==null&&pv(W,F,Q,Ee,!1),fe!==null&&rt!==null&&pv(W,rt,fe,Ee,!0)}}e:{if(F=H?pn(H):window,Q=F.nodeName&&F.nodeName.toLowerCase(),Q==="select"||Q==="input"&&F.type==="file")var Fe=Og;else if(Ng(F))if(Mg)Fe=dS;else{Fe=hS;var me=cS}else Q=F.nodeName,!Q||Q.toLowerCase()!=="input"||F.type!=="checkbox"&&F.type!=="radio"?H&&Ia(H.elementType)&&(Fe=Og):Fe=fS;if(Fe&&(Fe=Fe(t,H))){Dg(W,Fe,a,X);break e}me&&me(t,F,H),t==="focusout"&&H&&F.type==="number"&&H.memoizedProps.value!=null&&Zo(F,"number",F.value)}switch(me=H?pn(H):window,t){case"focusin":(Ng(me)||me.contentEditable==="true")&&(Pa=me,Mf=H,ul=null);break;case"focusout":ul=Mf=Pa=null;break;case"mousedown":Vf=!0;break;case"contextmenu":case"mouseup":case"dragend":Vf=!1,Bg(W,a,X);break;case"selectionchange":if(pS)break;case"keydown":case"keyup":Bg(W,a,X)}var De;if(Qe)e:{switch(t){case"compositionstart":var Le="onCompositionStart";break e;case"compositionend":Le="onCompositionEnd";break e;case"compositionupdate":Le="onCompositionUpdate";break e}Le=void 0}else La?Ps(t,a)&&(Le="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(Le="onCompositionStart");Le&&(Si&&a.locale!=="ko"&&(La||Le!=="onCompositionStart"?Le==="onCompositionEnd"&&La&&(De=nl()):(vi=X,tl="value"in vi?vi.value:vi.textContent,La=!0)),me=Yc(H,Le),0<me.length&&(Le=new bi(Le,t,null,a,X),W.push({event:Le,listeners:me}),De?Le.data=De:(De=ka(a),De!==null&&(Le.data=De)))),(De=xn?aS(t,a):oS(t,a))&&(Le=Yc(H,"onBeforeInput"),0<Le.length&&(me=new bi("onBeforeInput","beforeinput",null,a,X),W.push({event:me,listeners:Le}),me.data=De)),JS(W,t,H,a,X)}dv(W,i)})}function Vl(t,i,a){return{instance:t,listener:i,currentTarget:a}}function Yc(t,i){for(var a=i+"Capture",l=[];t!==null;){var h=t,d=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||d===null||(h=Qn(t,a),h!=null&&l.unshift(Vl(t,h,d)),h=Qn(t,i),h!=null&&l.push(Vl(t,h,d))),t.tag===3)return l;t=t.return}return[]}function nA(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function pv(t,i,a,l,h){for(var d=i._reactName,_=[];a!==null&&a!==l;){var T=a,N=T.alternate,H=T.stateNode;if(T=T.tag,N!==null&&N===l)break;T!==5&&T!==26&&T!==27||H===null||(N=H,h?(H=Qn(a,d),H!=null&&_.unshift(Vl(a,H,N))):h||(H=Qn(a,d),H!=null&&_.push(Vl(a,H,N)))),a=a.return}_.length!==0&&t.push({event:i,listeners:_})}var iA=/\r\n?/g,rA=/\u0000|\uFFFD/g;function gv(t){return(typeof t=="string"?t:""+t).replace(iA,`
`).replace(rA,"")}function yv(t,i){return i=gv(i),gv(t)===i}function it(t,i,a,l,h,d){switch(a){case"children":typeof l=="string"?i==="body"||i==="textarea"&&l===""||sn(t,l):(typeof l=="number"||typeof l=="bigint")&&i!=="body"&&sn(t,""+l);break;case"className":gn(t,"class",l);break;case"tabIndex":gn(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":gn(t,a,l);break;case"style":Wo(t,l,d);break;case"data":if(i!=="object"){gn(t,"data",l);break}case"src":case"href":if(l===""&&(i!=="a"||a!=="href")){t.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=Na(""+l),t.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(a==="formAction"?(i!=="input"&&it(t,i,"name",h.name,h,null),it(t,i,"formEncType",h.formEncType,h,null),it(t,i,"formMethod",h.formMethod,h,null),it(t,i,"formTarget",h.formTarget,h,null)):(it(t,i,"encType",h.encType,h,null),it(t,i,"method",h.method,h,null),it(t,i,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=Na(""+l),t.setAttribute(a,l);break;case"onClick":l!=null&&(t.onclick=$n);break;case"onScroll":l!=null&&Ve("scroll",t);break;case"onScrollEnd":l!=null&&Ve("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}a=Na(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""+l):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":l===!0?t.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,l):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(a,l):t.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(a):t.setAttribute(a,l);break;case"popover":Ve("beforetoggle",t),Ve("toggle",t),Ca(t,"popover",l);break;case"xlinkActuate":At(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":At(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":At(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":At(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":At(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":At(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":At(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":At(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":At(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Ca(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Yu.get(a)||a,Ca(t,a,l))}}function sm(t,i,a,l,h,d){switch(a){case"style":Wo(t,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"children":typeof l=="string"?sn(t,l):(typeof l=="number"||typeof l=="bigint")&&sn(t,""+l);break;case"onScroll":l!=null&&Ve("scroll",t);break;case"onScrollEnd":l!=null&&Ve("scrollend",t);break;case"onClick":l!=null&&(t.onclick=$n);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!$o.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),i=a.slice(2,h?a.length-7:void 0),d=t[Lt]||null,d=d!=null?d[a]:null,typeof d=="function"&&t.removeEventListener(i,d,h),typeof l=="function")){typeof d!="function"&&d!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(i,l,h);break e}a in t?t[a]=l:l===!0?t.setAttribute(a,""):Ca(t,a,l)}}}function Gt(t,i,a){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ve("error",t),Ve("load",t);var l=!1,h=!1,d;for(d in a)if(a.hasOwnProperty(d)){var _=a[d];if(_!=null)switch(d){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:it(t,i,d,_,a,null)}}h&&it(t,i,"srcSet",a.srcSet,a,null),l&&it(t,i,"src",a.src,a,null);return;case"input":Ve("invalid",t);var T=d=_=h=null,N=null,H=null;for(l in a)if(a.hasOwnProperty(l)){var X=a[l];if(X!=null)switch(l){case"name":h=X;break;case"type":_=X;break;case"checked":N=X;break;case"defaultChecked":H=X;break;case"value":d=X;break;case"defaultValue":T=X;break;case"children":case"dangerouslySetInnerHTML":if(X!=null)throw Error(s(137,i));break;default:it(t,i,l,X,a,null)}}Gu(t,d,T,N,H,_,h,!1);return;case"select":Ve("invalid",t),l=_=d=null;for(h in a)if(a.hasOwnProperty(h)&&(T=a[h],T!=null))switch(h){case"value":d=T;break;case"defaultValue":_=T;break;case"multiple":l=T;default:it(t,i,h,T,a,null)}i=d,a=_,t.multiple=!!l,i!=null?br(t,!!l,i,!1):a!=null&&br(t,!!l,a,!0);return;case"textarea":Ve("invalid",t),d=h=l=null;for(_ in a)if(a.hasOwnProperty(_)&&(T=a[_],T!=null))switch(_){case"value":l=T;break;case"defaultValue":h=T;break;case"children":d=T;break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(s(91));break;default:it(t,i,_,T,a,null)}Sr(t,l,h,d);return;case"option":for(N in a)if(a.hasOwnProperty(N)&&(l=a[N],l!=null))switch(N){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:it(t,i,N,l,a,null)}return;case"dialog":Ve("beforetoggle",t),Ve("toggle",t),Ve("cancel",t),Ve("close",t);break;case"iframe":case"object":Ve("load",t);break;case"video":case"audio":for(l=0;l<Ml.length;l++)Ve(Ml[l],t);break;case"image":Ve("error",t),Ve("load",t);break;case"details":Ve("toggle",t);break;case"embed":case"source":case"link":Ve("error",t),Ve("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(H in a)if(a.hasOwnProperty(H)&&(l=a[H],l!=null))switch(H){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:it(t,i,H,l,a,null)}return;default:if(Ia(i)){for(X in a)a.hasOwnProperty(X)&&(l=a[X],l!==void 0&&sm(t,i,X,l,a,void 0));return}}for(T in a)a.hasOwnProperty(T)&&(l=a[T],l!=null&&it(t,i,T,l,a,null))}function sA(t,i,a,l){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,d=null,_=null,T=null,N=null,H=null,X=null;for(Q in a){var W=a[Q];if(a.hasOwnProperty(Q)&&W!=null)switch(Q){case"checked":break;case"value":break;case"defaultValue":N=W;default:l.hasOwnProperty(Q)||it(t,i,Q,null,l,W)}}for(var F in l){var Q=l[F];if(W=a[F],l.hasOwnProperty(F)&&(Q!=null||W!=null))switch(F){case"type":d=Q;break;case"name":h=Q;break;case"checked":H=Q;break;case"defaultChecked":X=Q;break;case"value":_=Q;break;case"defaultValue":T=Q;break;case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(s(137,i));break;default:Q!==W&&it(t,i,F,Q,l,W)}}xa(t,_,T,N,H,X,d,h);return;case"select":Q=_=T=F=null;for(d in a)if(N=a[d],a.hasOwnProperty(d)&&N!=null)switch(d){case"value":break;case"multiple":Q=N;default:l.hasOwnProperty(d)||it(t,i,d,null,l,N)}for(h in l)if(d=l[h],N=a[h],l.hasOwnProperty(h)&&(d!=null||N!=null))switch(h){case"value":F=d;break;case"defaultValue":T=d;break;case"multiple":_=d;default:d!==N&&it(t,i,h,d,l,N)}i=T,a=_,l=Q,F!=null?br(t,!!a,F,!1):!!l!=!!a&&(i!=null?br(t,!!a,i,!0):br(t,!!a,a?[]:"",!1));return;case"textarea":Q=F=null;for(T in a)if(h=a[T],a.hasOwnProperty(T)&&h!=null&&!l.hasOwnProperty(T))switch(T){case"value":break;case"children":break;default:it(t,i,T,null,l,h)}for(_ in l)if(h=l[_],d=a[_],l.hasOwnProperty(_)&&(h!=null||d!=null))switch(_){case"value":F=h;break;case"defaultValue":Q=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(s(91));break;default:h!==d&&it(t,i,_,h,l,d)}$u(t,F,Q);return;case"option":for(var fe in a)if(F=a[fe],a.hasOwnProperty(fe)&&F!=null&&!l.hasOwnProperty(fe))switch(fe){case"selected":t.selected=!1;break;default:it(t,i,fe,null,l,F)}for(N in l)if(F=l[N],Q=a[N],l.hasOwnProperty(N)&&F!==Q&&(F!=null||Q!=null))switch(N){case"selected":t.selected=F&&typeof F!="function"&&typeof F!="symbol";break;default:it(t,i,N,F,l,Q)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ee in a)F=a[Ee],a.hasOwnProperty(Ee)&&F!=null&&!l.hasOwnProperty(Ee)&&it(t,i,Ee,null,l,F);for(H in l)if(F=l[H],Q=a[H],l.hasOwnProperty(H)&&F!==Q&&(F!=null||Q!=null))switch(H){case"children":case"dangerouslySetInnerHTML":if(F!=null)throw Error(s(137,i));break;default:it(t,i,H,F,l,Q)}return;default:if(Ia(i)){for(var rt in a)F=a[rt],a.hasOwnProperty(rt)&&F!==void 0&&!l.hasOwnProperty(rt)&&sm(t,i,rt,void 0,l,F);for(X in l)F=l[X],Q=a[X],!l.hasOwnProperty(X)||F===Q||F===void 0&&Q===void 0||sm(t,i,X,F,l,Q);return}}for(var U in a)F=a[U],a.hasOwnProperty(U)&&F!=null&&!l.hasOwnProperty(U)&&it(t,i,U,null,l,F);for(W in l)F=l[W],Q=a[W],!l.hasOwnProperty(W)||F===Q||F==null&&Q==null||it(t,i,W,F,l,Q)}function _v(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function aA(){if(typeof performance.getEntriesByType=="function"){for(var t=0,i=0,a=performance.getEntriesByType("resource"),l=0;l<a.length;l++){var h=a[l],d=h.transferSize,_=h.initiatorType,T=h.duration;if(d&&T&&_v(_)){for(_=0,T=h.responseEnd,l+=1;l<a.length;l++){var N=a[l],H=N.startTime;if(H>T)break;var X=N.transferSize,W=N.initiatorType;X&&_v(W)&&(N=N.responseEnd,_+=X*(N<T?1:(T-H)/(N-H)))}if(--l,i+=8*(d+_)/(h.duration/1e3),t++,10<t)break}}if(0<t)return i/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var am=null,om=null;function Kc(t){return t.nodeType===9?t:t.ownerDocument}function vv(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Ev(t,i){if(t===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&i==="foreignObject"?0:t}function lm(t,i){return t==="textarea"||t==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var um=null;function oA(){var t=window.event;return t&&t.type==="popstate"?t===um?!1:(um=t,!0):(um=null,!1)}var Tv=typeof setTimeout=="function"?setTimeout:void 0,lA=typeof clearTimeout=="function"?clearTimeout:void 0,bv=typeof Promise=="function"?Promise:void 0,uA=typeof queueMicrotask=="function"?queueMicrotask:typeof bv<"u"?function(t){return bv.resolve(null).then(t).catch(cA)}:Tv;function cA(t){setTimeout(function(){throw t})}function $r(t){return t==="head"}function Sv(t,i){var a=i,l=0;do{var h=a.nextSibling;if(t.removeChild(a),h&&h.nodeType===8)if(a=h.data,a==="/$"||a==="/&"){if(l===0){t.removeChild(h),co(i);return}l--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")l++;else if(a==="html")kl(t.ownerDocument.documentElement);else if(a==="head"){a=t.ownerDocument.head,kl(a);for(var d=a.firstChild;d;){var _=d.nextSibling,T=d.nodeName;d[fi]||T==="SCRIPT"||T==="STYLE"||T==="LINK"&&d.rel.toLowerCase()==="stylesheet"||a.removeChild(d),d=_}}else a==="body"&&kl(t.ownerDocument.body);a=h}while(a);co(i)}function Av(t,i){var a=t;t=0;do{var l=a.nextSibling;if(a.nodeType===1?i?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(i?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),l&&l.nodeType===8)if(a=l.data,a==="/$"){if(t===0)break;t--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||t++;a=l}while(a)}function cm(t){var i=t.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var a=i;switch(i=i.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":cm(a),Ra(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function hA(t,i,a,l){for(;t.nodeType===1;){var h=a;if(t.nodeName.toLowerCase()!==i.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[fi])switch(i){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(d=t.getAttribute("rel"),d==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(d!==h.rel||t.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||t.getAttribute("title")!==(h.title==null?null:h.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(d=t.getAttribute("src"),(d!==(h.src==null?null:h.src)||t.getAttribute("type")!==(h.type==null?null:h.type)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&d&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(i==="input"&&t.type==="hidden"){var d=h.name==null?null:""+h.name;if(h.type==="hidden"&&t.getAttribute("name")===d)return t}else return t;if(t=kn(t.nextSibling),t===null)break}return null}function fA(t,i,a){if(i==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=kn(t.nextSibling),t===null))return null;return t}function wv(t,i){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!i||(t=kn(t.nextSibling),t===null))return null;return t}function hm(t){return t.data==="$?"||t.data==="$~"}function fm(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function dA(t,i){var a=t.ownerDocument;if(t.data==="$~")t._reactRetry=i;else if(t.data!=="$?"||a.readyState!=="loading")i();else{var l=function(){i(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function kn(t){for(;t!=null;t=t.nextSibling){var i=t.nodeType;if(i===1||i===3)break;if(i===8){if(i=t.data,i==="$"||i==="$!"||i==="$?"||i==="$~"||i==="&"||i==="F!"||i==="F")break;if(i==="/$"||i==="/&")return null}}return t}var dm=null;function Rv(t){t=t.nextSibling;for(var i=0;t;){if(t.nodeType===8){var a=t.data;if(a==="/$"||a==="/&"){if(i===0)return kn(t.nextSibling);i--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||i++}t=t.nextSibling}return null}function Cv(t){t=t.previousSibling;for(var i=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(i===0)return t;i--}else a!=="/$"&&a!=="/&"||i++}t=t.previousSibling}return null}function xv(t,i,a){switch(i=Kc(a),t){case"html":if(t=i.documentElement,!t)throw Error(s(452));return t;case"head":if(t=i.head,!t)throw Error(s(453));return t;case"body":if(t=i.body,!t)throw Error(s(454));return t;default:throw Error(s(451))}}function kl(t){for(var i=t.attributes;i.length;)t.removeAttributeNode(i[0]);Ra(t)}var Ln=new Map,Iv=new Set;function Xc(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var rr=ae.d;ae.d={f:mA,r:pA,D:gA,C:yA,L:_A,m:vA,X:TA,S:EA,M:bA};function mA(){var t=rr.f(),i=Bc();return t||i}function pA(t){var i=wn(t);i!==null&&i.tag===5&&i.type==="form"?$y(i):rr.r(t)}var oo=typeof document>"u"?null:document;function Nv(t,i,a){var l=oo;if(l&&typeof i=="string"&&i){var h=rn(i);h='link[rel="'+t+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),Iv.has(h)||(Iv.add(h),t={rel:t,crossOrigin:a,href:i},l.querySelector(h)===null&&(i=l.createElement("link"),Gt(i,"link",t),St(i),l.head.appendChild(i)))}}function gA(t){rr.D(t),Nv("dns-prefetch",t,null)}function yA(t,i){rr.C(t,i),Nv("preconnect",t,i)}function _A(t,i,a){rr.L(t,i,a);var l=oo;if(l&&t&&i){var h='link[rel="preload"][as="'+rn(i)+'"]';i==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+rn(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+rn(a.imageSizes)+'"]')):h+='[href="'+rn(t)+'"]';var d=h;switch(i){case"style":d=lo(t);break;case"script":d=uo(t)}Ln.has(d)||(t=S({rel:"preload",href:i==="image"&&a&&a.imageSrcSet?void 0:t,as:i},a),Ln.set(d,t),l.querySelector(h)!==null||i==="style"&&l.querySelector(Ll(d))||i==="script"&&l.querySelector(Pl(d))||(i=l.createElement("link"),Gt(i,"link",t),St(i),l.head.appendChild(i)))}}function vA(t,i){rr.m(t,i);var a=oo;if(a&&t){var l=i&&typeof i.as=="string"?i.as:"script",h='link[rel="modulepreload"][as="'+rn(l)+'"][href="'+rn(t)+'"]',d=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=uo(t)}if(!Ln.has(d)&&(t=S({rel:"modulepreload",href:t},i),Ln.set(d,t),a.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Pl(d)))return}l=a.createElement("link"),Gt(l,"link",t),St(l),a.head.appendChild(l)}}}function EA(t,i,a){rr.S(t,i,a);var l=oo;if(l&&t){var h=mi(l).hoistableStyles,d=lo(t);i=i||"default";var _=h.get(d);if(!_){var T={loading:0,preload:null};if(_=l.querySelector(Ll(d)))T.loading=5;else{t=S({rel:"stylesheet",href:t,"data-precedence":i},a),(a=Ln.get(d))&&mm(t,a);var N=_=l.createElement("link");St(N),Gt(N,"link",t),N._p=new Promise(function(H,X){N.onload=H,N.onerror=X}),N.addEventListener("load",function(){T.loading|=1}),N.addEventListener("error",function(){T.loading|=2}),T.loading|=4,Zc(_,i,l)}_={type:"stylesheet",instance:_,count:1,state:T},h.set(d,_)}}}function TA(t,i){rr.X(t,i);var a=oo;if(a&&t){var l=mi(a).hoistableScripts,h=uo(t),d=l.get(h);d||(d=a.querySelector(Pl(h)),d||(t=S({src:t,async:!0},i),(i=Ln.get(h))&&pm(t,i),d=a.createElement("script"),St(d),Gt(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function bA(t,i){rr.M(t,i);var a=oo;if(a&&t){var l=mi(a).hoistableScripts,h=uo(t),d=l.get(h);d||(d=a.querySelector(Pl(h)),d||(t=S({src:t,async:!0,type:"module"},i),(i=Ln.get(h))&&pm(t,i),d=a.createElement("script"),St(d),Gt(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function Dv(t,i,a,l){var h=(h=ye.current)?Xc(h):null;if(!h)throw Error(s(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(i=lo(a.href),a=mi(h).hoistableStyles,l=a.get(i),l||(l={type:"style",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=lo(a.href);var d=mi(h).hoistableStyles,_=d.get(t);if(_||(h=h.ownerDocument||h,_={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(t,_),(d=h.querySelector(Ll(t)))&&!d._p&&(_.instance=d,_.state.loading=5),Ln.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Ln.set(t,a),d||SA(h,t,a,_.state))),i&&l===null)throw Error(s(528,""));return _}if(i&&l!==null)throw Error(s(529,""));return null;case"script":return i=a.async,a=a.src,typeof a=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=uo(a),a=mi(h).hoistableScripts,l=a.get(i),l||(l={type:"script",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,t))}}function lo(t){return'href="'+rn(t)+'"'}function Ll(t){return'link[rel="stylesheet"]['+t+"]"}function Ov(t){return S({},t,{"data-precedence":t.precedence,precedence:null})}function SA(t,i,a,l){t.querySelector('link[rel="preload"][as="style"]['+i+"]")?l.loading=1:(i=t.createElement("link"),l.preload=i,i.addEventListener("load",function(){return l.loading|=1}),i.addEventListener("error",function(){return l.loading|=2}),Gt(i,"link",a),St(i),t.head.appendChild(i))}function uo(t){return'[src="'+rn(t)+'"]'}function Pl(t){return"script[async]"+t}function Mv(t,i,a){if(i.count++,i.instance===null)switch(i.type){case"style":var l=t.querySelector('style[data-href~="'+rn(a.href)+'"]');if(l)return i.instance=l,St(l),l;var h=S({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),St(l),Gt(l,"style",h),Zc(l,a.precedence,t),i.instance=l;case"stylesheet":h=lo(a.href);var d=t.querySelector(Ll(h));if(d)return i.state.loading|=4,i.instance=d,St(d),d;l=Ov(a),(h=Ln.get(h))&&mm(l,h),d=(t.ownerDocument||t).createElement("link"),St(d);var _=d;return _._p=new Promise(function(T,N){_.onload=T,_.onerror=N}),Gt(d,"link",l),i.state.loading|=4,Zc(d,a.precedence,t),i.instance=d;case"script":return d=uo(a.src),(h=t.querySelector(Pl(d)))?(i.instance=h,St(h),h):(l=a,(h=Ln.get(d))&&(l=S({},a),pm(l,h)),t=t.ownerDocument||t,h=t.createElement("script"),St(h),Gt(h,"link",l),t.head.appendChild(h),i.instance=h);case"void":return null;default:throw Error(s(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(l=i.instance,i.state.loading|=4,Zc(l,a.precedence,t));return i.instance}function Zc(t,i,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,d=h,_=0;_<l.length;_++){var T=l[_];if(T.dataset.precedence===i)d=T;else if(d!==h)break}d?d.parentNode.insertBefore(t,d.nextSibling):(i=a.nodeType===9?a.head:a,i.insertBefore(t,i.firstChild))}function mm(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.title==null&&(t.title=i.title)}function pm(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.integrity==null&&(t.integrity=i.integrity)}var Jc=null;function Vv(t,i,a){if(Jc===null){var l=new Map,h=Jc=new Map;h.set(a,l)}else h=Jc,l=h.get(a),l||(l=new Map,h.set(a,l));if(l.has(t))return l;for(l.set(t,null),a=a.getElementsByTagName(t),h=0;h<a.length;h++){var d=a[h];if(!(d[fi]||d[bt]||t==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var _=d.getAttribute(i)||"";_=t+_;var T=l.get(_);T?T.push(d):l.set(_,[d])}}return l}function kv(t,i,a){t=t.ownerDocument||t,t.head.insertBefore(a,i==="title"?t.querySelector("head > title"):null)}function AA(t,i,a){if(a===1||i.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return t=i.disabled,typeof i.precedence=="string"&&t==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function Lv(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function wA(t,i,a,l){if(a.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var h=lo(l.href),d=i.querySelector(Ll(h));if(d){i=d._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(t.count++,t=Wc.bind(t),i.then(t,t)),a.state.loading|=4,a.instance=d,St(d);return}d=i.ownerDocument||i,l=Ov(l),(h=Ln.get(h))&&mm(l,h),d=d.createElement("link"),St(d);var _=d;_._p=new Promise(function(T,N){_.onload=T,_.onerror=N}),Gt(d,"link",l),a.instance=d}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(a,i),(i=a.state.preload)&&(a.state.loading&3)===0&&(t.count++,a=Wc.bind(t),i.addEventListener("load",a),i.addEventListener("error",a))}}var gm=0;function RA(t,i){return t.stylesheets&&t.count===0&&th(t,t.stylesheets),0<t.count||0<t.imgCount?function(a){var l=setTimeout(function(){if(t.stylesheets&&th(t,t.stylesheets),t.unsuspend){var d=t.unsuspend;t.unsuspend=null,d()}},6e4+i);0<t.imgBytes&&gm===0&&(gm=62500*aA());var h=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&th(t,t.stylesheets),t.unsuspend)){var d=t.unsuspend;t.unsuspend=null,d()}},(t.imgBytes>gm?50:800)+i);return t.unsuspend=a,function(){t.unsuspend=null,clearTimeout(l),clearTimeout(h)}}:null}function Wc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)th(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var eh=null;function th(t,i){t.stylesheets=null,t.unsuspend!==null&&(t.count++,eh=new Map,i.forEach(CA,t),eh=null,Wc.call(t))}function CA(t,i){if(!(i.state.loading&4)){var a=eh.get(t);if(a)var l=a.get(null);else{a=new Map,eh.set(t,a);for(var h=t.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<h.length;d++){var _=h[d];(_.nodeName==="LINK"||_.getAttribute("media")!=="not all")&&(a.set(_.dataset.precedence,_),l=_)}l&&a.set(null,l)}h=i.instance,_=h.getAttribute("data-precedence"),d=a.get(_)||l,d===l&&a.set(null,h),a.set(_,h),this.count++,l=Wc.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),d?d.parentNode.insertBefore(h,d.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(h,t.firstChild)),i.state.loading|=4}}var Ul={$$typeof:re,Provider:null,Consumer:null,_currentValue:de,_currentValue2:de,_threadCount:0};function xA(t,i,a,l,h,d,_,T,N){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ci(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ci(0),this.hiddenUpdates=ci(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=d,this.onRecoverableError=_,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=N,this.incompleteTransitions=new Map}function Pv(t,i,a,l,h,d,_,T,N,H,X,W){return t=new xA(t,i,a,_,N,H,X,W,T),i=1,d===!0&&(i|=24),d=_n(3,null,null,i),t.current=d,d.stateNode=t,i=Kf(),i.refCount++,t.pooledCache=i,i.refCount++,d.memoizedState={element:l,isDehydrated:a,cache:i},Wf(d),t}function Uv(t){return t?(t=za,t):za}function jv(t,i,a,l,h,d){h=Uv(h),l.context===null?l.context=h:l.pendingContext=h,l=kr(i),l.payload={element:a},d=d===void 0?null:d,d!==null&&(l.callback=d),a=Lr(t,l,i),a!==null&&(cn(a,t,i),gl(a,t,i))}function zv(t,i){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<i?a:i}}function ym(t,i){zv(t,i),(t=t.alternate)&&zv(t,i)}function Bv(t){if(t.tag===13||t.tag===31){var i=zs(t,67108864);i!==null&&cn(i,t,67108864),ym(t,67108864)}}function qv(t){if(t.tag===13||t.tag===31){var i=Sn();i=xs(i);var a=zs(t,i);a!==null&&cn(a,t,i),ym(t,i)}}var nh=!0;function IA(t,i,a,l){var h=K.T;K.T=null;var d=ae.p;try{ae.p=2,_m(t,i,a,l)}finally{ae.p=d,K.T=h}}function NA(t,i,a,l){var h=K.T;K.T=null;var d=ae.p;try{ae.p=8,_m(t,i,a,l)}finally{ae.p=d,K.T=h}}function _m(t,i,a,l){if(nh){var h=vm(l);if(h===null)rm(t,i,l,ih,a),Fv(t,l);else if(OA(h,t,i,a,l))l.stopPropagation();else if(Fv(t,l),i&4&&-1<DA.indexOf(t)){for(;h!==null;){var d=wn(h);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var _=li(d.pendingLanes);if(_!==0){var T=d;for(T.pendingLanes|=2,T.entangledLanes|=2;_;){var N=1<<31-pt(_);T.entanglements[1]|=N,_&=~N}Ci(d),(Ye&6)===0&&(jc=en()+500,Ol(0))}}break;case 31:case 13:T=zs(d,2),T!==null&&cn(T,d,2),Bc(),ym(d,2)}if(d=vm(l),d===null&&rm(t,i,l,ih,a),d===h)break;h=d}h!==null&&l.stopPropagation()}else rm(t,i,l,null,a)}}function vm(t){return t=Rn(t),Em(t)}var ih=null;function Em(t){if(ih=null,t=di(t),t!==null){var i=u(t);if(i===null)t=null;else{var a=i.tag;if(a===13){if(t=f(i),t!==null)return t;t=null}else if(a===31){if(t=m(i),t!==null)return t;t=null}else if(a===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;t=null}else i!==t&&(t=null)}}return ih=t,null}function Hv(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(As()){case Bo:return 2;case qo:return 8;case Er:case Rf:return 32;case ku:return 268435456;default:return 32}default:return 32}}var Tm=!1,Qr=null,Yr=null,Kr=null,jl=new Map,zl=new Map,Xr=[],DA="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Fv(t,i){switch(t){case"focusin":case"focusout":Qr=null;break;case"dragenter":case"dragleave":Yr=null;break;case"mouseover":case"mouseout":Kr=null;break;case"pointerover":case"pointerout":jl.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":zl.delete(i.pointerId)}}function Bl(t,i,a,l,h,d){return t===null||t.nativeEvent!==d?(t={blockedOn:i,domEventName:a,eventSystemFlags:l,nativeEvent:d,targetContainers:[h]},i!==null&&(i=wn(i),i!==null&&Bv(i)),t):(t.eventSystemFlags|=l,i=t.targetContainers,h!==null&&i.indexOf(h)===-1&&i.push(h),t)}function OA(t,i,a,l,h){switch(i){case"focusin":return Qr=Bl(Qr,t,i,a,l,h),!0;case"dragenter":return Yr=Bl(Yr,t,i,a,l,h),!0;case"mouseover":return Kr=Bl(Kr,t,i,a,l,h),!0;case"pointerover":var d=h.pointerId;return jl.set(d,Bl(jl.get(d)||null,t,i,a,l,h)),!0;case"gotpointercapture":return d=h.pointerId,zl.set(d,Bl(zl.get(d)||null,t,i,a,l,h)),!0}return!1}function Gv(t){var i=di(t.target);if(i!==null){var a=u(i);if(a!==null){if(i=a.tag,i===13){if(i=f(a),i!==null){t.blockedOn=i,Fn(t.priority,function(){qv(a)});return}}else if(i===31){if(i=m(a),i!==null){t.blockedOn=i,Fn(t.priority,function(){qv(a)});return}}else if(i===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function rh(t){if(t.blockedOn!==null)return!1;for(var i=t.targetContainers;0<i.length;){var a=vm(t.nativeEvent);if(a===null){a=t.nativeEvent;var l=new a.constructor(a.type,a);el=l,a.target.dispatchEvent(l),el=null}else return i=wn(a),i!==null&&Bv(i),t.blockedOn=a,!1;i.shift()}return!0}function $v(t,i,a){rh(t)&&a.delete(i)}function MA(){Tm=!1,Qr!==null&&rh(Qr)&&(Qr=null),Yr!==null&&rh(Yr)&&(Yr=null),Kr!==null&&rh(Kr)&&(Kr=null),jl.forEach($v),zl.forEach($v)}function sh(t,i){t.blockedOn===i&&(t.blockedOn=null,Tm||(Tm=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,MA)))}var ah=null;function Qv(t){ah!==t&&(ah=t,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){ah===t&&(ah=null);for(var i=0;i<t.length;i+=3){var a=t[i],l=t[i+1],h=t[i+2];if(typeof l!="function"){if(Em(l||a)===null)continue;break}var d=wn(a);d!==null&&(t.splice(i,3),i-=3,vd(d,{pending:!0,data:h,method:a.method,action:l},l,h))}}))}function co(t){function i(N){return sh(N,t)}Qr!==null&&sh(Qr,t),Yr!==null&&sh(Yr,t),Kr!==null&&sh(Kr,t),jl.forEach(i),zl.forEach(i);for(var a=0;a<Xr.length;a++){var l=Xr[a];l.blockedOn===t&&(l.blockedOn=null)}for(;0<Xr.length&&(a=Xr[0],a.blockedOn===null);)Gv(a),a.blockedOn===null&&Xr.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var h=a[l],d=a[l+1],_=h[Lt]||null;if(typeof d=="function")_||Qv(a);else if(_){var T=null;if(d&&d.hasAttribute("formAction")){if(h=d,_=d[Lt]||null)T=_.formAction;else if(Em(h)!==null)continue}else T=_.action;typeof T=="function"?a[l+1]=T:(a.splice(l,3),l-=3),Qv(a)}}}function Yv(){function t(d){d.canIntercept&&d.info==="react-transition"&&d.intercept({handler:function(){return new Promise(function(_){return h=_})},focusReset:"manual",scroll:"manual"})}function i(){h!==null&&(h(),h=null),l||setTimeout(a,20)}function a(){if(!l&&!navigation.transition){var d=navigation.currentEntry;d&&d.url!=null&&navigation.navigate(d.url,{state:d.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,h=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",i),navigation.addEventListener("navigateerror",i),setTimeout(a,100),function(){l=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",i),navigation.removeEventListener("navigateerror",i),h!==null&&(h(),h=null)}}}function bm(t){this._internalRoot=t}oh.prototype.render=bm.prototype.render=function(t){var i=this._internalRoot;if(i===null)throw Error(s(409));var a=i.current,l=Sn();jv(a,l,t,i,null,null)},oh.prototype.unmount=bm.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var i=t.containerInfo;jv(t.current,2,null,t,null,null),Bc(),i[hi]=null}};function oh(t){this._internalRoot=t}oh.prototype.unstable_scheduleHydration=function(t){if(t){var i=Bu();t={blockedOn:null,target:t,priority:i};for(var a=0;a<Xr.length&&i!==0&&i<Xr[a].priority;a++);Xr.splice(a,0,t),a===0&&Gv(t)}};var Kv=e.version;if(Kv!=="19.2.0")throw Error(s(527,Kv,"19.2.0"));ae.findDOMNode=function(t){var i=t._reactInternals;if(i===void 0)throw typeof t.render=="function"?Error(s(188)):(t=Object.keys(t).join(","),Error(s(268,t)));return t=y(i),t=t!==null?E(t):null,t=t===null?null:t.stateNode,t};var VA={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:K,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var lh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!lh.isDisabled&&lh.supportsFiber)try{qn=lh.inject(VA),zt=lh}catch{}}return Hl.createRoot=function(t,i){if(!o(t))throw Error(s(299));var a=!1,l="",h=n_,d=i_,_=r_;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(l=i.identifierPrefix),i.onUncaughtError!==void 0&&(h=i.onUncaughtError),i.onCaughtError!==void 0&&(d=i.onCaughtError),i.onRecoverableError!==void 0&&(_=i.onRecoverableError)),i=Pv(t,1,!1,null,null,a,l,null,h,d,_,Yv),t[hi]=i.current,im(t),new bm(i)},Hl.hydrateRoot=function(t,i,a){if(!o(t))throw Error(s(299));var l=!1,h="",d=n_,_=i_,T=r_,N=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(_=a.onCaughtError),a.onRecoverableError!==void 0&&(T=a.onRecoverableError),a.formState!==void 0&&(N=a.formState)),i=Pv(t,1,!0,i,a??null,l,h,N,d,_,T,Yv),i.context=Uv(null),a=i.current,l=Sn(),l=xs(l),h=kr(l),h.callback=null,Lr(a,h,l),a=l,i.current.lanes=a,Rs(i,a),Ci(i),t[hi]=i.current,im(t),new oh(i)},Hl.version="19.2.0",Hl}var a0;function GA(){if(a0)return wm.exports;a0=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),wm.exports=FA(),wm.exports}var $A=GA();const QA=()=>{};var o0={};const JE=function(r){const e=[];let n=0;for(let s=0;s<r.length;s++){let o=r.charCodeAt(s);o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=o&63|128):(o&64512)===55296&&s+1<r.length&&(r.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(r.charCodeAt(++s)&1023),e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=o&63|128):(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=o&63|128)}return e},YA=function(r){const e=[];let n=0,s=0;for(;n<r.length;){const o=r[n++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const u=r[n++];e[s++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=r[n++],f=r[n++],m=r[n++],p=((o&7)<<18|(u&63)<<12|(f&63)<<6|m&63)-65536;e[s++]=String.fromCharCode(55296+(p>>10)),e[s++]=String.fromCharCode(56320+(p&1023))}else{const u=r[n++],f=r[n++];e[s++]=String.fromCharCode((o&15)<<12|(u&63)<<6|f&63)}}return e.join("")},WE={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<r.length;o+=3){const u=r[o],f=o+1<r.length,m=f?r[o+1]:0,p=o+2<r.length,y=p?r[o+2]:0,E=u>>2,S=(u&3)<<4|m>>4;let R=(m&15)<<2|y>>6,O=y&63;p||(O=64,f||(R=64)),s.push(n[E],n[S],n[R],n[O])}return s.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(JE(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):YA(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<r.length;){const u=n[r.charAt(o++)],m=o<r.length?n[r.charAt(o)]:0;++o;const y=o<r.length?n[r.charAt(o)]:64;++o;const S=o<r.length?n[r.charAt(o)]:64;if(++o,u==null||m==null||y==null||S==null)throw new KA;const R=u<<2|m>>4;if(s.push(R),y!==64){const O=m<<4&240|y>>2;if(s.push(O),S!==64){const B=y<<6&192|S;s.push(B)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class KA extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const XA=function(r){const e=JE(r);return WE.encodeByteArray(e,!0)},Ch=function(r){return XA(r).replace(/\./g,"")},eT=function(r){try{return WE.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function ZA(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const JA=()=>ZA().__FIREBASE_DEFAULTS__,WA=()=>{if(typeof process>"u"||typeof o0>"u")return;const r=o0.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},ew=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&eT(r[1]);return e&&JSON.parse(e)},Jh=()=>{try{return QA()||JA()||WA()||ew()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},tT=r=>Jh()?.emulatorHosts?.[r],tw=r=>{const e=tT(r);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),s]:[e.substring(0,n),s]},nT=()=>Jh()?.config,iT=r=>Jh()?.[`_${r}`];class nw{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,s))}}}function No(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function rT(r){return(await fetch(r,{credentials:"include"})).ok}function iw(r,e){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=e||"demo-project",o=r.iat||0,u=r.sub||r.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const f={iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}},...r};return[Ch(JSON.stringify(n)),Ch(JSON.stringify(f)),""].join(".")}const Zl={};function rw(){const r={prod:[],emulator:[]};for(const e of Object.keys(Zl))Zl[e]?r.emulator.push(e):r.prod.push(e);return r}function sw(r){let e=document.getElementById(r),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",r),n=!0),{created:n,element:e}}let l0=!1;function sT(r,e){if(typeof window>"u"||typeof document>"u"||!No(window.location.host)||Zl[r]===e||Zl[r]||l0)return;Zl[r]=e;function n(R){return`__firebase__banner__${R}`}const s="__firebase__banner",u=rw().prod.length>0;function f(){const R=document.getElementById(s);R&&R.remove()}function m(R){R.style.display="flex",R.style.background="#7faaf0",R.style.position="fixed",R.style.bottom="5px",R.style.left="5px",R.style.padding=".5em",R.style.borderRadius="5px",R.style.alignItems="center"}function p(R,O){R.setAttribute("width","24"),R.setAttribute("id",O),R.setAttribute("height","24"),R.setAttribute("viewBox","0 0 24 24"),R.setAttribute("fill","none"),R.style.marginLeft="-6px"}function y(){const R=document.createElement("span");return R.style.cursor="pointer",R.style.marginLeft="16px",R.style.fontSize="24px",R.innerHTML=" &times;",R.onclick=()=>{l0=!0,f()},R}function E(R,O){R.setAttribute("id",O),R.innerText="Learn more",R.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",R.setAttribute("target","__blank"),R.style.paddingLeft="5px",R.style.textDecoration="underline"}function S(){const R=sw(s),O=n("text"),B=document.getElementById(O)||document.createElement("span"),Y=n("learnmore"),$=document.getElementById(Y)||document.createElement("a"),se=n("preprendIcon"),ie=document.getElementById(se)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(R.created){const re=R.element;m(re),E($,Y);const ge=y();p(ie,se),re.append(ie,B,$,ge),document.body.appendChild(re)}u?(B.innerText="Preview backend disconnected.",ie.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(ie.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,B.innerText="Preview backend running in this workspace."),B.setAttribute("id",O)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",S):S()}function Wt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function aw(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Wt())}function ow(){const r=Jh()?.forceEnvironment;if(r==="node")return!0;if(r==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function lw(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function uw(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function cw(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function hw(){const r=Wt();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function fw(){return!ow()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function dw(){try{return typeof indexedDB=="object"}catch{return!1}}function mw(){return new Promise((r,e)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(s),r(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{e(o.error?.message||"")}}catch(n){e(n)}})}const pw="FirebaseError";class yr extends Error{constructor(e,n,s){super(n),this.code=e,this.customData=s,this.name=pw,Object.setPrototypeOf(this,yr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,_u.prototype.create)}}class _u{constructor(e,n,s){this.service=e,this.serviceName=n,this.errors=s}create(e,...n){const s=n[0]||{},o=`${this.service}/${e}`,u=this.errors[e],f=u?gw(u,s):"Error",m=`${this.serviceName}: ${f} (${o}).`;return new yr(o,m,s)}}function gw(r,e){return r.replace(yw,(n,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const yw=/\{\$([^}]+)}/g;function _w(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}function ua(r,e){if(r===e)return!0;const n=Object.keys(r),s=Object.keys(e);for(const o of n){if(!s.includes(o))return!1;const u=r[o],f=e[o];if(u0(u)&&u0(f)){if(!ua(u,f))return!1}else if(u!==f)return!1}for(const o of s)if(!n.includes(o))return!1;return!0}function u0(r){return r!==null&&typeof r=="object"}function vu(r){const e=[];for(const[n,s]of Object.entries(r))Array.isArray(s)?s.forEach(o=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function vw(r,e){const n=new Ew(r,e);return n.subscribe.bind(n)}class Ew{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,s){let o;if(e===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");Tw(e,["next","error","complete"])?o=e:o={next:e,error:n,complete:s},o.next===void 0&&(o.next=Im),o.error===void 0&&(o.error=Im),o.complete===void 0&&(o.complete=Im);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Tw(r,e){if(typeof r!="object"||r===null)return!1;for(const n of e)if(n in r&&typeof r[n]=="function")return!0;return!1}function Im(){}function dn(r){return r&&r._delegate?r._delegate:r}class ca{constructor(e,n,s){this.name=e,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const Ws="[DEFAULT]";class bw{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const s=new nw;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),s=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(o){if(s)return null;throw o}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(Aw(e))try{this.getOrInitializeService({instanceIdentifier:Ws})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:o});s.resolve(u)}catch{}}}}clearInstance(e=Ws){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ws){return this.instances.has(e)}getOptions(e=Ws){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[u,f]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(u);s===m&&f.resolve(o)}return o}onInit(e,n){const s=this.normalizeInstanceIdentifier(n),o=this.onInitCallbacks.get(s)??new Set;o.add(e),this.onInitCallbacks.set(s,o);const u=this.instances.get(s);return u&&e(u,s),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const s=this.onInitCallbacks.get(n);if(s)for(const o of s)try{o(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:Sw(e),options:n}),this.instances.set(e,s),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=Ws){return this.component?this.component.multipleInstances?e:Ws:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function Sw(r){return r===Ws?void 0:r}function Aw(r){return r.instantiationMode==="EAGER"}class ww{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new bw(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}var Pe;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Pe||(Pe={}));const Rw={debug:Pe.DEBUG,verbose:Pe.VERBOSE,info:Pe.INFO,warn:Pe.WARN,error:Pe.ERROR,silent:Pe.SILENT},Cw=Pe.INFO,xw={[Pe.DEBUG]:"log",[Pe.VERBOSE]:"log",[Pe.INFO]:"info",[Pe.WARN]:"warn",[Pe.ERROR]:"error"},Iw=(r,e,...n)=>{if(e<r.logLevel)return;const s=new Date().toISOString(),o=xw[e];if(o)console[o](`[${s}]  ${r.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class xp{constructor(e){this.name=e,this._logLevel=Cw,this._logHandler=Iw,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Pe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?Rw[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Pe.DEBUG,...e),this._logHandler(this,Pe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Pe.VERBOSE,...e),this._logHandler(this,Pe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Pe.INFO,...e),this._logHandler(this,Pe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Pe.WARN,...e),this._logHandler(this,Pe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Pe.ERROR,...e),this._logHandler(this,Pe.ERROR,...e)}}const Nw=(r,e)=>e.some(n=>r instanceof n);let c0,h0;function Dw(){return c0||(c0=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Ow(){return h0||(h0=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const aT=new WeakMap,Qm=new WeakMap,oT=new WeakMap,Nm=new WeakMap,Ip=new WeakMap;function Mw(r){const e=new Promise((n,s)=>{const o=()=>{r.removeEventListener("success",u),r.removeEventListener("error",f)},u=()=>{n(ls(r.result)),o()},f=()=>{s(r.error),o()};r.addEventListener("success",u),r.addEventListener("error",f)});return e.then(n=>{n instanceof IDBCursor&&aT.set(n,r)}).catch(()=>{}),Ip.set(e,r),e}function Vw(r){if(Qm.has(r))return;const e=new Promise((n,s)=>{const o=()=>{r.removeEventListener("complete",u),r.removeEventListener("error",f),r.removeEventListener("abort",f)},u=()=>{n(),o()},f=()=>{s(r.error||new DOMException("AbortError","AbortError")),o()};r.addEventListener("complete",u),r.addEventListener("error",f),r.addEventListener("abort",f)});Qm.set(r,e)}let Ym={get(r,e,n){if(r instanceof IDBTransaction){if(e==="done")return Qm.get(r);if(e==="objectStoreNames")return r.objectStoreNames||oT.get(r);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return ls(r[e])},set(r,e,n){return r[e]=n,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function kw(r){Ym=r(Ym)}function Lw(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const s=r.call(Dm(this),e,...n);return oT.set(s,e.sort?e.sort():[e]),ls(s)}:Ow().includes(r)?function(...e){return r.apply(Dm(this),e),ls(aT.get(this))}:function(...e){return ls(r.apply(Dm(this),e))}}function Pw(r){return typeof r=="function"?Lw(r):(r instanceof IDBTransaction&&Vw(r),Nw(r,Dw())?new Proxy(r,Ym):r)}function ls(r){if(r instanceof IDBRequest)return Mw(r);if(Nm.has(r))return Nm.get(r);const e=Pw(r);return e!==r&&(Nm.set(r,e),Ip.set(e,r)),e}const Dm=r=>Ip.get(r);function Uw(r,e,{blocked:n,upgrade:s,blocking:o,terminated:u}={}){const f=indexedDB.open(r,e),m=ls(f);return s&&f.addEventListener("upgradeneeded",p=>{s(ls(f.result),p.oldVersion,p.newVersion,ls(f.transaction),p)}),n&&f.addEventListener("blocked",p=>n(p.oldVersion,p.newVersion,p)),m.then(p=>{u&&p.addEventListener("close",()=>u()),o&&p.addEventListener("versionchange",y=>o(y.oldVersion,y.newVersion,y))}).catch(()=>{}),m}const jw=["get","getKey","getAll","getAllKeys","count"],zw=["put","add","delete","clear"],Om=new Map;function f0(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(Om.get(e))return Om.get(e);const n=e.replace(/FromIndex$/,""),s=e!==n,o=zw.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(o||jw.includes(n)))return;const u=async function(f,...m){const p=this.transaction(f,o?"readwrite":"readonly");let y=p.store;return s&&(y=y.index(m.shift())),(await Promise.all([y[n](...m),o&&p.done]))[0]};return Om.set(e,u),u}kw(r=>({...r,get:(e,n,s)=>f0(e,n)||r.get(e,n,s),has:(e,n)=>!!f0(e,n)||r.has(e,n)}));class Bw{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(qw(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function qw(r){return r.getComponent()?.type==="VERSION"}const Km="@firebase/app",d0="0.14.5";const cr=new xp("@firebase/app"),Hw="@firebase/app-compat",Fw="@firebase/analytics-compat",Gw="@firebase/analytics",$w="@firebase/app-check-compat",Qw="@firebase/app-check",Yw="@firebase/auth",Kw="@firebase/auth-compat",Xw="@firebase/database",Zw="@firebase/data-connect",Jw="@firebase/database-compat",Ww="@firebase/functions",e2="@firebase/functions-compat",t2="@firebase/installations",n2="@firebase/installations-compat",i2="@firebase/messaging",r2="@firebase/messaging-compat",s2="@firebase/performance",a2="@firebase/performance-compat",o2="@firebase/remote-config",l2="@firebase/remote-config-compat",u2="@firebase/storage",c2="@firebase/storage-compat",h2="@firebase/firestore",f2="@firebase/ai",d2="@firebase/firestore-compat",m2="firebase",p2="12.5.0";const Xm="[DEFAULT]",g2={[Km]:"fire-core",[Hw]:"fire-core-compat",[Gw]:"fire-analytics",[Fw]:"fire-analytics-compat",[Qw]:"fire-app-check",[$w]:"fire-app-check-compat",[Yw]:"fire-auth",[Kw]:"fire-auth-compat",[Xw]:"fire-rtdb",[Zw]:"fire-data-connect",[Jw]:"fire-rtdb-compat",[Ww]:"fire-fn",[e2]:"fire-fn-compat",[t2]:"fire-iid",[n2]:"fire-iid-compat",[i2]:"fire-fcm",[r2]:"fire-fcm-compat",[s2]:"fire-perf",[a2]:"fire-perf-compat",[o2]:"fire-rc",[l2]:"fire-rc-compat",[u2]:"fire-gcs",[c2]:"fire-gcs-compat",[h2]:"fire-fst",[d2]:"fire-fst-compat",[f2]:"fire-vertex","fire-js":"fire-js",[m2]:"fire-js-all"};const xh=new Map,y2=new Map,Zm=new Map;function m0(r,e){try{r.container.addComponent(e)}catch(n){cr.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,n)}}function bo(r){const e=r.name;if(Zm.has(e))return cr.debug(`There were multiple attempts to register component ${e}.`),!1;Zm.set(e,r);for(const n of xh.values())m0(n,r);for(const n of y2.values())m0(n,r);return!0}function Np(r,e){const n=r.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),r.container.getProvider(e)}function Un(r){return r==null?!1:r.settings!==void 0}const _2={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},us=new _u("app","Firebase",_2);class v2{constructor(e,n,s){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new ca("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw us.create("app-deleted",{appName:this._name})}}const Do=p2;function Ih(r,e={}){let n=r;typeof e!="object"&&(e={name:e});const s={name:Xm,automaticDataCollectionEnabled:!0,...e},o=s.name;if(typeof o!="string"||!o)throw us.create("bad-app-name",{appName:String(o)});if(n||(n=nT()),!n)throw us.create("no-options");const u=xh.get(o);if(u){if(ua(n,u.options)&&ua(s,u.config))return u;throw us.create("duplicate-app",{appName:o})}const f=new ww(o);for(const p of Zm.values())f.addComponent(p);const m=new v2(n,s,f);return xh.set(o,m),m}function lT(r=Xm){const e=xh.get(r);if(!e&&r===Xm&&nT())return Ih();if(!e)throw us.create("no-app",{appName:r});return e}function cs(r,e,n){let s=g2[r]??r;n&&(s+=`-${n}`);const o=s.match(/\s|\//),u=e.match(/\s|\//);if(o||u){const f=[`Unable to register library "${s}" with version "${e}":`];o&&f.push(`library name "${s}" contains illegal characters (whitespace or "/")`),o&&u&&f.push("and"),u&&f.push(`version name "${e}" contains illegal characters (whitespace or "/")`),cr.warn(f.join(" "));return}bo(new ca(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}const E2="firebase-heartbeat-database",T2=1,lu="firebase-heartbeat-store";let Mm=null;function uT(){return Mm||(Mm=Uw(E2,T2,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore(lu)}catch(n){console.warn(n)}}}}).catch(r=>{throw us.create("idb-open",{originalErrorMessage:r.message})})),Mm}async function b2(r){try{const n=(await uT()).transaction(lu),s=await n.objectStore(lu).get(cT(r));return await n.done,s}catch(e){if(e instanceof yr)cr.warn(e.message);else{const n=us.create("idb-get",{originalErrorMessage:e?.message});cr.warn(n.message)}}}async function p0(r,e){try{const s=(await uT()).transaction(lu,"readwrite");await s.objectStore(lu).put(e,cT(r)),await s.done}catch(n){if(n instanceof yr)cr.warn(n.message);else{const s=us.create("idb-set",{originalErrorMessage:n?.message});cr.warn(s.message)}}}function cT(r){return`${r.name}!${r.options.appId}`}const S2=1024,A2=30;class w2{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new C2(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=g0();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:n}),this._heartbeatsCache.heartbeats.length>A2){const o=x2(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){cr.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=g0(),{heartbeatsToSend:n,unsentEntries:s}=R2(this._heartbeatsCache.heartbeats),o=Ch(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return cr.warn(e),""}}}function g0(){return new Date().toISOString().substring(0,10)}function R2(r,e=S2){const n=[];let s=r.slice();for(const o of r){const u=n.find(f=>f.agent===o.agent);if(u){if(u.dates.push(o.date),y0(n)>e){u.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),y0(n)>e){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class C2{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return dw()?mw().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await b2(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return p0(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return p0(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function y0(r){return Ch(JSON.stringify({version:2,heartbeats:r})).length}function x2(r){if(r.length===0)return-1;let e=0,n=r[0].date;for(let s=1;s<r.length;s++)r[s].date<n&&(n=r[s].date,e=s);return e}function I2(r){bo(new ca("platform-logger",e=>new Bw(e),"PRIVATE")),bo(new ca("heartbeat",e=>new w2(e),"PRIVATE")),cs(Km,d0,r),cs(Km,d0,"esm2020"),cs("fire-js","")}I2("");var N2="firebase",D2="12.5.0";cs(N2,D2,"app");function hT(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const O2=hT,fT=new _u("auth","Firebase",hT());const Nh=new xp("@firebase/auth");function M2(r,...e){Nh.logLevel<=Pe.WARN&&Nh.warn(`Auth (${Do}): ${r}`,...e)}function yh(r,...e){Nh.logLevel<=Pe.ERROR&&Nh.error(`Auth (${Do}): ${r}`,...e)}function hr(r,...e){throw Dp(r,...e)}function Ni(r,...e){return Dp(r,...e)}function dT(r,e,n){const s={...O2(),[e]:n};return new _u("auth","Firebase",s).create(e,{appName:r.name})}function lr(r){return dT(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Dp(r,...e){if(typeof r!="string"){const n=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=r.name),r._errorFactory.create(n,...s)}return fT.create(r,...e)}function Se(r,e,...n){if(!r)throw Dp(e,...n)}function ar(r){const e="INTERNAL ASSERTION FAILED: "+r;throw yh(e),new Error(e)}function fr(r,e){r||ar(e)}function Jm(){return typeof self<"u"&&self.location?.href||""}function V2(){return _0()==="http:"||_0()==="https:"}function _0(){return typeof self<"u"&&self.location?.protocol||null}function k2(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(V2()||uw()||"connection"in navigator)?navigator.onLine:!0}function L2(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}class Eu{constructor(e,n){this.shortDelay=e,this.longDelay=n,fr(n>e,"Short delay should be less than long delay!"),this.isMobile=aw()||cw()}get(){return k2()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Op(r,e){fr(r.emulator,"Emulator should always be set here");const{url:n}=r.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}class mT{static initialize(e,n,s){this.fetchImpl=e,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ar("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ar("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ar("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const P2={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const U2=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],j2=new Eu(3e4,6e4);function Tu(r,e){return r.tenantId&&!e.tenantId?{...e,tenantId:r.tenantId}:e}async function Oo(r,e,n,s,o={}){return pT(r,o,async()=>{let u={},f={};s&&(e==="GET"?f=s:u={body:JSON.stringify(s)});const m=vu({key:r.config.apiKey,...f}).slice(1),p=await r._getAdditionalHeaders();p["Content-Type"]="application/json",r.languageCode&&(p["X-Firebase-Locale"]=r.languageCode);const y={method:e,headers:p,...u};return lw()||(y.referrerPolicy="no-referrer"),r.emulatorConfig&&No(r.emulatorConfig.host)&&(y.credentials="include"),mT.fetch()(await gT(r,r.config.apiHost,n,m),y)})}async function pT(r,e,n){r._canInitEmulator=!1;const s={...P2,...e};try{const o=new z2(r),u=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const f=await u.json();if("needConfirmation"in f)throw uh(r,"account-exists-with-different-credential",f);if(u.ok&&!("errorMessage"in f))return f;{const m=u.ok?f.errorMessage:f.error.message,[p,y]=m.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw uh(r,"credential-already-in-use",f);if(p==="EMAIL_EXISTS")throw uh(r,"email-already-in-use",f);if(p==="USER_DISABLED")throw uh(r,"user-disabled",f);const E=s[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(y)throw dT(r,E,y);hr(r,E)}}catch(o){if(o instanceof yr)throw o;hr(r,"network-request-failed",{message:String(o)})}}async function Mp(r,e,n,s,o={}){const u=await Oo(r,e,n,s,o);return"mfaPendingCredential"in u&&hr(r,"multi-factor-auth-required",{_serverResponse:u}),u}async function gT(r,e,n,s){const o=`${e}${n}?${s}`,u=r,f=u.config.emulator?Op(r.config,o):`${r.config.apiScheme}://${o}`;return U2.includes(n)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(f).toString():f}class z2{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(Ni(this.auth,"network-request-failed")),j2.get())})}}function uh(r,e,n){const s={appName:r.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const o=Ni(r,e,s);return o.customData._tokenResponse=n,o}async function B2(r,e){return Oo(r,"POST","/v1/accounts:delete",e)}async function Dh(r,e){return Oo(r,"POST","/v1/accounts:lookup",e)}function Jl(r){if(r)try{const e=new Date(Number(r));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function q2(r,e=!1){const n=dn(r),s=await n.getIdToken(e),o=Vp(s);Se(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,f=u?.sign_in_provider;return{claims:o,token:s,authTime:Jl(Vm(o.auth_time)),issuedAtTime:Jl(Vm(o.iat)),expirationTime:Jl(Vm(o.exp)),signInProvider:f||null,signInSecondFactor:u?.sign_in_second_factor||null}}function Vm(r){return Number(r)*1e3}function Vp(r){const[e,n,s]=r.split(".");if(e===void 0||n===void 0||s===void 0)return yh("JWT malformed, contained fewer than 3 sections"),null;try{const o=eT(n);return o?JSON.parse(o):(yh("Failed to decode base64 JWT payload"),null)}catch(o){return yh("Caught error parsing JWT payload as JSON",o?.toString()),null}}function v0(r){const e=Vp(r);return Se(e,"internal-error"),Se(typeof e.exp<"u","internal-error"),Se(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function uu(r,e,n=!1){if(n)return e;try{return await e}catch(s){throw s instanceof yr&&H2(s)&&r.auth.currentUser===r&&await r.auth.signOut(),s}}function H2({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}class F2{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const s=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class Wm{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Jl(this.lastLoginAt),this.creationTime=Jl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Oh(r){const e=r.auth,n=await r.getIdToken(),s=await uu(r,Dh(e,{idToken:n}));Se(s?.users.length,e,"internal-error");const o=s.users[0];r._notifyReloadListener(o);const u=o.providerUserInfo?.length?yT(o.providerUserInfo):[],f=$2(r.providerData,u),m=r.isAnonymous,p=!(r.email&&o.passwordHash)&&!f?.length,y=m?p:!1,E={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:f,metadata:new Wm(o.createdAt,o.lastLoginAt),isAnonymous:y};Object.assign(r,E)}async function G2(r){const e=dn(r);await Oh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function $2(r,e){return[...r.filter(s=>!e.some(o=>o.providerId===s.providerId)),...e]}function yT(r){return r.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}async function Q2(r,e){const n=await pT(r,{},async()=>{const s=vu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:u}=r.config,f=await gT(r,o,"/v1/token",`key=${u}`),m=await r._getAdditionalHeaders();m["Content-Type"]="application/x-www-form-urlencoded";const p={method:"POST",headers:m,body:s};return r.emulatorConfig&&No(r.emulatorConfig.host)&&(p.credentials="include"),mT.fetch()(f,p)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function Y2(r,e){return Oo(r,"POST","/v2/accounts:revokeToken",Tu(r,e))}class yo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Se(e.idToken,"internal-error"),Se(typeof e.idToken<"u","internal-error"),Se(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):v0(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Se(e.length!==0,"internal-error");const n=v0(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Se(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:s,refreshToken:o,expiresIn:u}=await Q2(e,n);this.updateTokensAndExpiration(s,o,Number(u))}updateTokensAndExpiration(e,n,s){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,n){const{refreshToken:s,accessToken:o,expirationTime:u}=n,f=new yo;return s&&(Se(typeof s=="string","internal-error",{appName:e}),f.refreshToken=s),o&&(Se(typeof o=="string","internal-error",{appName:e}),f.accessToken=o),u&&(Se(typeof u=="number","internal-error",{appName:e}),f.expirationTime=u),f}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new yo,this.toJSON())}_performRefresh(){return ar("not implemented")}}function Jr(r,e){Se(typeof r=="string"||typeof r>"u","internal-error",{appName:e})}class ti{constructor({uid:e,auth:n,stsTokenManager:s,...o}){this.providerId="firebase",this.proactiveRefresh=new F2(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Wm(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const n=await uu(this,this.stsTokenManager.getToken(this.auth,e));return Se(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return q2(this,e)}reload(){return G2(this)}_assign(e){this!==e&&(Se(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new ti({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){Se(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),n&&await Oh(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Un(this.auth.app))return Promise.reject(lr(this.auth));const e=await this.getIdToken();return await uu(this,B2(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const s=n.displayName??void 0,o=n.email??void 0,u=n.phoneNumber??void 0,f=n.photoURL??void 0,m=n.tenantId??void 0,p=n._redirectEventId??void 0,y=n.createdAt??void 0,E=n.lastLoginAt??void 0,{uid:S,emailVerified:R,isAnonymous:O,providerData:B,stsTokenManager:Y}=n;Se(S&&Y,e,"internal-error");const $=yo.fromJSON(this.name,Y);Se(typeof S=="string",e,"internal-error"),Jr(s,e.name),Jr(o,e.name),Se(typeof R=="boolean",e,"internal-error"),Se(typeof O=="boolean",e,"internal-error"),Jr(u,e.name),Jr(f,e.name),Jr(m,e.name),Jr(p,e.name),Jr(y,e.name),Jr(E,e.name);const se=new ti({uid:S,auth:e,email:o,emailVerified:R,displayName:s,isAnonymous:O,photoURL:f,phoneNumber:u,tenantId:m,stsTokenManager:$,createdAt:y,lastLoginAt:E});return B&&Array.isArray(B)&&(se.providerData=B.map(ie=>({...ie}))),p&&(se._redirectEventId=p),se}static async _fromIdTokenResponse(e,n,s=!1){const o=new yo;o.updateFromServerResponse(n);const u=new ti({uid:n.localId,auth:e,stsTokenManager:o,isAnonymous:s});return await Oh(u),u}static async _fromGetAccountInfoResponse(e,n,s){const o=n.users[0];Se(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?yT(o.providerUserInfo):[],f=!(o.email&&o.passwordHash)&&!u?.length,m=new yo;m.updateFromIdToken(s);const p=new ti({uid:o.localId,auth:e,stsTokenManager:m,isAnonymous:f}),y={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new Wm(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!u?.length};return Object.assign(p,y),p}}const E0=new Map;function or(r){fr(r instanceof Function,"Expected a class definition");let e=E0.get(r);return e?(fr(e instanceof r,"Instance stored in cache mismatched with class"),e):(e=new r,E0.set(r,e),e)}class _T{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}_T.type="NONE";const T0=_T;function _h(r,e,n){return`firebase:${r}:${e}:${n}`}class _o{constructor(e,n,s){this.persistence=e,this.auth=n,this.userKey=s;const{config:o,name:u}=this.auth;this.fullUserKey=_h(this.userKey,o.apiKey,u),this.fullPersistenceKey=_h("persistence",o.apiKey,u),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Dh(this.auth,{idToken:e}).catch(()=>{});return n?ti._fromGetAccountInfoResponse(this.auth,n,e):null}return ti._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,s="authUser"){if(!n.length)return new _o(or(T0),e,s);const o=(await Promise.all(n.map(async y=>{if(await y._isAvailable())return y}))).filter(y=>y);let u=o[0]||or(T0);const f=_h(s,e.config.apiKey,e.name);let m=null;for(const y of n)try{const E=await y._get(f);if(E){let S;if(typeof E=="string"){const R=await Dh(e,{idToken:E}).catch(()=>{});if(!R)break;S=await ti._fromGetAccountInfoResponse(e,R,E)}else S=ti._fromJSON(e,E);y!==u&&(m=S),u=y;break}}catch{}const p=o.filter(y=>y._shouldAllowMigration);return!u._shouldAllowMigration||!p.length?new _o(u,e,s):(u=p[0],m&&await u._set(f,m.toJSON()),await Promise.all(n.map(async y=>{if(y!==u)try{await y._remove(f)}catch{}})),new _o(u,e,s))}}function b0(r){const e=r.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(bT(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(vT(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(AT(e))return"Blackberry";if(wT(e))return"Webos";if(ET(e))return"Safari";if((e.includes("chrome/")||TT(e))&&!e.includes("edge/"))return"Chrome";if(ST(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=r.match(n);if(s?.length===2)return s[1]}return"Other"}function vT(r=Wt()){return/firefox\//i.test(r)}function ET(r=Wt()){const e=r.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function TT(r=Wt()){return/crios\//i.test(r)}function bT(r=Wt()){return/iemobile/i.test(r)}function ST(r=Wt()){return/android/i.test(r)}function AT(r=Wt()){return/blackberry/i.test(r)}function wT(r=Wt()){return/webos/i.test(r)}function kp(r=Wt()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function K2(r=Wt()){return kp(r)&&!!window.navigator?.standalone}function X2(){return hw()&&document.documentMode===10}function RT(r=Wt()){return kp(r)||ST(r)||wT(r)||AT(r)||/windows phone/i.test(r)||bT(r)}function CT(r,e=[]){let n;switch(r){case"Browser":n=b0(Wt());break;case"Worker":n=`${b0(Wt())}-${r}`;break;default:n=r}const s=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Do}/${s}`}class Z2{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const s=u=>new Promise((f,m)=>{try{const p=e(u);f(p)}catch(p){m(p)}});s.onAbort=n,this.queue.push(s);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const s of this.queue)await s(e),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s?.message})}}}async function J2(r,e={}){return Oo(r,"GET","/v2/passwordPolicy",Tu(r,e))}const W2=6;class eR{constructor(e){const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??W2,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const s=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=e.length>=s),o&&(n.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let o=0;o<e.length;o++)s=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,n,s,o,u){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=u))}}class tR{constructor(e,n,s,o){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new S0(this),this.idTokenSubscription=new S0(this),this.beforeStateQueue=new Z2(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=fT,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=or(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await _o.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Dh(this,{idToken:e}),s=await ti._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(Un(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(f=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(f,f))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let s=n,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=this.redirectUser?._redirectEventId,f=s?._redirectEventId,m=await this.tryRedirectSignIn(e);(!u||u===f)&&m?.user&&(s=m.user,o=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(s)}catch(u){s=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return Se(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Oh(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=L2()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Un(this.app))return Promise.reject(lr(this));const n=e?dn(e):null;return n&&Se(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Se(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Un(this.app)?Promise.reject(lr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Un(this.app)?Promise.reject(lr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(or(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await J2(this),n=new eR(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new _u("auth","Firebase",e())}onAuthStateChanged(e,n,s){return this.registerStateListener(this.authStateSubscription,e,n,s)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,s){return this.registerStateListener(this.idTokenSubscription,e,n,s)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await Y2(this,s)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){const s=await this.getOrInitRedirectPersistenceManager(n);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&or(e)||this._popupRedirectResolver;Se(n,this,"argument-error"),this.redirectPersistenceManager=await _o.create(this,[or(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,s,o){if(this._deleted)return()=>{};const u=typeof n=="function"?n:n.next.bind(n);let f=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(Se(m,this,"internal-error"),m.then(()=>{f||u(this.currentUser)}),typeof n=="function"){const p=e.addObserver(n,s,o);return()=>{f=!0,p()}}else{const p=e.addObserver(n);return()=>{f=!0,p()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Se(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=CT(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const s=await this._getAppCheckToken();return s&&(e["X-Firebase-AppCheck"]=s),e}async _getAppCheckToken(){if(Un(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&M2(`Error while retrieving App Check token: ${e.error}`),e?.token}}function bu(r){return dn(r)}class S0{constructor(e){this.auth=e,this.observer=null,this.addObserver=vw(n=>this.observer=n)}get next(){return Se(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Lp={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function nR(r){Lp=r}function iR(r){return Lp.loadJS(r)}function rR(){return Lp.gapiScript}function sR(r){return`__${r}${Math.floor(Math.random()*1e6)}`}function aR(r,e){const n=Np(r,"auth");if(n.isInitialized()){const o=n.getImmediate(),u=n.getOptions();if(ua(u,e??{}))return o;hr(o,"already-initialized")}return n.initialize({options:e})}function oR(r,e){const n=e?.persistence||[],s=(Array.isArray(n)?n:[n]).map(or);e?.errorMap&&r._updateErrorMap(e.errorMap),r._initializeWithPersistence(s,e?.popupRedirectResolver)}function lR(r,e,n){const s=bu(r);Se(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const o=!1,u=xT(e),{host:f,port:m}=uR(e),p=m===null?"":`:${m}`,y={url:`${u}//${f}${p}/`},E=Object.freeze({host:f,port:m,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!s._canInitEmulator){Se(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),Se(ua(y,s.config.emulator)&&ua(E,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=y,s.emulatorConfig=E,s.settings.appVerificationDisabledForTesting=!0,No(f)?(rT(`${u}//${f}${p}`),sT("Auth",!0)):cR()}function xT(r){const e=r.indexOf(":");return e<0?"":r.substr(0,e+1)}function uR(r){const e=xT(r),n=/(\/\/)?([^?#/]+)/.exec(r.substr(e.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(s);if(o){const u=o[1];return{host:u,port:A0(s.substr(u.length+1))}}else{const[u,f]=s.split(":");return{host:u,port:A0(f)}}}function A0(r){if(!r)return null;const e=Number(r);return isNaN(e)?null:e}function cR(){function r(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}class IT{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return ar("not implemented")}_getIdTokenResponse(e){return ar("not implemented")}_linkToIdToken(e,n){return ar("not implemented")}_getReauthenticationResolver(e){return ar("not implemented")}}async function vo(r,e){return Mp(r,"POST","/v1/accounts:signInWithIdp",Tu(r,e))}const hR="http://localhost";class ha extends IT{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new ha(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):hr("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:o,...u}=n;if(!s||!o)return null;const f=new ha(s,o);return f.idToken=u.idToken||void 0,f.accessToken=u.accessToken||void 0,f.secret=u.secret,f.nonce=u.nonce,f.pendingToken=u.pendingToken||null,f}_getIdTokenResponse(e){const n=this.buildRequest();return vo(e,n)}_linkToIdToken(e,n){const s=this.buildRequest();return s.idToken=n,vo(e,s)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,vo(e,n)}buildRequest(){const e={requestUri:hR,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=vu(n)}return e}}class NT{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class Su extends NT{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class Wr extends Su{constructor(){super("facebook.com")}static credential(e){return ha._fromParams({providerId:Wr.PROVIDER_ID,signInMethod:Wr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Wr.credentialFromTaggedObject(e)}static credentialFromError(e){return Wr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Wr.credential(e.oauthAccessToken)}catch{return null}}}Wr.FACEBOOK_SIGN_IN_METHOD="facebook.com";Wr.PROVIDER_ID="facebook.com";class es extends Su{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return ha._fromParams({providerId:es.PROVIDER_ID,signInMethod:es.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return es.credentialFromTaggedObject(e)}static credentialFromError(e){return es.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:s}=e;if(!n&&!s)return null;try{return es.credential(n,s)}catch{return null}}}es.GOOGLE_SIGN_IN_METHOD="google.com";es.PROVIDER_ID="google.com";class ts extends Su{constructor(){super("github.com")}static credential(e){return ha._fromParams({providerId:ts.PROVIDER_ID,signInMethod:ts.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ts.credentialFromTaggedObject(e)}static credentialFromError(e){return ts.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ts.credential(e.oauthAccessToken)}catch{return null}}}ts.GITHUB_SIGN_IN_METHOD="github.com";ts.PROVIDER_ID="github.com";class ns extends Su{constructor(){super("twitter.com")}static credential(e,n){return ha._fromParams({providerId:ns.PROVIDER_ID,signInMethod:ns.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return ns.credentialFromTaggedObject(e)}static credentialFromError(e){return ns.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=e;if(!n||!s)return null;try{return ns.credential(n,s)}catch{return null}}}ns.TWITTER_SIGN_IN_METHOD="twitter.com";ns.PROVIDER_ID="twitter.com";async function fR(r,e){return Mp(r,"POST","/v1/accounts:signUp",Tu(r,e))}class dr{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,s,o=!1){const u=await ti._fromIdTokenResponse(e,s,o),f=w0(s);return new dr({user:u,providerId:f,_tokenResponse:s,operationType:n})}static async _forOperation(e,n,s){await e._updateTokensIfNecessary(s,!0);const o=w0(s);return new dr({user:e,providerId:o,_tokenResponse:s,operationType:n})}}function w0(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}async function dR(r){if(Un(r.app))return Promise.reject(lr(r));const e=bu(r);if(await e._initializationPromise,e.currentUser?.isAnonymous)return new dr({user:e.currentUser,providerId:null,operationType:"signIn"});const n=await fR(e,{returnSecureToken:!0}),s=await dr._fromIdTokenResponse(e,"signIn",n,!0);return await e._updateCurrentUser(s.user),s}class Mh extends yr{constructor(e,n,s,o){super(n.code,n.message),this.operationType=s,this.user=o,Object.setPrototypeOf(this,Mh.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,n,s,o){return new Mh(e,n,s,o)}}function DT(r,e,n,s){return(e==="reauthenticate"?n._getReauthenticationResolver(r):n._getIdTokenResponse(r)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?Mh._fromErrorAndOperation(r,u,e,s):u})}async function mR(r,e,n=!1){const s=await uu(r,e._linkToIdToken(r.auth,await r.getIdToken()),n);return dr._forOperation(r,"link",s)}async function pR(r,e,n=!1){const{auth:s}=r;if(Un(s.app))return Promise.reject(lr(s));const o="reauthenticate";try{const u=await uu(r,DT(s,o,e,r),n);Se(u.idToken,s,"internal-error");const f=Vp(u.idToken);Se(f,s,"internal-error");const{sub:m}=f;return Se(r.uid===m,s,"user-mismatch"),dr._forOperation(r,o,u)}catch(u){throw u?.code==="auth/user-not-found"&&hr(s,"user-mismatch"),u}}async function gR(r,e,n=!1){if(Un(r.app))return Promise.reject(lr(r));const s="signIn",o=await DT(r,s,e),u=await dr._fromIdTokenResponse(r,s,o);return n||await r._updateCurrentUser(u.user),u}async function yR(r,e){return Mp(r,"POST","/v1/accounts:signInWithCustomToken",Tu(r,e))}async function _R(r,e){if(Un(r.app))return Promise.reject(lr(r));const n=bu(r),s=await yR(n,{token:e,returnSecureToken:!0}),o=await dr._fromIdTokenResponse(n,"signIn",s);return await n._updateCurrentUser(o.user),o}function vR(r,e,n,s){return dn(r).onIdTokenChanged(e,n,s)}function ER(r,e,n){return dn(r).beforeAuthStateChanged(e,n)}function TR(r,e,n,s){return dn(r).onAuthStateChanged(e,n,s)}const Vh="__sak";class OT{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Vh,"1"),this.storage.removeItem(Vh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const bR=1e3,SR=10;class MT extends OT{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=RT(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),o=this.localCache[n];s!==o&&e(n,o,s)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((f,m,p)=>{this.notifyListeners(f,p)});return}const s=e.key;n?this.detachListener():this.stopPolling();const o=()=>{const f=this.storage.getItem(s);!n&&this.localCache[s]===f||this.notifyListeners(s,f)},u=this.storage.getItem(s);X2()&&u!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,SR):o()}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:s}),!0)})},bR)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}MT.type="LOCAL";const AR=MT;class VT extends OT{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}VT.type="SESSION";const kT=VT;function wR(r){return Promise.all(r.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}class Wh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(o=>o.isListeningto(e));if(n)return n;const s=new Wh(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:s,eventType:o,data:u}=n.data,f=this.handlersMap[o];if(!f?.size)return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const m=Array.from(f).map(async y=>y(n.origin,u)),p=await wR(m);n.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:p})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Wh.receivers=[];function Pp(r="",e=10){let n="";for(let s=0;s<e;s++)n+=Math.floor(Math.random()*10);return r+n}class RR{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,s=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,f;return new Promise((m,p)=>{const y=Pp("",20);o.port1.start();const E=setTimeout(()=>{p(new Error("unsupported_event"))},s);f={messageChannel:o,onMessage(S){const R=S;if(R.data.eventId===y)switch(R.data.status){case"ack":clearTimeout(E),u=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),m(R.data.response);break;default:clearTimeout(E),clearTimeout(u),p(new Error("invalid_response"));break}}},this.handlers.add(f),o.port1.addEventListener("message",f.onMessage),this.target.postMessage({eventType:e,eventId:y,data:n},[o.port2])}).finally(()=>{f&&this.removeMessageHandler(f)})}}function Di(){return window}function CR(r){Di().location.href=r}function LT(){return typeof Di().WorkerGlobalScope<"u"&&typeof Di().importScripts=="function"}async function xR(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function IR(){return navigator?.serviceWorker?.controller||null}function NR(){return LT()?self:null}const PT="firebaseLocalStorageDb",DR=1,kh="firebaseLocalStorage",UT="fbase_key";class Au{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function ef(r,e){return r.transaction([kh],e?"readwrite":"readonly").objectStore(kh)}function OR(){const r=indexedDB.deleteDatabase(PT);return new Au(r).toPromise()}function ep(){const r=indexedDB.open(PT,DR);return new Promise((e,n)=>{r.addEventListener("error",()=>{n(r.error)}),r.addEventListener("upgradeneeded",()=>{const s=r.result;try{s.createObjectStore(kh,{keyPath:UT})}catch(o){n(o)}}),r.addEventListener("success",async()=>{const s=r.result;s.objectStoreNames.contains(kh)?e(s):(s.close(),await OR(),e(await ep()))})})}async function R0(r,e,n){const s=ef(r,!0).put({[UT]:e,value:n});return new Au(s).toPromise()}async function MR(r,e){const n=ef(r,!1).get(e),s=await new Au(n).toPromise();return s===void 0?null:s.value}function C0(r,e){const n=ef(r,!0).delete(e);return new Au(n).toPromise()}const VR=800,kR=3;class jT{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await ep(),this.db)}async _withRetries(e){let n=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(n++>kR)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return LT()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Wh._getInstance(NR()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await xR(),!this.activeServiceWorker)return;this.sender=new RR(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||IR()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await ep();return await R0(e,Vh,"1"),await C0(e,Vh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>R0(s,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(s=>MR(s,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>C0(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const u=ef(o,!1).getAll();return new Au(u).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(e.length!==0)for(const{fbase_key:o,value:u}of e)s.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!s.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),VR)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}jT.type="LOCAL";const LR=jT;new Eu(3e4,6e4);function PR(r,e){return e?or(e):(Se(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}class Up extends IT{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return vo(e,this._buildIdpRequest())}_linkToIdToken(e,n){return vo(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return vo(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function UR(r){return gR(r.auth,new Up(r),r.bypassAuthState)}function jR(r){const{auth:e,user:n}=r;return Se(n,e,"internal-error"),pR(n,new Up(r),r.bypassAuthState)}async function zR(r){const{auth:e,user:n}=r;return Se(n,e,"internal-error"),mR(n,new Up(r),r.bypassAuthState)}class zT{constructor(e,n,s,o,u=!1){this.auth=e,this.resolver=s,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:s,postBody:o,tenantId:u,error:f,type:m}=e;if(f){this.reject(f);return}const p={auth:this.auth,requestUri:n,sessionId:s,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(p))}catch(y){this.reject(y)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return UR;case"linkViaPopup":case"linkViaRedirect":return zR;case"reauthViaPopup":case"reauthViaRedirect":return jR;default:hr(this.auth,"internal-error")}}resolve(e){fr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){fr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const BR=new Eu(2e3,1e4);class go extends zT{constructor(e,n,s,o,u){super(e,n,o,u),this.provider=s,this.authWindow=null,this.pollId=null,go.currentPopupAction&&go.currentPopupAction.cancel(),go.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Se(e,this.auth,"internal-error"),e}async onExecution(){fr(this.filter.length===1,"Popup operations only handle one event");const e=Pp();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Ni(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Ni(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,go.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ni(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,BR.get())};e()}}go.currentPopupAction=null;const qR="pendingRedirect",vh=new Map;class HR extends zT{constructor(e,n,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let e=vh.get(this.auth._key());if(!e){try{const s=await FR(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(n){e=()=>Promise.reject(n)}vh.set(this.auth._key(),e)}return this.bypassAuthState||vh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function FR(r,e){const n=QR(e),s=$R(r);if(!await s._isAvailable())return!1;const o=await s._get(n)==="true";return await s._remove(n),o}function GR(r,e){vh.set(r._key(),e)}function $R(r){return or(r._redirectPersistence)}function QR(r){return _h(qR,r.config.apiKey,r.name)}async function YR(r,e,n=!1){if(Un(r.app))return Promise.reject(lr(r));const s=bu(r),o=PR(s,e),f=await new HR(s,o,n).execute();return f&&!n&&(delete f.user._redirectEventId,await s._persistUserIfCurrent(f.user),await s._setRedirectUser(null,e)),f}const KR=600*1e3;class XR{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(n=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!ZR(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!BT(e)){const s=e.error.code?.split("auth/")[1]||"internal-error";n.onError(Ni(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const s=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=KR&&this.cachedEventUids.clear(),this.cachedEventUids.has(x0(e))}saveEventToCache(e){this.cachedEventUids.add(x0(e)),this.lastProcessedEventTime=Date.now()}}function x0(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(e=>e).join("-")}function BT({type:r,error:e}){return r==="unknown"&&e?.code==="auth/no-auth-event"}function ZR(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return BT(r);default:return!1}}async function JR(r,e={}){return Oo(r,"GET","/v1/projects",e)}const WR=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,eC=/^https?/;async function tC(r){if(r.config.emulator)return;const{authorizedDomains:e}=await JR(r);for(const n of e)try{if(nC(n))return}catch{}hr(r,"unauthorized-domain")}function nC(r){const e=Jm(),{protocol:n,hostname:s}=new URL(e);if(r.startsWith("chrome-extension://")){const f=new URL(r);return f.hostname===""&&s===""?n==="chrome-extension:"&&r.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&f.hostname===s}if(!eC.test(n))return!1;if(WR.test(r))return s===r;const o=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)}const iC=new Eu(3e4,6e4);function I0(){const r=Di().___jsl;if(r?.H){for(const e of Object.keys(r.H))if(r.H[e].r=r.H[e].r||[],r.H[e].L=r.H[e].L||[],r.H[e].r=[...r.H[e].L],r.CP)for(let n=0;n<r.CP.length;n++)r.CP[n]=null}}function rC(r){return new Promise((e,n)=>{function s(){I0(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{I0(),n(Ni(r,"network-request-failed"))},timeout:iC.get()})}if(Di().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Di().gapi?.load)s();else{const o=sR("iframefcb");return Di()[o]=()=>{gapi.load?s():n(Ni(r,"network-request-failed"))},iR(`${rR()}?onload=${o}`).catch(u=>n(u))}}).catch(e=>{throw Eh=null,e})}let Eh=null;function sC(r){return Eh=Eh||rC(r),Eh}const aC=new Eu(5e3,15e3),oC="__/auth/iframe",lC="emulator/auth/iframe",uC={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},cC=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function hC(r){const e=r.config;Se(e.authDomain,r,"auth-domain-config-required");const n=e.emulator?Op(e,lC):`https://${r.config.authDomain}/${oC}`,s={apiKey:e.apiKey,appName:r.name,v:Do},o=cC.get(r.config.apiHost);o&&(s.eid=o);const u=r._getFrameworks();return u.length&&(s.fw=u.join(",")),`${n}?${vu(s).slice(1)}`}async function fC(r){const e=await sC(r),n=Di().gapi;return Se(n,r,"internal-error"),e.open({where:document.body,url:hC(r),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:uC,dontclear:!0},s=>new Promise(async(o,u)=>{await s.restyle({setHideOnLeave:!1});const f=Ni(r,"network-request-failed"),m=Di().setTimeout(()=>{u(f)},aC.get());function p(){Di().clearTimeout(m),o(s)}s.ping(p).then(p,()=>{u(f)})}))}const dC={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},mC=500,pC=600,gC="_blank",yC="http://localhost";class N0{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function _C(r,e,n,s=mC,o=pC){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),f=Math.max((window.screen.availWidth-s)/2,0).toString();let m="";const p={...dC,width:s.toString(),height:o.toString(),top:u,left:f},y=Wt().toLowerCase();n&&(m=TT(y)?gC:n),vT(y)&&(e=e||yC,p.scrollbars="yes");const E=Object.entries(p).reduce((R,[O,B])=>`${R}${O}=${B},`,"");if(K2(y)&&m!=="_self")return vC(e||"",m),new N0(null);const S=window.open(e||"",m,E);Se(S,r,"popup-blocked");try{S.focus()}catch{}return new N0(S)}function vC(r,e){const n=document.createElement("a");n.href=r,n.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}const EC="__/auth/handler",TC="emulator/auth/handler",bC=encodeURIComponent("fac");async function D0(r,e,n,s,o,u){Se(r.config.authDomain,r,"auth-domain-config-required"),Se(r.config.apiKey,r,"invalid-api-key");const f={apiKey:r.config.apiKey,appName:r.name,authType:n,redirectUrl:s,v:Do,eventId:o};if(e instanceof NT){e.setDefaultLanguage(r.languageCode),f.providerId=e.providerId||"",_w(e.getCustomParameters())||(f.customParameters=JSON.stringify(e.getCustomParameters()));for(const[E,S]of Object.entries({}))f[E]=S}if(e instanceof Su){const E=e.getScopes().filter(S=>S!=="");E.length>0&&(f.scopes=E.join(","))}r.tenantId&&(f.tid=r.tenantId);const m=f;for(const E of Object.keys(m))m[E]===void 0&&delete m[E];const p=await r._getAppCheckToken(),y=p?`#${bC}=${encodeURIComponent(p)}`:"";return`${SC(r)}?${vu(m).slice(1)}${y}`}function SC({config:r}){return r.emulator?Op(r,TC):`https://${r.authDomain}/${EC}`}const km="webStorageSupport";class AC{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=kT,this._completeRedirectFn=YR,this._overrideRedirectResult=GR}async _openPopup(e,n,s,o){fr(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const u=await D0(e,n,s,Jm(),o);return _C(e,u,Pp())}async _openRedirect(e,n,s,o){await this._originValidation(e);const u=await D0(e,n,s,Jm(),o);return CR(u),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:o,promise:u}=this.eventManagers[n];return o?Promise.resolve(o):(fr(u,"If manager is not set, promise should be"),u)}const s=this.initAndGetManager(e);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(e){const n=await fC(e),s=new XR(e);return n.register("authEvent",o=>(Se(o?.authEvent,e,"invalid-auth-event"),{status:s.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=n,s}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(km,{type:km},o=>{const u=o?.[0]?.[km];u!==void 0&&n(!!u),hr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=tC(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return RT()||ET()||kp()}}const wC=AC;var O0="@firebase/auth",M0="1.11.1";class RC{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(s=>{e(s?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Se(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function CC(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function xC(r){bo(new ca("auth",(e,{options:n})=>{const s=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),u=e.getProvider("app-check-internal"),{apiKey:f,authDomain:m}=s.options;Se(f&&!f.includes(":"),"invalid-api-key",{appName:s.name});const p={apiKey:f,authDomain:m,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:CT(r)},y=new tR(s,o,u,p);return oR(y,n),y},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,s)=>{e.getProvider("auth-internal").initialize()})),bo(new ca("auth-internal",e=>{const n=bu(e.getProvider("auth").getImmediate());return(s=>new RC(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),cs(O0,M0,CC(r)),cs(O0,M0,"esm2020")}const IC=300,NC=iT("authIdTokenMaxAge")||IC;let V0=null;const DC=r=>async e=>{const n=e&&await e.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>NC)return;const o=n?.token;V0!==o&&(V0=o,await fetch(r,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function qT(r=lT()){const e=Np(r,"auth");if(e.isInitialized())return e.getImmediate();const n=aR(r,{popupRedirectResolver:wC,persistence:[LR,AR,kT]}),s=iT("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(s,location.origin);if(location.origin===u.origin){const f=DC(u.toString());ER(n,f,()=>f(n.currentUser)),vR(n,m=>f(m))}}const o=tT("auth");return o&&lR(n,`http://${o}`),n}function OC(){return document.getElementsByTagName("head")?.[0]??document}nR({loadJS(r){return new Promise((e,n)=>{const s=document.createElement("script");s.setAttribute("src",r),s.onload=e,s.onerror=o=>{const u=Ni("internal-error");u.customData=o,n(u)},s.type="text/javascript",s.charset="UTF-8",OC().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});xC("Browser");var k0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var hs,HT;(function(){var r;function e(x,w){function I(){}I.prototype=w.prototype,x.F=w.prototype,x.prototype=new I,x.prototype.constructor=x,x.D=function(k,M,P){for(var C=Array(arguments.length-2),Be=2;Be<arguments.length;Be++)C[Be-2]=arguments[Be];return w.prototype[M].apply(k,C)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(s,n),s.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(x,w,I){I||(I=0);const k=Array(16);if(typeof w=="string")for(var M=0;M<16;++M)k[M]=w.charCodeAt(I++)|w.charCodeAt(I++)<<8|w.charCodeAt(I++)<<16|w.charCodeAt(I++)<<24;else for(M=0;M<16;++M)k[M]=w[I++]|w[I++]<<8|w[I++]<<16|w[I++]<<24;w=x.g[0],I=x.g[1],M=x.g[2];let P=x.g[3],C;C=w+(P^I&(M^P))+k[0]+3614090360&4294967295,w=I+(C<<7&4294967295|C>>>25),C=P+(M^w&(I^M))+k[1]+3905402710&4294967295,P=w+(C<<12&4294967295|C>>>20),C=M+(I^P&(w^I))+k[2]+606105819&4294967295,M=P+(C<<17&4294967295|C>>>15),C=I+(w^M&(P^w))+k[3]+3250441966&4294967295,I=M+(C<<22&4294967295|C>>>10),C=w+(P^I&(M^P))+k[4]+4118548399&4294967295,w=I+(C<<7&4294967295|C>>>25),C=P+(M^w&(I^M))+k[5]+1200080426&4294967295,P=w+(C<<12&4294967295|C>>>20),C=M+(I^P&(w^I))+k[6]+2821735955&4294967295,M=P+(C<<17&4294967295|C>>>15),C=I+(w^M&(P^w))+k[7]+4249261313&4294967295,I=M+(C<<22&4294967295|C>>>10),C=w+(P^I&(M^P))+k[8]+1770035416&4294967295,w=I+(C<<7&4294967295|C>>>25),C=P+(M^w&(I^M))+k[9]+2336552879&4294967295,P=w+(C<<12&4294967295|C>>>20),C=M+(I^P&(w^I))+k[10]+4294925233&4294967295,M=P+(C<<17&4294967295|C>>>15),C=I+(w^M&(P^w))+k[11]+2304563134&4294967295,I=M+(C<<22&4294967295|C>>>10),C=w+(P^I&(M^P))+k[12]+1804603682&4294967295,w=I+(C<<7&4294967295|C>>>25),C=P+(M^w&(I^M))+k[13]+4254626195&4294967295,P=w+(C<<12&4294967295|C>>>20),C=M+(I^P&(w^I))+k[14]+2792965006&4294967295,M=P+(C<<17&4294967295|C>>>15),C=I+(w^M&(P^w))+k[15]+1236535329&4294967295,I=M+(C<<22&4294967295|C>>>10),C=w+(M^P&(I^M))+k[1]+4129170786&4294967295,w=I+(C<<5&4294967295|C>>>27),C=P+(I^M&(w^I))+k[6]+3225465664&4294967295,P=w+(C<<9&4294967295|C>>>23),C=M+(w^I&(P^w))+k[11]+643717713&4294967295,M=P+(C<<14&4294967295|C>>>18),C=I+(P^w&(M^P))+k[0]+3921069994&4294967295,I=M+(C<<20&4294967295|C>>>12),C=w+(M^P&(I^M))+k[5]+3593408605&4294967295,w=I+(C<<5&4294967295|C>>>27),C=P+(I^M&(w^I))+k[10]+38016083&4294967295,P=w+(C<<9&4294967295|C>>>23),C=M+(w^I&(P^w))+k[15]+3634488961&4294967295,M=P+(C<<14&4294967295|C>>>18),C=I+(P^w&(M^P))+k[4]+3889429448&4294967295,I=M+(C<<20&4294967295|C>>>12),C=w+(M^P&(I^M))+k[9]+568446438&4294967295,w=I+(C<<5&4294967295|C>>>27),C=P+(I^M&(w^I))+k[14]+3275163606&4294967295,P=w+(C<<9&4294967295|C>>>23),C=M+(w^I&(P^w))+k[3]+4107603335&4294967295,M=P+(C<<14&4294967295|C>>>18),C=I+(P^w&(M^P))+k[8]+1163531501&4294967295,I=M+(C<<20&4294967295|C>>>12),C=w+(M^P&(I^M))+k[13]+2850285829&4294967295,w=I+(C<<5&4294967295|C>>>27),C=P+(I^M&(w^I))+k[2]+4243563512&4294967295,P=w+(C<<9&4294967295|C>>>23),C=M+(w^I&(P^w))+k[7]+1735328473&4294967295,M=P+(C<<14&4294967295|C>>>18),C=I+(P^w&(M^P))+k[12]+2368359562&4294967295,I=M+(C<<20&4294967295|C>>>12),C=w+(I^M^P)+k[5]+4294588738&4294967295,w=I+(C<<4&4294967295|C>>>28),C=P+(w^I^M)+k[8]+2272392833&4294967295,P=w+(C<<11&4294967295|C>>>21),C=M+(P^w^I)+k[11]+1839030562&4294967295,M=P+(C<<16&4294967295|C>>>16),C=I+(M^P^w)+k[14]+4259657740&4294967295,I=M+(C<<23&4294967295|C>>>9),C=w+(I^M^P)+k[1]+2763975236&4294967295,w=I+(C<<4&4294967295|C>>>28),C=P+(w^I^M)+k[4]+1272893353&4294967295,P=w+(C<<11&4294967295|C>>>21),C=M+(P^w^I)+k[7]+4139469664&4294967295,M=P+(C<<16&4294967295|C>>>16),C=I+(M^P^w)+k[10]+3200236656&4294967295,I=M+(C<<23&4294967295|C>>>9),C=w+(I^M^P)+k[13]+681279174&4294967295,w=I+(C<<4&4294967295|C>>>28),C=P+(w^I^M)+k[0]+3936430074&4294967295,P=w+(C<<11&4294967295|C>>>21),C=M+(P^w^I)+k[3]+3572445317&4294967295,M=P+(C<<16&4294967295|C>>>16),C=I+(M^P^w)+k[6]+76029189&4294967295,I=M+(C<<23&4294967295|C>>>9),C=w+(I^M^P)+k[9]+3654602809&4294967295,w=I+(C<<4&4294967295|C>>>28),C=P+(w^I^M)+k[12]+3873151461&4294967295,P=w+(C<<11&4294967295|C>>>21),C=M+(P^w^I)+k[15]+530742520&4294967295,M=P+(C<<16&4294967295|C>>>16),C=I+(M^P^w)+k[2]+3299628645&4294967295,I=M+(C<<23&4294967295|C>>>9),C=w+(M^(I|~P))+k[0]+4096336452&4294967295,w=I+(C<<6&4294967295|C>>>26),C=P+(I^(w|~M))+k[7]+1126891415&4294967295,P=w+(C<<10&4294967295|C>>>22),C=M+(w^(P|~I))+k[14]+2878612391&4294967295,M=P+(C<<15&4294967295|C>>>17),C=I+(P^(M|~w))+k[5]+4237533241&4294967295,I=M+(C<<21&4294967295|C>>>11),C=w+(M^(I|~P))+k[12]+1700485571&4294967295,w=I+(C<<6&4294967295|C>>>26),C=P+(I^(w|~M))+k[3]+2399980690&4294967295,P=w+(C<<10&4294967295|C>>>22),C=M+(w^(P|~I))+k[10]+4293915773&4294967295,M=P+(C<<15&4294967295|C>>>17),C=I+(P^(M|~w))+k[1]+2240044497&4294967295,I=M+(C<<21&4294967295|C>>>11),C=w+(M^(I|~P))+k[8]+1873313359&4294967295,w=I+(C<<6&4294967295|C>>>26),C=P+(I^(w|~M))+k[15]+4264355552&4294967295,P=w+(C<<10&4294967295|C>>>22),C=M+(w^(P|~I))+k[6]+2734768916&4294967295,M=P+(C<<15&4294967295|C>>>17),C=I+(P^(M|~w))+k[13]+1309151649&4294967295,I=M+(C<<21&4294967295|C>>>11),C=w+(M^(I|~P))+k[4]+4149444226&4294967295,w=I+(C<<6&4294967295|C>>>26),C=P+(I^(w|~M))+k[11]+3174756917&4294967295,P=w+(C<<10&4294967295|C>>>22),C=M+(w^(P|~I))+k[2]+718787259&4294967295,M=P+(C<<15&4294967295|C>>>17),C=I+(P^(M|~w))+k[9]+3951481745&4294967295,x.g[0]=x.g[0]+w&4294967295,x.g[1]=x.g[1]+(M+(C<<21&4294967295|C>>>11))&4294967295,x.g[2]=x.g[2]+M&4294967295,x.g[3]=x.g[3]+P&4294967295}s.prototype.v=function(x,w){w===void 0&&(w=x.length);const I=w-this.blockSize,k=this.C;let M=this.h,P=0;for(;P<w;){if(M==0)for(;P<=I;)o(this,x,P),P+=this.blockSize;if(typeof x=="string"){for(;P<w;)if(k[M++]=x.charCodeAt(P++),M==this.blockSize){o(this,k),M=0;break}}else for(;P<w;)if(k[M++]=x[P++],M==this.blockSize){o(this,k),M=0;break}}this.h=M,this.o+=w},s.prototype.A=function(){var x=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);x[0]=128;for(var w=1;w<x.length-8;++w)x[w]=0;w=this.o*8;for(var I=x.length-8;I<x.length;++I)x[I]=w&255,w/=256;for(this.v(x),x=Array(16),w=0,I=0;I<4;++I)for(let k=0;k<32;k+=8)x[w++]=this.g[I]>>>k&255;return x};function u(x,w){var I=m;return Object.prototype.hasOwnProperty.call(I,x)?I[x]:I[x]=w(x)}function f(x,w){this.h=w;const I=[];let k=!0;for(let M=x.length-1;M>=0;M--){const P=x[M]|0;k&&P==w||(I[M]=P,k=!1)}this.g=I}var m={};function p(x){return-128<=x&&x<128?u(x,function(w){return new f([w|0],w<0?-1:0)}):new f([x|0],x<0?-1:0)}function y(x){if(isNaN(x)||!isFinite(x))return S;if(x<0)return $(y(-x));const w=[];let I=1;for(let k=0;x>=I;k++)w[k]=x/I|0,I*=4294967296;return new f(w,0)}function E(x,w){if(x.length==0)throw Error("number format error: empty string");if(w=w||10,w<2||36<w)throw Error("radix out of range: "+w);if(x.charAt(0)=="-")return $(E(x.substring(1),w));if(x.indexOf("-")>=0)throw Error('number format error: interior "-" character');const I=y(Math.pow(w,8));let k=S;for(let P=0;P<x.length;P+=8){var M=Math.min(8,x.length-P);const C=parseInt(x.substring(P,P+M),w);M<8?(M=y(Math.pow(w,M)),k=k.j(M).add(y(C))):(k=k.j(I),k=k.add(y(C)))}return k}var S=p(0),R=p(1),O=p(16777216);r=f.prototype,r.m=function(){if(Y(this))return-$(this).m();let x=0,w=1;for(let I=0;I<this.g.length;I++){const k=this.i(I);x+=(k>=0?k:4294967296+k)*w,w*=4294967296}return x},r.toString=function(x){if(x=x||10,x<2||36<x)throw Error("radix out of range: "+x);if(B(this))return"0";if(Y(this))return"-"+$(this).toString(x);const w=y(Math.pow(x,6));var I=this;let k="";for(;;){const M=ge(I,w).g;I=se(I,M.j(w));let P=((I.g.length>0?I.g[0]:I.h)>>>0).toString(x);if(I=M,B(I))return P+k;for(;P.length<6;)P="0"+P;k=P+k}},r.i=function(x){return x<0?0:x<this.g.length?this.g[x]:this.h};function B(x){if(x.h!=0)return!1;for(let w=0;w<x.g.length;w++)if(x.g[w]!=0)return!1;return!0}function Y(x){return x.h==-1}r.l=function(x){return x=se(this,x),Y(x)?-1:B(x)?0:1};function $(x){const w=x.g.length,I=[];for(let k=0;k<w;k++)I[k]=~x.g[k];return new f(I,~x.h).add(R)}r.abs=function(){return Y(this)?$(this):this},r.add=function(x){const w=Math.max(this.g.length,x.g.length),I=[];let k=0;for(let M=0;M<=w;M++){let P=k+(this.i(M)&65535)+(x.i(M)&65535),C=(P>>>16)+(this.i(M)>>>16)+(x.i(M)>>>16);k=C>>>16,P&=65535,C&=65535,I[M]=C<<16|P}return new f(I,I[I.length-1]&-2147483648?-1:0)};function se(x,w){return x.add($(w))}r.j=function(x){if(B(this)||B(x))return S;if(Y(this))return Y(x)?$(this).j($(x)):$($(this).j(x));if(Y(x))return $(this.j($(x)));if(this.l(O)<0&&x.l(O)<0)return y(this.m()*x.m());const w=this.g.length+x.g.length,I=[];for(var k=0;k<2*w;k++)I[k]=0;for(k=0;k<this.g.length;k++)for(let M=0;M<x.g.length;M++){const P=this.i(k)>>>16,C=this.i(k)&65535,Be=x.i(M)>>>16,$e=x.i(M)&65535;I[2*k+2*M]+=C*$e,ie(I,2*k+2*M),I[2*k+2*M+1]+=P*$e,ie(I,2*k+2*M+1),I[2*k+2*M+1]+=C*Be,ie(I,2*k+2*M+1),I[2*k+2*M+2]+=P*Be,ie(I,2*k+2*M+2)}for(x=0;x<w;x++)I[x]=I[2*x+1]<<16|I[2*x];for(x=w;x<2*w;x++)I[x]=0;return new f(I,0)};function ie(x,w){for(;(x[w]&65535)!=x[w];)x[w+1]+=x[w]>>>16,x[w]&=65535,w++}function re(x,w){this.g=x,this.h=w}function ge(x,w){if(B(w))throw Error("division by zero");if(B(x))return new re(S,S);if(Y(x))return w=ge($(x),w),new re($(w.g),$(w.h));if(Y(w))return w=ge(x,$(w)),new re($(w.g),w.h);if(x.g.length>30){if(Y(x)||Y(w))throw Error("slowDivide_ only works with positive integers.");for(var I=R,k=w;k.l(x)<=0;)I=ce(I),k=ce(k);var M=pe(I,1),P=pe(k,1);for(k=pe(k,2),I=pe(I,2);!B(k);){var C=P.add(k);C.l(x)<=0&&(M=M.add(I),P=C),k=pe(k,1),I=pe(I,1)}return w=se(x,M.j(w)),new re(M,w)}for(M=S;x.l(w)>=0;){for(I=Math.max(1,Math.floor(x.m()/w.m())),k=Math.ceil(Math.log(I)/Math.LN2),k=k<=48?1:Math.pow(2,k-48),P=y(I),C=P.j(w);Y(C)||C.l(x)>0;)I-=k,P=y(I),C=P.j(w);B(P)&&(P=R),M=M.add(P),x=se(x,C)}return new re(M,x)}r.B=function(x){return ge(this,x).h},r.and=function(x){const w=Math.max(this.g.length,x.g.length),I=[];for(let k=0;k<w;k++)I[k]=this.i(k)&x.i(k);return new f(I,this.h&x.h)},r.or=function(x){const w=Math.max(this.g.length,x.g.length),I=[];for(let k=0;k<w;k++)I[k]=this.i(k)|x.i(k);return new f(I,this.h|x.h)},r.xor=function(x){const w=Math.max(this.g.length,x.g.length),I=[];for(let k=0;k<w;k++)I[k]=this.i(k)^x.i(k);return new f(I,this.h^x.h)};function ce(x){const w=x.g.length+1,I=[];for(let k=0;k<w;k++)I[k]=x.i(k)<<1|x.i(k-1)>>>31;return new f(I,x.h)}function pe(x,w){const I=w>>5;w%=32;const k=x.g.length-I,M=[];for(let P=0;P<k;P++)M[P]=w>0?x.i(P+I)>>>w|x.i(P+I+1)<<32-w:x.i(P+I);return new f(M,x.h)}s.prototype.digest=s.prototype.A,s.prototype.reset=s.prototype.u,s.prototype.update=s.prototype.v,HT=s,f.prototype.add=f.prototype.add,f.prototype.multiply=f.prototype.j,f.prototype.modulo=f.prototype.B,f.prototype.compare=f.prototype.l,f.prototype.toNumber=f.prototype.m,f.prototype.toString=f.prototype.toString,f.prototype.getBits=f.prototype.i,f.fromNumber=y,f.fromString=E,hs=f}).apply(typeof k0<"u"?k0:typeof self<"u"?self:typeof window<"u"?window:{});var ch=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var FT,Fl,GT,Th,tp,$T,QT,YT;(function(){var r,e=Object.defineProperty;function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof ch=="object"&&ch];for(var g=0;g<c.length;++g){var v=c[g];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var s=n(this);function o(c,g){if(g)e:{var v=s;c=c.split(".");for(var A=0;A<c.length-1;A++){var z=c[A];if(!(z in v))break e;v=v[z]}c=c[c.length-1],A=v[c],g=g(A),g!=A&&g!=null&&e(v,c,{configurable:!0,writable:!0,value:g})}}o("Symbol.dispose",function(c){return c||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(c){return c||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(c){return c||function(g){var v=[],A;for(A in g)Object.prototype.hasOwnProperty.call(g,A)&&v.push([A,g[A]]);return v}});var u=u||{},f=this||self;function m(c){var g=typeof c;return g=="object"&&c!=null||g=="function"}function p(c,g,v){return c.call.apply(c.bind,arguments)}function y(c,g,v){return y=p,y.apply(null,arguments)}function E(c,g){var v=Array.prototype.slice.call(arguments,1);return function(){var A=v.slice();return A.push.apply(A,arguments),c.apply(this,A)}}function S(c,g){function v(){}v.prototype=g.prototype,c.Z=g.prototype,c.prototype=new v,c.prototype.constructor=c,c.Ob=function(A,z,G){for(var oe=Array(arguments.length-2),Ie=2;Ie<arguments.length;Ie++)oe[Ie-2]=arguments[Ie];return g.prototype[z].apply(A,oe)}}var R=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?c=>c&&AsyncContext.Snapshot.wrap(c):c=>c;function O(c){const g=c.length;if(g>0){const v=Array(g);for(let A=0;A<g;A++)v[A]=c[A];return v}return[]}function B(c,g){for(let A=1;A<arguments.length;A++){const z=arguments[A];var v=typeof z;if(v=v!="object"?v:z?Array.isArray(z)?"array":v:"null",v=="array"||v=="object"&&typeof z.length=="number"){v=c.length||0;const G=z.length||0;c.length=v+G;for(let oe=0;oe<G;oe++)c[v+oe]=z[oe]}else c.push(z)}}class Y{constructor(g,v){this.i=g,this.j=v,this.h=0,this.g=null}get(){let g;return this.h>0?(this.h--,g=this.g,this.g=g.next,g.next=null):g=this.i(),g}}function $(c){f.setTimeout(()=>{throw c},0)}function se(){var c=x;let g=null;return c.g&&(g=c.g,c.g=c.g.next,c.g||(c.h=null),g.next=null),g}class ie{constructor(){this.h=this.g=null}add(g,v){const A=re.get();A.set(g,v),this.h?this.h.next=A:this.g=A,this.h=A}}var re=new Y(()=>new ge,c=>c.reset());class ge{constructor(){this.next=this.g=this.h=null}set(g,v){this.h=g,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let ce,pe=!1,x=new ie,w=()=>{const c=Promise.resolve(void 0);ce=()=>{c.then(I)}};function I(){for(var c;c=se();){try{c.h.call(c.g)}catch(v){$(v)}var g=re;g.j(c),g.h<100&&(g.h++,c.next=g.g,g.g=c)}pe=!1}function k(){this.u=this.u,this.C=this.C}k.prototype.u=!1,k.prototype.dispose=function(){this.u||(this.u=!0,this.N())},k.prototype[Symbol.dispose]=function(){this.dispose()},k.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function M(c,g){this.type=c,this.g=this.target=g,this.defaultPrevented=!1}M.prototype.h=function(){this.defaultPrevented=!0};var P=(function(){if(!f.addEventListener||!Object.defineProperty)return!1;var c=!1,g=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const v=()=>{};f.addEventListener("test",v,g),f.removeEventListener("test",v,g)}catch{}return c})();function C(c){return/^[\s\xa0]*$/.test(c)}function Be(c,g){M.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c&&this.init(c,g)}S(Be,M),Be.prototype.init=function(c,g){const v=this.type=c.type,A=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;this.target=c.target||c.srcElement,this.g=g,g=c.relatedTarget,g||(v=="mouseover"?g=c.fromElement:v=="mouseout"&&(g=c.toElement)),this.relatedTarget=g,A?(this.clientX=A.clientX!==void 0?A.clientX:A.pageX,this.clientY=A.clientY!==void 0?A.clientY:A.pageY,this.screenX=A.screenX||0,this.screenY=A.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=c.pointerType,this.state=c.state,this.i=c,c.defaultPrevented&&Be.Z.h.call(this)},Be.prototype.h=function(){Be.Z.h.call(this);const c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var $e="closure_listenable_"+(Math.random()*1e6|0),K=0;function ae(c,g,v,A,z){this.listener=c,this.proxy=null,this.src=g,this.type=v,this.capture=!!A,this.ha=z,this.key=++K,this.da=this.fa=!1}function de(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function xe(c,g,v){for(const A in c)g.call(v,c[A],A,c)}function Oe(c,g){for(const v in c)g.call(void 0,c[v],v,c)}function V(c){const g={};for(const v in c)g[v]=c[v];return g}const Z="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function j(c,g){let v,A;for(let z=1;z<arguments.length;z++){A=arguments[z];for(v in A)c[v]=A[v];for(let G=0;G<Z.length;G++)v=Z[G],Object.prototype.hasOwnProperty.call(A,v)&&(c[v]=A[v])}}function ne(c){this.src=c,this.g={},this.h=0}ne.prototype.add=function(c,g,v,A,z){const G=c.toString();c=this.g[G],c||(c=this.g[G]=[],this.h++);const oe=ye(c,g,A,z);return oe>-1?(g=c[oe],v||(g.fa=!1)):(g=new ae(g,this.src,G,!!A,z),g.fa=v,c.push(g)),g};function he(c,g){const v=g.type;if(v in c.g){var A=c.g[v],z=Array.prototype.indexOf.call(A,g,void 0),G;(G=z>=0)&&Array.prototype.splice.call(A,z,1),G&&(de(g),c.g[v].length==0&&(delete c.g[v],c.h--))}}function ye(c,g,v,A){for(let z=0;z<c.length;++z){const G=c[z];if(!G.da&&G.listener==g&&G.capture==!!v&&G.ha==A)return z}return-1}var Te="closure_lm_"+(Math.random()*1e6|0),qe={};function Ke(c,g,v,A,z){if(Array.isArray(g)){for(let G=0;G<g.length;G++)Ke(c,g[G],v,A,z);return null}return v=zo(v),c&&c[$e]?c.J(g,v,m(A)?!!A.capture:!1,z):bs(c,g,v,!1,A,z)}function bs(c,g,v,A,z,G){if(!g)throw Error("Invalid event type");const oe=m(z)?!!z.capture:!!z;let Ie=Ss(c);if(Ie||(c[Te]=Ie=new ne(c)),v=Ie.add(g,v,A,oe,G),v.proxy)return v;if(A=Ta(),v.proxy=A,A.src=c,A.listener=v,c.addEventListener)P||(z=oe),z===void 0&&(z=!1),c.addEventListener(g.toString(),A,z);else if(c.attachEvent)c.attachEvent(ai(g.toString()),A);else if(c.addListener&&c.removeListener)c.addListener(A);else throw Error("addEventListener and attachEvent are unavailable.");return v}function Ta(){function c(v){return g.call(c.src,c.listener,v)}const g=Uo;return c}function ba(c,g,v,A,z){if(Array.isArray(g))for(var G=0;G<g.length;G++)ba(c,g[G],v,A,z);else A=m(A)?!!A.capture:!!A,v=zo(v),c&&c[$e]?(c=c.i,G=String(g).toString(),G in c.g&&(g=c.g[G],v=ye(g,v,A,z),v>-1&&(de(g[v]),Array.prototype.splice.call(g,v,1),g.length==0&&(delete c.g[G],c.h--)))):c&&(c=Ss(c))&&(g=c.g[g.toString()],c=-1,g&&(c=ye(g,v,A,z)),(v=c>-1?g[c]:null)&&Sa(v))}function Sa(c){if(typeof c!="number"&&c&&!c.da){var g=c.src;if(g&&g[$e])he(g.i,c);else{var v=c.type,A=c.proxy;g.removeEventListener?g.removeEventListener(v,A,c.capture):g.detachEvent?g.detachEvent(ai(v),A):g.addListener&&g.removeListener&&g.removeListener(A),(v=Ss(g))?(he(v,c),v.h==0&&(v.src=null,g[Te]=null)):de(c)}}}function ai(c){return c in qe?qe[c]:qe[c]="on"+c}function Uo(c,g){if(c.da)c=!0;else{g=new Be(g,this);const v=c.listener,A=c.ha||c.src;c.fa&&Sa(c),c=v.call(A,g)}return c}function Ss(c){return c=c[Te],c instanceof ne?c:null}var jo="__closure_events_fn_"+(Math.random()*1e9>>>0);function zo(c){return typeof c=="function"?c:(c[jo]||(c[jo]=function(g){return c.handleEvent(g)}),c[jo])}function Et(){k.call(this),this.i=new ne(this),this.M=this,this.G=null}S(Et,k),Et.prototype[$e]=!0,Et.prototype.removeEventListener=function(c,g,v,A){ba(this,c,g,v,A)};function Mt(c,g){var v,A=c.G;if(A)for(v=[];A;A=A.G)v.push(A);if(c=c.M,A=g.type||g,typeof g=="string")g=new M(g,c);else if(g instanceof M)g.target=g.target||c;else{var z=g;g=new M(A,c),j(g,z)}z=!0;let G,oe;if(v)for(oe=v.length-1;oe>=0;oe--)G=g.g=v[oe],z=vr(G,A,!0,g)&&z;if(G=g.g=c,z=vr(G,A,!0,g)&&z,z=vr(G,A,!1,g)&&z,v)for(oe=0;oe<v.length;oe++)G=g.g=v[oe],z=vr(G,A,!1,g)&&z}Et.prototype.N=function(){if(Et.Z.N.call(this),this.i){var c=this.i;for(const g in c.g){const v=c.g[g];for(let A=0;A<v.length;A++)de(v[A]);delete c.g[g],c.h--}}this.G=null},Et.prototype.J=function(c,g,v,A){return this.i.add(String(c),g,!1,v,A)},Et.prototype.K=function(c,g,v,A){return this.i.add(String(c),g,!0,v,A)};function vr(c,g,v,A){if(g=c.i.g[String(g)],!g)return!0;g=g.concat();let z=!0;for(let G=0;G<g.length;++G){const oe=g[G];if(oe&&!oe.da&&oe.capture==v){const Ie=oe.listener,gt=oe.ha||oe.src;oe.fa&&he(c.i,oe),z=Ie.call(gt,A)!==!1&&z}}return z&&!A.defaultPrevented}function wf(c,g){if(typeof c!="function")if(c&&typeof c.handleEvent=="function")c=y(c.handleEvent,c);else throw Error("Invalid listener argument");return Number(g)>2147483647?-1:f.setTimeout(c,g||0)}function Vu(c){c.g=wf(()=>{c.g=null,c.i&&(c.i=!1,Vu(c))},c.l);const g=c.h;c.h=null,c.m.apply(null,g)}class en extends k{constructor(g,v){super(),this.m=g,this.l=v,this.h=null,this.i=!1,this.g=null}j(g){this.h=arguments,this.g?this.i=!0:Vu(this)}N(){super.N(),this.g&&(f.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function As(c){k.call(this),this.h=c,this.g={}}S(As,k);var Bo=[];function qo(c){xe(c.g,function(g,v){this.g.hasOwnProperty(v)&&Sa(g)},c),c.g={}}As.prototype.N=function(){As.Z.N.call(this),qo(this)},As.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Er=f.JSON.stringify,Rf=f.JSON.parse,ku=class{stringify(c){return f.JSON.stringify(c,void 0)}parse(c){return f.JSON.parse(c,void 0)}};function Lu(){}function Pu(){}var qn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function zt(){M.call(this,"d")}S(zt,M);function An(){M.call(this,"c")}S(An,M);var pt={},Uu=null;function Aa(){return Uu=Uu||new Et}pt.Ia="serverreachability";function ju(c){M.call(this,pt.Ia,c)}S(ju,M);function oi(c){const g=Aa();Mt(g,new ju(g))}pt.STAT_EVENT="statevent";function ws(c,g){M.call(this,pt.STAT_EVENT,c),this.stat=g}S(ws,M);function Tt(c){const g=Aa();Mt(g,new ws(g,c))}pt.Ja="timingevent";function li(c,g){M.call(this,pt.Ja,c),this.size=g}S(li,M);function ui(c,g){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return f.setTimeout(function(){c()},g)}function Hn(){this.g=!0}Hn.prototype.ua=function(){this.g=!1};function Cf(c,g,v,A,z,G){c.info(function(){if(c.g)if(G){var oe="",Ie=G.split("&");for(let Qe=0;Qe<Ie.length;Qe++){var gt=Ie[Qe].split("=");if(gt.length>1){const ct=gt[0];gt=gt[1];const xn=ct.split("_");oe=xn.length>=2&&xn[1]=="type"?oe+(ct+"="+gt+"&"):oe+(ct+"=redacted&")}}}else oe=null;else oe=G;return"XMLHTTP REQ ("+A+") [attempt "+z+"]: "+g+`
`+v+`
`+oe})}function zu(c,g,v,A,z,G,oe){c.info(function(){return"XMLHTTP RESP ("+A+") [ attempt "+z+"]: "+g+`
`+v+`
`+G+" "+oe})}function ci(c,g,v,A){c.info(function(){return"XMLHTTP TEXT ("+g+"): "+xf(c,v)+(A?" "+A:"")})}function Rs(c,g){c.info(function(){return"TIMEOUT: "+g})}Hn.prototype.info=function(){};function xf(c,g){if(!c.g)return g;if(!g)return null;try{const G=JSON.parse(g);if(G){for(c=0;c<G.length;c++)if(Array.isArray(G[c])){var v=G[c];if(!(v.length<2)){var A=v[1];if(Array.isArray(A)&&!(A.length<1)){var z=A[0];if(z!="noop"&&z!="stop"&&z!="close")for(let oe=1;oe<A.length;oe++)A[oe]=""}}}}return Er(G)}catch{return g}}var Cs={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Ho={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Fo;function xs(){}S(xs,Lu),xs.prototype.g=function(){return new XMLHttpRequest},Fo=new xs;function zi(c){return encodeURIComponent(String(c))}function Bu(c){var g=1;c=c.split(":");const v=[];for(;g>0&&c.length;)v.push(c.shift()),g--;return c.length&&v.push(c.join(":")),v}function Fn(c,g,v,A){this.j=c,this.i=g,this.l=v,this.S=A||1,this.V=new As(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Gn}function Gn(){this.i=null,this.g="",this.h=!1}var bt={},Lt={};function hi(c,g,v){c.M=1,c.A=Is(At(g)),c.u=v,c.R=!0,wa(c,null)}function wa(c,g){c.F=Date.now(),fi(c),c.B=At(c.A);var v=c.B,A=c.S;Array.isArray(A)||(A=[String(A)]),Ia(v.i,"t",A),c.C=0,v=c.j.L,c.h=new Gn,c.g=nc(c.j,v?g:null,!c.u),c.P>0&&(c.O=new en(y(c.Y,c,c.g),c.P)),g=c.V,v=c.g,A=c.ba;var z="readystatechange";Array.isArray(z)||(z&&(Bo[0]=z.toString()),z=Bo);for(let G=0;G<z.length;G++){const oe=Ke(v,z[G],A||g.handleEvent,!1,g.h||g);if(!oe)break;g.g[oe.key]=oe}g=c.J?V(c.J):{},c.u?(c.v||(c.v="POST"),g["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.B,c.v,c.u,g)):(c.v="GET",c.g.ea(c.B,c.v,null,g)),oi(),Cf(c.i,c.v,c.B,c.l,c.S,c.u)}Fn.prototype.ba=function(c){c=c.target;const g=this.O;g&&Yn(c)==3?g.j():this.Y(c)},Fn.prototype.Y=function(c){try{if(c==this.g)e:{const Ie=Yn(this.g),gt=this.g.ya(),Qe=this.g.ca();if(!(Ie<3)&&(Ie!=3||this.g&&(this.h.h||this.g.la()||Bt(this.g)))){this.K||Ie!=4||gt==7||(gt==8||Qe<=0?oi(3):oi(2)),di(this);var g=this.g.ca();this.X=g;var v=If(this);if(this.o=g==200,zu(this.i,this.v,this.B,this.l,this.S,Ie,g),this.o){if(this.U&&!this.L){t:{if(this.g){var A,z=this.g;if((A=z.g?z.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!C(A)){var G=A;break t}}G=null}if(c=G)ci(this.i,this.l,c,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,mi(this,c);else{this.o=!1,this.m=3,Tt(12),pn(this),wn(this);break e}}if(this.R){c=!0;let ct;for(;!this.K&&this.C<v.length;)if(ct=Hu(this,v),ct==Lt){Ie==4&&(this.m=4,Tt(14),c=!1),ci(this.i,this.l,null,"[Incomplete Response]");break}else if(ct==bt){this.m=4,Tt(15),ci(this.i,this.l,v,"[Invalid Chunk]"),c=!1;break}else ci(this.i,this.l,ct,null),mi(this,ct);if(qu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ie!=4||v.length!=0||this.h.h||(this.m=1,Tt(16),c=!1),this.o=this.o&&c,!c)ci(this.i,this.l,v,"[Invalid Chunked Response]"),pn(this),wn(this);else if(v.length>0&&!this.W){this.W=!0;var oe=this.j;oe.g==this&&oe.aa&&!oe.P&&(oe.j.info("Great, no buffering proxy detected. Bytes received: "+v.length),sl(oe),oe.P=!0,Tt(11))}}else ci(this.i,this.l,v,null),mi(this,v);Ie==4&&pn(this),this.o&&!this.K&&(Ie==4?Ju(this.j,this):(this.o=!1,fi(this)))}else qi(this.g),g==400&&v.indexOf("Unknown SID")>0?(this.m=3,Tt(12)):(this.m=0,Tt(13)),pn(this),wn(this)}}}catch{}finally{}};function If(c){if(!qu(c))return c.g.la();const g=Bt(c.g);if(g==="")return"";let v="";const A=g.length,z=Yn(c.g)==4;if(!c.h.i){if(typeof TextDecoder>"u")return pn(c),wn(c),"";c.h.i=new f.TextDecoder}for(let G=0;G<A;G++)c.h.h=!0,v+=c.h.i.decode(g[G],{stream:!(z&&G==A-1)});return g.length=0,c.h.g+=v,c.C=0,c.h.g}function qu(c){return c.g?c.v=="GET"&&c.M!=2&&c.j.Aa:!1}function Hu(c,g){var v=c.C,A=g.indexOf(`
`,v);return A==-1?Lt:(v=Number(g.substring(v,A)),isNaN(v)?bt:(A+=1,A+v>g.length?Lt:(g=g.slice(A,A+v),c.C=A+v,g)))}Fn.prototype.cancel=function(){this.K=!0,pn(this)};function fi(c){c.T=Date.now()+c.H,Ra(c,c.H)}function Ra(c,g){if(c.D!=null)throw Error("WatchDog timer not null");c.D=ui(y(c.aa,c),g)}function di(c){c.D&&(f.clearTimeout(c.D),c.D=null)}Fn.prototype.aa=function(){this.D=null;const c=Date.now();c-this.T>=0?(Rs(this.i,this.B),this.M!=2&&(oi(),Tt(17)),pn(this),this.m=2,wn(this)):Ra(this,this.T-c)};function wn(c){c.j.I==0||c.K||Ju(c.j,c)}function pn(c){di(c);var g=c.O;g&&typeof g.dispose=="function"&&g.dispose(),c.O=null,qo(c.V),c.g&&(g=c.g,c.g=null,g.abort(),g.dispose())}function mi(c,g){try{var v=c.j;if(v.I!=0&&(v.g==c||gi(v.h,c))){if(!c.L&&gi(v.h,c)&&v.I==3){try{var A=v.Ba.g.parse(g)}catch{A=null}if(Array.isArray(A)&&A.length==3){var z=A;if(z[0]==0){e:if(!v.v){if(v.g)if(v.g.F+3e3<c.F)Va(v),xr(v);else break e;Ls(v),Tt(18)}}else v.xa=z[1],0<v.xa-v.K&&z[2]<37500&&v.F&&v.A==0&&!v.C&&(v.C=ui(y(v.Va,v),6e3));pi(v.h)<=1&&v.ta&&(v.ta=void 0)}else bi(v,11)}else if((c.L||v.g==c)&&Va(v),!C(g))for(z=v.Ba.g.parse(g),g=0;g<z.length;g++){let Qe=z[g];const ct=Qe[0];if(!(ct<=v.K))if(v.K=ct,Qe=Qe[1],v.I==2)if(Qe[0]=="c"){v.M=Qe[1],v.ba=Qe[2];const xn=Qe[3];xn!=null&&(v.ka=xn,v.j.info("VER="+v.ka));const Si=Qe[4];Si!=null&&(v.za=Si,v.j.info("SVER="+v.za));const Kn=Qe[5];Kn!=null&&typeof Kn=="number"&&Kn>0&&(A=1.5*Kn,v.O=A,v.j.info("backChannelRequestTimeoutMs_="+A)),A=v;const Xn=c.g;if(Xn){const Ps=Xn.g?Xn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ps){var G=A.h;G.g||Ps.indexOf("spdy")==-1&&Ps.indexOf("quic")==-1&&Ps.indexOf("h2")==-1||(G.j=G.l,G.g=new Set,G.h&&(Qo(G,G.h),G.h=null))}if(A.G){const ka=Xn.g?Xn.g.getResponseHeader("X-HTTP-Session-Id"):null;ka&&(A.wa=ka,Ze(A.J,A.G,ka))}}v.I=3,v.l&&v.l.ra(),v.aa&&(v.T=Date.now()-c.F,v.j.info("Handshake RTT: "+v.T+"ms")),A=v;var oe=c;if(A.na=tc(A,A.L?A.ba:null,A.W),oe.L){Yo(A.h,oe);var Ie=oe,gt=A.O;gt&&(Ie.H=gt),Ie.D&&(di(Ie),fi(Ie)),A.g=oe}else Xu(A);v.i.length>0&&Ti(v)}else Qe[0]!="stop"&&Qe[0]!="close"||bi(v,7);else v.I==3&&(Qe[0]=="stop"||Qe[0]=="close"?Qe[0]=="stop"?bi(v,7):il(v):Qe[0]!="noop"&&v.l&&v.l.qa(Qe),v.A=0)}}oi(4)}catch{}}var St=class{constructor(c,g){this.g=c,this.map=g}};function Go(c){this.l=c||10,f.PerformanceNavigationTiming?(c=f.performance.getEntriesByType("navigation"),c=c.length>0&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(f.chrome&&f.chrome.loadTimes&&f.chrome.loadTimes()&&f.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function $o(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function pi(c){return c.h?1:c.g?c.g.size:0}function gi(c,g){return c.h?c.h==g:c.g?c.g.has(g):!1}function Qo(c,g){c.g?c.g.add(g):c.h=g}function Yo(c,g){c.h&&c.h==g?c.h=null:c.g&&c.g.has(g)&&c.g.delete(g)}Go.prototype.cancel=function(){if(this.i=Ko(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function Ko(c){if(c.h!=null)return c.i.concat(c.h.G);if(c.g!=null&&c.g.size!==0){let g=c.i;for(const v of c.g.values())g=g.concat(v.G);return g}return O(c.i)}var Fu=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ca(c,g){if(c){c=c.split("&");for(let v=0;v<c.length;v++){const A=c[v].indexOf("=");let z,G=null;A>=0?(z=c[v].substring(0,A),G=c[v].substring(A+1)):z=c[v],g(z,G?decodeURIComponent(G.replace(/\+/g," ")):"")}}}function gn(c){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let g;c instanceof gn?(this.l=c.l,Pt(this,c.j),this.o=c.o,this.g=c.g,Tr(this,c.u),this.h=c.h,Xo(this,Yu(c.i)),this.m=c.m):c&&(g=String(c).match(Fu))?(this.l=!1,Pt(this,g[1]||"",!0),this.o=yi(g[2]||""),this.g=yi(g[3]||"",!0),Tr(this,g[4]),this.h=yi(g[5]||"",!0),Xo(this,g[6]||"",!0),this.m=yi(g[7]||"")):(this.l=!1,this.i=new Sr(null,this.l))}gn.prototype.toString=function(){const c=[];var g=this.j;g&&c.push(Ns(g,xa,!0),":");var v=this.g;return(v||g=="file")&&(c.push("//"),(g=this.o)&&c.push(Ns(g,xa,!0),"@"),c.push(zi(v).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.u,v!=null&&c.push(":",String(v))),(v=this.h)&&(this.g&&v.charAt(0)!="/"&&c.push("/"),c.push(Ns(v,v.charAt(0)=="/"?Zo:Gu,!0))),(v=this.i.toString())&&c.push("?",v),(v=this.m)&&c.push("#",Ns(v,$u)),c.join("")},gn.prototype.resolve=function(c){const g=At(this);let v=!!c.j;v?Pt(g,c.j):v=!!c.o,v?g.o=c.o:v=!!c.g,v?g.g=c.g:v=c.u!=null;var A=c.h;if(v)Tr(g,c.u);else if(v=!!c.h){if(A.charAt(0)!="/")if(this.g&&!this.h)A="/"+A;else{var z=g.h.lastIndexOf("/");z!=-1&&(A=g.h.slice(0,z+1)+A)}if(z=A,z==".."||z==".")A="";else if(z.indexOf("./")!=-1||z.indexOf("/.")!=-1){A=z.lastIndexOf("/",0)==0,z=z.split("/");const G=[];for(let oe=0;oe<z.length;){const Ie=z[oe++];Ie=="."?A&&oe==z.length&&G.push(""):Ie==".."?((G.length>1||G.length==1&&G[0]!="")&&G.pop(),A&&oe==z.length&&G.push("")):(G.push(Ie),A=!0)}A=G.join("/")}else A=z}return v?g.h=A:v=c.i.toString()!=="",v?Xo(g,Yu(c.i)):v=!!c.m,v&&(g.m=c.m),g};function At(c){return new gn(c)}function Pt(c,g,v){c.j=v?yi(g,!0):g,c.j&&(c.j=c.j.replace(/:$/,""))}function Tr(c,g){if(g){if(g=Number(g),isNaN(g)||g<0)throw Error("Bad port number "+g);c.u=g}else c.u=null}function Xo(c,g,v){g instanceof Sr?(c.i=g,Na(c.i,c.l)):(v||(g=Ns(g,br)),c.i=new Sr(g,c.l))}function Ze(c,g,v){c.i.set(g,v)}function Is(c){return Ze(c,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),c}function yi(c,g){return c?g?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function Ns(c,g,v){return typeof c=="string"?(c=encodeURI(c).replace(g,rn),v&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function rn(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var xa=/[#\/\?@]/g,Gu=/[#\?:]/g,Zo=/[#\?]/g,br=/[#\?@]/g,$u=/#/g;function Sr(c,g){this.h=this.g=null,this.i=c||null,this.j=!!g}function sn(c){c.g||(c.g=new Map,c.h=0,c.i&&Ca(c.i,function(g,v){c.add(decodeURIComponent(g.replace(/\+/g," ")),v)}))}r=Sr.prototype,r.add=function(c,g){sn(this),this.i=null,c=Ar(this,c);let v=this.g.get(c);return v||this.g.set(c,v=[]),v.push(g),this.h+=1,this};function Qu(c,g){sn(c),g=Ar(c,g),c.g.has(g)&&(c.i=null,c.h-=c.g.get(g).length,c.g.delete(g))}function Jo(c,g){return sn(c),g=Ar(c,g),c.g.has(g)}r.forEach=function(c,g){sn(this),this.g.forEach(function(v,A){v.forEach(function(z){c.call(g,z,A,this)},this)},this)};function Wo(c,g){sn(c);let v=[];if(typeof g=="string")Jo(c,g)&&(v=v.concat(c.g.get(Ar(c,g))));else for(c=Array.from(c.g.values()),g=0;g<c.length;g++)v=v.concat(c[g]);return v}r.set=function(c,g){return sn(this),this.i=null,c=Ar(this,c),Jo(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[g]),this.h+=1,this},r.get=function(c,g){return c?(c=Wo(this,c),c.length>0?String(c[0]):g):g};function Ia(c,g,v){Qu(c,g),v.length>0&&(c.i=null,c.g.set(Ar(c,g),O(v)),c.h+=v.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],g=Array.from(this.g.keys());for(let A=0;A<g.length;A++){var v=g[A];const z=zi(v);v=Wo(this,v);for(let G=0;G<v.length;G++){let oe=z;v[G]!==""&&(oe+="="+zi(v[G])),c.push(oe)}}return this.i=c.join("&")};function Yu(c){const g=new Sr;return g.i=c.i,c.g&&(g.g=new Map(c.g),g.h=c.h),g}function Ar(c,g){return g=String(g),c.j&&(g=g.toLowerCase()),g}function Na(c,g){g&&!c.j&&(sn(c),c.i=null,c.g.forEach(function(v,A){const z=A.toLowerCase();A!=z&&(Qu(this,A),Ia(this,z,v))},c)),c.j=g}function $n(c,g){const v=new Hn;if(f.Image){const A=new Image;A.onload=E(Rn,v,"TestLoadImage: loaded",!0,g,A),A.onerror=E(Rn,v,"TestLoadImage: error",!1,g,A),A.onabort=E(Rn,v,"TestLoadImage: abort",!1,g,A),A.ontimeout=E(Rn,v,"TestLoadImage: timeout",!1,g,A),f.setTimeout(function(){A.ontimeout&&A.ontimeout()},1e4),A.src=c}else g(!1)}function el(c,g){const v=new Hn,A=new AbortController,z=setTimeout(()=>{A.abort(),Rn(v,"TestPingServer: timeout",!1,g)},1e4);fetch(c,{signal:A.signal}).then(G=>{clearTimeout(z),G.ok?Rn(v,"TestPingServer: ok",!0,g):Rn(v,"TestPingServer: server error",!1,g)}).catch(()=>{clearTimeout(z),Rn(v,"TestPingServer: error",!1,g)})}function Rn(c,g,v,A,z){try{z&&(z.onload=null,z.onerror=null,z.onabort=null,z.ontimeout=null),A(v)}catch{}}function wr(){this.g=new ku}function _i(c){this.i=c.Sb||null,this.h=c.ab||!1}S(_i,Lu),_i.prototype.g=function(){return new Ds(this.i,this.h)};function Ds(c,g){Et.call(this),this.H=c,this.o=g,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}S(Ds,Et),r=Ds.prototype,r.open=function(c,g){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=c,this.D=g,this.readyState=1,Qn(this)},r.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const g={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};c&&(g.body=c),(this.H||f).fetch(new Request(this.D,g)).then(this.Pa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Rr(this)),this.readyState=0},r.Pa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,Qn(this)),this.g&&(this.readyState=3,Qn(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof f.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Da(this)}else c.text().then(this.Oa.bind(this),this.ga.bind(this))};function Da(c){c.j.read().then(c.Ma.bind(c)).catch(c.ga.bind(c))}r.Ma=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var g=c.value?c.value:new Uint8Array(0);(g=this.B.decode(g,{stream:!c.done}))&&(this.response=this.responseText+=g)}c.done?Rr(this):Qn(this),this.readyState==3&&Da(this)}},r.Oa=function(c){this.g&&(this.response=this.responseText=c,Rr(this))},r.Na=function(c){this.g&&(this.response=c,Rr(this))},r.ga=function(){this.g&&Rr(this)};function Rr(c){c.readyState=4,c.l=null,c.j=null,c.B=null,Qn(c)}r.setRequestHeader=function(c,g){this.A.append(c,g)},r.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],g=this.h.entries();for(var v=g.next();!v.done;)v=v.value,c.push(v[0]+": "+v[1]),v=g.next();return c.join(`\r
`)};function Qn(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Ds.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function Cn(c){let g="";return xe(c,function(v,A){g+=A,g+=":",g+=v,g+=`\r
`}),g}function Os(c,g,v){e:{for(A in v){var A=!1;break e}A=!0}A||(v=Cn(v),typeof c=="string"?v!=null&&zi(v):Ze(c,g,v))}function tt(c){Et.call(this),this.headers=new Map,this.L=c||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}S(tt,Et);var vi=/^https?$/i,tl=["POST","PUT"];r=tt.prototype,r.Fa=function(c){this.H=c},r.ea=function(c,g,v,A){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);g=g?g.toUpperCase():"GET",this.D=c,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Fo.g(),this.g.onreadystatechange=R(y(this.Ca,this));try{this.B=!0,this.g.open(g,String(c),!0),this.B=!1}catch(G){Ms(this,G);return}if(c=v||"",v=new Map(this.headers),A)if(Object.getPrototypeOf(A)===Object.prototype)for(var z in A)v.set(z,A[z]);else if(typeof A.keys=="function"&&typeof A.get=="function")for(const G of A.keys())v.set(G,A.get(G));else throw Error("Unknown input type for opt_headers: "+String(A));A=Array.from(v.keys()).find(G=>G.toLowerCase()=="content-type"),z=f.FormData&&c instanceof f.FormData,!(Array.prototype.indexOf.call(tl,g,void 0)>=0)||A||z||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[G,oe]of v)this.g.setRequestHeader(G,oe);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(c),this.v=!1}catch(G){Ms(this,G)}};function Ms(c,g){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=g,c.o=5,nl(c),Bi(c)}function nl(c){c.A||(c.A=!0,Mt(c,"complete"),Mt(c,"error"))}r.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=c||7,Mt(this,"complete"),Mt(this,"abort"),Bi(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Bi(this,!0)),tt.Z.N.call(this)},r.Ca=function(){this.u||(this.B||this.v||this.j?Vs(this):this.Xa())},r.Xa=function(){Vs(this)};function Vs(c){if(c.h&&typeof u<"u"){if(c.v&&Yn(c)==4)setTimeout(c.Ca.bind(c),0);else if(Mt(c,"readystatechange"),Yn(c)==4){c.h=!1;try{const G=c.ca();e:switch(G){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var g=!0;break e;default:g=!1}var v;if(!(v=g)){var A;if(A=G===0){let oe=String(c.D).match(Fu)[1]||null;!oe&&f.self&&f.self.location&&(oe=f.self.location.protocol.slice(0,-1)),A=!vi.test(oe?oe.toLowerCase():"")}v=A}if(v)Mt(c,"complete"),Mt(c,"success");else{c.o=6;try{var z=Yn(c)>2?c.g.statusText:""}catch{z=""}c.l=z+" ["+c.ca()+"]",nl(c)}}finally{Bi(c)}}}}function Bi(c,g){if(c.g){c.m&&(clearTimeout(c.m),c.m=null);const v=c.g;c.g=null,g||Mt(c,"ready");try{v.onreadystatechange=null}catch{}}}r.isActive=function(){return!!this.g};function Yn(c){return c.g?c.g.readyState:0}r.ca=function(){try{return Yn(this)>2?this.g.status:-1}catch{return-1}},r.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.La=function(c){if(this.g){var g=this.g.responseText;return c&&g.indexOf(c)==0&&(g=g.substring(c.length)),Rf(g)}};function Bt(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.F){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function qi(c){const g={};c=(c.g&&Yn(c)>=2&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let A=0;A<c.length;A++){if(C(c[A]))continue;var v=Bu(c[A]);const z=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const G=g[z]||[];g[z]=G,G.push(v)}Oe(g,function(A){return A.join(", ")})}r.ya=function(){return this.o},r.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ei(c,g,v){return v&&v.internalChannelParams&&v.internalChannelParams[c]||g}function Cr(c){this.za=0,this.i=[],this.j=new Hn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Ei("failFast",!1,c),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Ei("baseRetryDelayMs",5e3,c),this.Za=Ei("retryDelaySeedMs",1e4,c),this.Ta=Ei("forwardChannelMaxRetries",2,c),this.va=Ei("forwardChannelRequestTimeoutMs",2e4,c),this.ma=c&&c.xmlHttpFactory||void 0,this.Ua=c&&c.Rb||void 0,this.Aa=c&&c.useFetchStreams||!1,this.O=void 0,this.L=c&&c.supportsCrossDomainXhr||!1,this.M="",this.h=new Go(c&&c.concurrentRequestLimit),this.Ba=new wr,this.S=c&&c.fastHandshake||!1,this.R=c&&c.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=c&&c.Pb||!1,c&&c.ua&&this.j.ua(),c&&c.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&c&&c.detectBufferingProxy||!1,this.ia=void 0,c&&c.longPollingTimeout&&c.longPollingTimeout>0&&(this.ia=c.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}r=Cr.prototype,r.ka=8,r.I=1,r.connect=function(c,g,v,A){Tt(0),this.W=c,this.H=g||{},v&&A!==void 0&&(this.H.OSID=v,this.H.OAID=A),this.F=this.X,this.J=tc(this,null,this.W),Ti(this)};function il(c){if(Oa(c),c.I==3){var g=c.V++,v=At(c.J);if(Ze(v,"SID",c.M),Ze(v,"RID",g),Ze(v,"TYPE","terminate"),ks(c,v),g=new Fn(c,c.j,g),g.M=2,g.A=Is(At(v)),v=!1,f.navigator&&f.navigator.sendBeacon)try{v=f.navigator.sendBeacon(g.A.toString(),"")}catch{}!v&&f.Image&&(new Image().src=g.A,v=!0),v||(g.g=nc(g.j,null),g.g.ea(g.A)),g.F=Date.now(),fi(g)}ec(c)}function xr(c){c.g&&(sl(c),c.g.cancel(),c.g=null)}function Oa(c){xr(c),c.v&&(f.clearTimeout(c.v),c.v=null),Va(c),c.h.cancel(),c.m&&(typeof c.m=="number"&&f.clearTimeout(c.m),c.m=null)}function Ti(c){if(!$o(c.h)&&!c.m){c.m=!0;var g=c.Ea;ce||w(),pe||(ce(),pe=!0),x.add(g,c),c.D=0}}function Ma(c,g){return pi(c.h)>=c.h.j-(c.m?1:0)?!1:c.m?(c.i=g.G.concat(c.i),!0):c.I==1||c.I==2||c.D>=(c.Sa?0:c.Ta)?!1:(c.m=ui(y(c.Ea,c,g),Wu(c,c.D)),c.D++,!0)}r.Ea=function(c){if(this.m)if(this.m=null,this.I==1){if(!c){this.V=Math.floor(Math.random()*1e5),c=this.V++;const z=new Fn(this,this.j,c);let G=this.o;if(this.U&&(G?(G=V(G),j(G,this.U)):G=this.U),this.u!==null||this.R||(z.J=G,G=null),this.S)e:{for(var g=0,v=0;v<this.i.length;v++){t:{var A=this.i[v];if("__data__"in A.map&&(A=A.map.__data__,typeof A=="string")){A=A.length;break t}A=void 0}if(A===void 0)break;if(g+=A,g>4096){g=v;break e}if(g===4096||v===this.i.length-1){g=v+1;break e}}g=1e3}else g=1e3;g=Ku(this,z,g),v=At(this.J),Ze(v,"RID",c),Ze(v,"CVER",22),this.G&&Ze(v,"X-HTTP-Session-Id",this.G),ks(this,v),G&&(this.R?g="headers="+zi(Cn(G))+"&"+g:this.u&&Os(v,this.u,G)),Qo(this.h,z),this.Ra&&Ze(v,"TYPE","init"),this.S?(Ze(v,"$req",g),Ze(v,"SID","null"),z.U=!0,hi(z,v,null)):hi(z,v,g),this.I=2}}else this.I==3&&(c?rl(this,c):this.i.length==0||$o(this.h)||rl(this))};function rl(c,g){var v;g?v=g.l:v=c.V++;const A=At(c.J);Ze(A,"SID",c.M),Ze(A,"RID",v),Ze(A,"AID",c.K),ks(c,A),c.u&&c.o&&Os(A,c.u,c.o),v=new Fn(c,c.j,v,c.D+1),c.u===null&&(v.J=c.o),g&&(c.i=g.G.concat(c.i)),g=Ku(c,v,1e3),v.H=Math.round(c.va*.5)+Math.round(c.va*.5*Math.random()),Qo(c.h,v),hi(v,A,g)}function ks(c,g){c.H&&xe(c.H,function(v,A){Ze(g,A,v)}),c.l&&xe({},function(v,A){Ze(g,A,v)})}function Ku(c,g,v){v=Math.min(c.i.length,v);const A=c.l?y(c.l.Ka,c.l,c):null;e:{var z=c.i;let Ie=-1;for(;;){const gt=["count="+v];Ie==-1?v>0?(Ie=z[0].g,gt.push("ofs="+Ie)):Ie=0:gt.push("ofs="+Ie);let Qe=!0;for(let ct=0;ct<v;ct++){var G=z[ct].g;const xn=z[ct].map;if(G-=Ie,G<0)Ie=Math.max(0,z[ct].g-100),Qe=!1;else try{G="req"+G+"_"||"";try{var oe=xn instanceof Map?xn:Object.entries(xn);for(const[Si,Kn]of oe){let Xn=Kn;m(Kn)&&(Xn=Er(Kn)),gt.push(G+Si+"="+encodeURIComponent(Xn))}}catch(Si){throw gt.push(G+"type="+encodeURIComponent("_badmap")),Si}}catch{A&&A(xn)}}if(Qe){oe=gt.join("&");break e}}oe=void 0}return c=c.i.splice(0,v),g.G=c,oe}function Xu(c){if(!c.g&&!c.v){c.Y=1;var g=c.Da;ce||w(),pe||(ce(),pe=!0),x.add(g,c),c.A=0}}function Ls(c){return c.g||c.v||c.A>=3?!1:(c.Y++,c.v=ui(y(c.Da,c),Wu(c,c.A)),c.A++,!0)}r.Da=function(){if(this.v=null,Zu(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var c=4*this.T;this.j.info("BP detection timer enabled: "+c),this.B=ui(y(this.Wa,this),c)}},r.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Tt(10),xr(this),Zu(this))};function sl(c){c.B!=null&&(f.clearTimeout(c.B),c.B=null)}function Zu(c){c.g=new Fn(c,c.j,"rpc",c.Y),c.u===null&&(c.g.J=c.o),c.g.P=0;var g=At(c.na);Ze(g,"RID","rpc"),Ze(g,"SID",c.M),Ze(g,"AID",c.K),Ze(g,"CI",c.F?"0":"1"),!c.F&&c.ia&&Ze(g,"TO",c.ia),Ze(g,"TYPE","xmlhttp"),ks(c,g),c.u&&c.o&&Os(g,c.u,c.o),c.O&&(c.g.H=c.O);var v=c.g;c=c.ba,v.M=1,v.A=Is(At(g)),v.u=null,v.R=!0,wa(v,c)}r.Va=function(){this.C!=null&&(this.C=null,xr(this),Ls(this),Tt(19))};function Va(c){c.C!=null&&(f.clearTimeout(c.C),c.C=null)}function Ju(c,g){var v=null;if(c.g==g){Va(c),sl(c),c.g=null;var A=2}else if(gi(c.h,g))v=g.G,Yo(c.h,g),A=1;else return;if(c.I!=0){if(g.o)if(A==1){v=g.u?g.u.length:0,g=Date.now()-g.F;var z=c.D;A=Aa(),Mt(A,new li(A,v)),Ti(c)}else Xu(c);else if(z=g.m,z==3||z==0&&g.X>0||!(A==1&&Ma(c,g)||A==2&&Ls(c)))switch(v&&v.length>0&&(g=c.h,g.i=g.i.concat(v)),z){case 1:bi(c,5);break;case 4:bi(c,10);break;case 3:bi(c,6);break;default:bi(c,2)}}}function Wu(c,g){let v=c.Qa+Math.floor(Math.random()*c.Za);return c.isActive()||(v*=2),v*g}function bi(c,g){if(c.j.info("Error code "+g),g==2){var v=y(c.bb,c),A=c.Ua;const z=!A;A=new gn(A||"//www.google.com/images/cleardot.gif"),f.location&&f.location.protocol=="http"||Pt(A,"https"),Is(A),z?$n(A.toString(),v):el(A.toString(),v)}else Tt(2);c.I=0,c.l&&c.l.pa(g),ec(c),Oa(c)}r.bb=function(c){c?(this.j.info("Successfully pinged google.com"),Tt(2)):(this.j.info("Failed to ping google.com"),Tt(1))};function ec(c){if(c.I=0,c.ja=[],c.l){const g=Ko(c.h);(g.length!=0||c.i.length!=0)&&(B(c.ja,g),B(c.ja,c.i),c.h.i.length=0,O(c.i),c.i.length=0),c.l.oa()}}function tc(c,g,v){var A=v instanceof gn?At(v):new gn(v);if(A.g!="")g&&(A.g=g+"."+A.g),Tr(A,A.u);else{var z=f.location;A=z.protocol,g=g?g+"."+z.hostname:z.hostname,z=+z.port;const G=new gn(null);A&&Pt(G,A),g&&(G.g=g),z&&Tr(G,z),v&&(G.h=v),A=G}return v=c.G,g=c.wa,v&&g&&Ze(A,v,g),Ze(A,"VER",c.ka),ks(c,A),A}function nc(c,g,v){if(g&&!c.L)throw Error("Can't create secondary domain capable XhrIo object.");return g=c.Aa&&!c.ma?new tt(new _i({ab:v})):new tt(c.ma),g.Fa(c.L),g}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function ic(){}r=ic.prototype,r.ra=function(){},r.qa=function(){},r.pa=function(){},r.oa=function(){},r.isActive=function(){return!0},r.Ka=function(){};function Ir(){}Ir.prototype.g=function(c,g){return new tn(c,g)};function tn(c,g){Et.call(this),this.g=new Cr(g),this.l=c,this.h=g&&g.messageUrlParams||null,c=g&&g.messageHeaders||null,g&&g.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=g&&g.initMessageHeaders||null,g&&g.messageContentType&&(c?c["X-WebChannel-Content-Type"]=g.messageContentType:c={"X-WebChannel-Content-Type":g.messageContentType}),g&&g.sa&&(c?c["X-WebChannel-Client-Profile"]=g.sa:c={"X-WebChannel-Client-Profile":g.sa}),this.g.U=c,(c=g&&g.Qb)&&!C(c)&&(this.g.u=c),this.A=g&&g.supportsCrossDomainXhr||!1,this.v=g&&g.sendRawJson||!1,(g=g&&g.httpSessionIdParam)&&!C(g)&&(this.g.G=g,c=this.h,c!==null&&g in c&&(c=this.h,g in c&&delete c[g])),this.j=new Hi(this)}S(tn,Et),tn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},tn.prototype.close=function(){il(this.g)},tn.prototype.o=function(c){var g=this.g;if(typeof c=="string"){var v={};v.__data__=c,c=v}else this.v&&(v={},v.__data__=Er(c),c=v);g.i.push(new St(g.Ya++,c)),g.I==3&&Ti(g)},tn.prototype.N=function(){this.g.l=null,delete this.j,il(this.g),delete this.g,tn.Z.N.call(this)};function rc(c){zt.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var g=c.__sm__;if(g){e:{for(const v in g){c=v;break e}c=void 0}(this.i=c)&&(c=this.i,g=g!==null&&c in g?g[c]:void 0),this.data=g}else this.data=c}S(rc,zt);function sc(){An.call(this),this.status=1}S(sc,An);function Hi(c){this.g=c}S(Hi,ic),Hi.prototype.ra=function(){Mt(this.g,"a")},Hi.prototype.qa=function(c){Mt(this.g,new rc(c))},Hi.prototype.pa=function(c){Mt(this.g,new sc)},Hi.prototype.oa=function(){Mt(this.g,"b")},Ir.prototype.createWebChannel=Ir.prototype.g,tn.prototype.send=tn.prototype.o,tn.prototype.open=tn.prototype.m,tn.prototype.close=tn.prototype.close,YT=function(){return new Ir},QT=function(){return Aa()},$T=pt,tp={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Cs.NO_ERROR=0,Cs.TIMEOUT=8,Cs.HTTP_ERROR=6,Th=Cs,Ho.COMPLETE="complete",GT=Ho,Pu.EventType=qn,qn.OPEN="a",qn.CLOSE="b",qn.ERROR="c",qn.MESSAGE="d",Et.prototype.listen=Et.prototype.J,Fl=Pu,tt.prototype.listenOnce=tt.prototype.K,tt.prototype.getLastError=tt.prototype.Ha,tt.prototype.getLastErrorCode=tt.prototype.ya,tt.prototype.getStatus=tt.prototype.ca,tt.prototype.getResponseJson=tt.prototype.La,tt.prototype.getResponseText=tt.prototype.la,tt.prototype.send=tt.prototype.ea,tt.prototype.setWithCredentials=tt.prototype.Fa,FT=tt}).apply(typeof ch<"u"?ch:typeof self<"u"?self:typeof window<"u"?window:{});const L0="@firebase/firestore",P0="4.9.2";class Zt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Zt.UNAUTHENTICATED=new Zt(null),Zt.GOOGLE_CREDENTIALS=new Zt("google-credentials-uid"),Zt.FIRST_PARTY=new Zt("first-party-uid"),Zt.MOCK_USER=new Zt("mock-user");let Mo="12.3.0";const ps=new xp("@firebase/firestore");function ho(){return ps.logLevel}function KT(r){ps.setLogLevel(r)}function le(r,...e){if(ps.logLevel<=Pe.DEBUG){const n=e.map(jp);ps.debug(`Firestore (${Mo}): ${r}`,...n)}}function mr(r,...e){if(ps.logLevel<=Pe.ERROR){const n=e.map(jp);ps.error(`Firestore (${Mo}): ${r}`,...n)}}function So(r,...e){if(ps.logLevel<=Pe.WARN){const n=e.map(jp);ps.warn(`Firestore (${Mo}): ${r}`,...n)}}function jp(r){if(typeof r=="string")return r;try{return(function(n){return JSON.stringify(n)})(r)}catch{return r}}function be(r,e,n){let s="Unexpected state";typeof e=="string"?s=e:n=e,XT(r,s,n)}function XT(r,e,n){let s=`FIRESTORE (${Mo}) INTERNAL ASSERTION FAILED: ${e} (ID: ${r.toString(16)})`;if(n!==void 0)try{s+=" CONTEXT: "+JSON.stringify(n)}catch{s+=" CONTEXT: "+n}throw mr(s),new Error(s)}function Xe(r,e,n,s){let o="Unexpected state";typeof n=="string"?o=n:s=n,r||XT(e,o,s)}function Ce(r,e){return r}const ee={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ue extends yr{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class fs{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}class ZT{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class MC{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(Zt.UNAUTHENTICATED)))}shutdown(){}}class VC{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class kC{constructor(e){this.t=e,this.currentUser=Zt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Xe(this.o===void 0,42304);let s=this.i;const o=p=>this.i!==s?(s=this.i,n(p)):Promise.resolve();let u=new fs;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new fs,e.enqueueRetryable((()=>o(this.currentUser)))};const f=()=>{const p=u;e.enqueueRetryable((async()=>{await p.promise,await o(this.currentUser)}))},m=p=>{le("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),f())};this.t.onInit((p=>m(p))),setTimeout((()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?m(p):(le("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new fs)}}),0),f()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((s=>this.i!==e?(le("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Xe(typeof s.accessToken=="string",31837,{l:s}),new ZT(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Xe(e===null||typeof e=="string",2055,{h:e}),new Zt(e)}}class LC{constructor(e,n,s){this.P=e,this.T=n,this.I=s,this.type="FirstParty",this.user=Zt.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class PC{constructor(e,n,s){this.P=e,this.T=n,this.I=s}getToken(){return Promise.resolve(new LC(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(Zt.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class U0{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class UC{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Un(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Xe(this.o===void 0,3512);const s=u=>{u.error!=null&&le("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const f=u.token!==this.m;return this.m=u.token,le("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?n(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable((()=>s(u)))};const o=u=>{le("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((u=>o(u))),setTimeout((()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?o(u):le("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new U0(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(Xe(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new U0(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function jC(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let s=0;s<r;s++)n[s]=Math.floor(256*Math.random());return n}class zp{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=jC(40);for(let u=0;u<o.length;++u)s.length<20&&o[u]<n&&(s+=e.charAt(o[u]%62))}return s}}function Ue(r,e){return r<e?-1:r>e?1:0}function np(r,e){const n=Math.min(r.length,e.length);for(let s=0;s<n;s++){const o=r.charAt(s),u=e.charAt(s);if(o!==u)return Lm(o)===Lm(u)?Ue(o,u):Lm(o)?1:-1}return Ue(r.length,e.length)}const zC=55296,BC=57343;function Lm(r){const e=r.charCodeAt(0);return e>=zC&&e<=BC}function Ao(r,e,n){return r.length===e.length&&r.every(((s,o)=>n(s,e[o])))}const j0="__name__";class Ii{constructor(e,n,s){n===void 0?n=0:n>e.length&&be(637,{offset:n,range:e.length}),s===void 0?s=e.length-n:s>e.length-n&&be(1746,{length:s,range:e.length-n}),this.segments=e,this.offset=n,this.len=s}get length(){return this.len}isEqual(e){return Ii.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Ii?e.forEach((s=>{n.push(s)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,s=this.limit();n<s;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const s=Math.min(e.length,n.length);for(let o=0;o<s;o++){const u=Ii.compareSegments(e.get(o),n.get(o));if(u!==0)return u}return Ue(e.length,n.length)}static compareSegments(e,n){const s=Ii.isNumericId(e),o=Ii.isNumericId(n);return s&&!o?-1:!s&&o?1:s&&o?Ii.extractNumericId(e).compare(Ii.extractNumericId(n)):np(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return hs.fromString(e.substring(4,e.length-2))}}class ot extends Ii{construct(e,n,s){return new ot(e,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const s of e){if(s.indexOf("//")>=0)throw new ue(ee.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter((o=>o.length>0)))}return new ot(n)}static emptyPath(){return new ot([])}}const qC=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Qt extends Ii{construct(e,n,s){return new Qt(e,n,s)}static isValidIdentifier(e){return qC.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Qt.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===j0}static keyField(){return new Qt([j0])}static fromServerFormat(e){const n=[];let s="",o=0;const u=()=>{if(s.length===0)throw new ue(ee.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let f=!1;for(;o<e.length;){const m=e[o];if(m==="\\"){if(o+1===e.length)throw new ue(ee.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new ue(ee.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=p,o+=2}else m==="`"?(f=!f,o++):m!=="."||f?(s+=m,o++):(u(),o++)}if(u(),f)throw new ue(ee.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Qt(n)}static emptyPath(){return new Qt([])}}class ve{constructor(e){this.path=e}static fromPath(e){return new ve(ot.fromString(e))}static fromName(e){return new ve(ot.fromString(e).popFirst(5))}static empty(){return new ve(ot.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ot.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return ot.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ve(new ot(e.slice()))}}function JT(r,e,n){if(!n)throw new ue(ee.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function HC(r,e,n,s){if(e===!0&&s===!0)throw new ue(ee.INVALID_ARGUMENT,`${r} and ${n} cannot be used together.`)}function z0(r){if(!ve.isDocumentKey(r))throw new ue(ee.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function B0(r){if(ve.isDocumentKey(r))throw new ue(ee.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function WT(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function tf(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const e=(function(s){return s.constructor?s.constructor.name:null})(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":be(12329,{type:typeof r})}function Oi(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new ue(ee.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=tf(r);throw new ue(ee.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return r}function Dt(r,e){const n={typeString:r};return e&&(n.value=e),n}function wu(r,e){if(!WT(r))throw new ue(ee.INVALID_ARGUMENT,"JSON must be an object");let n;for(const s in e)if(e[s]){const o=e[s].typeString,u="value"in e[s]?{value:e[s].value}:void 0;if(!(s in r)){n=`JSON missing required field: '${s}'`;break}const f=r[s];if(o&&typeof f!==o){n=`JSON field '${s}' must be a ${o}.`;break}if(u!==void 0&&f!==u.value){n=`Expected '${s}' field to equal '${u.value}'`;break}}if(n)throw new ue(ee.INVALID_ARGUMENT,n);return!0}const q0=-62135596800,H0=1e6;class et{static now(){return et.fromMillis(Date.now())}static fromDate(e){return et.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),s=Math.floor((e-1e3*n)*H0);return new et(n,s)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new ue(ee.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ue(ee.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<q0)throw new ue(ee.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ue(ee.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/H0}_compareTo(e){return this.seconds===e.seconds?Ue(this.nanoseconds,e.nanoseconds):Ue(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:et._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(wu(e,et._jsonSchema))return new et(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-q0;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}et._jsonSchemaVersion="firestore/timestamp/1.0",et._jsonSchema={type:Dt("string",et._jsonSchemaVersion),seconds:Dt("number"),nanoseconds:Dt("number")};class we{static fromTimestamp(e){return new we(e)}static min(){return new we(new et(0,0))}static max(){return new we(new et(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const cu=-1;function FC(r,e){const n=r.toTimestamp().seconds,s=r.toTimestamp().nanoseconds+1,o=we.fromTimestamp(s===1e9?new et(n+1,0):new et(n,s));return new gs(o,ve.empty(),e)}function GC(r){return new gs(r.readTime,r.key,cu)}class gs{constructor(e,n,s){this.readTime=e,this.documentKey=n,this.largestBatchId=s}static min(){return new gs(we.min(),ve.empty(),cu)}static max(){return new gs(we.max(),ve.empty(),cu)}}function $C(r,e){let n=r.readTime.compareTo(e.readTime);return n!==0?n:(n=ve.comparator(r.documentKey,e.documentKey),n!==0?n:Ue(r.largestBatchId,e.largestBatchId))}const QC="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class YC{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function Vo(r){if(r.code!==ee.FAILED_PRECONDITION||r.message!==QC)throw r;le("LocalStore","Unexpectedly lost primary lease")}class te{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&be(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new te(((s,o)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(s,o)},this.catchCallback=u=>{this.wrapFailure(n,u).next(s,o)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof te?n:te.resolve(n)}catch(n){return te.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):te.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):te.reject(n)}static resolve(e){return new te(((n,s)=>{n(e)}))}static reject(e){return new te(((n,s)=>{s(e)}))}static waitFor(e){return new te(((n,s)=>{let o=0,u=0,f=!1;e.forEach((m=>{++o,m.next((()=>{++u,f&&u===o&&n()}),(p=>s(p)))})),f=!0,u===o&&n()}))}static or(e){let n=te.resolve(!1);for(const s of e)n=n.next((o=>o?te.resolve(o):s()));return n}static forEach(e,n){const s=[];return e.forEach(((o,u)=>{s.push(n.call(this,o,u))})),this.waitFor(s)}static mapArray(e,n){return new te(((s,o)=>{const u=e.length,f=new Array(u);let m=0;for(let p=0;p<u;p++){const y=p;n(e[y]).next((E=>{f[y]=E,++m,m===u&&s(f)}),(E=>o(E)))}}))}static doWhile(e,n){return new te(((s,o)=>{const u=()=>{e()===!0?n().next((()=>{u()}),o):s()};u()}))}}function KC(r){const e=r.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function ko(r){return r.name==="IndexedDbTransactionError"}class nf{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>n.writeSequenceNumber(s))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}nf.ce=-1;const Bp=-1;function rf(r){return r==null}function Lh(r){return r===0&&1/r==-1/0}function XC(r){return typeof r=="number"&&Number.isInteger(r)&&!Lh(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}const eb="";function ZC(r){let e="";for(let n=0;n<r.length;n++)e.length>0&&(e=F0(e)),e=JC(r.get(n),e);return F0(e)}function JC(r,e){let n=e;const s=r.length;for(let o=0;o<s;o++){const u=r.charAt(o);switch(u){case"\0":n+="";break;case eb:n+="";break;default:n+=u}}return n}function F0(r){return r+eb+""}function G0(r){let e=0;for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&e++;return e}function pa(r,e){for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&e(n,r[n])}function tb(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}class ft{constructor(e,n){this.comparator=e,this.root=n||$t.EMPTY}insert(e,n){return new ft(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,$t.BLACK,null,null))}remove(e){return new ft(this.comparator,this.root.remove(e,this.comparator).copy(null,null,$t.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(e,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(e){let n=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(e,s.key);if(o===0)return n+s.left.size;o<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,s)=>(e(n,s),!1)))}toString(){const e=[];return this.inorderTraversal(((n,s)=>(e.push(`${n}:${s}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new hh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new hh(this.root,e,this.comparator,!1)}getReverseIterator(){return new hh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new hh(this.root,e,this.comparator,!0)}}class hh{constructor(e,n,s,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=n?s(e.key,n):1,n&&o&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class $t{constructor(e,n,s,o,u){this.key=e,this.value=n,this.color=s??$t.RED,this.left=o??$t.EMPTY,this.right=u??$t.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,s,o,u){return new $t(e??this.key,n??this.value,s??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let o=this;const u=s(e,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(e,n,s),null):u===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(e,n,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return $t.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let s,o=this;if(n(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(e,o.key)===0){if(o.right.isEmpty())return $t.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,$t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,$t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw be(43730,{key:this.key,value:this.value});if(this.right.isRed())throw be(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw be(27949);return e+(this.isRed()?0:1)}}$t.EMPTY=null,$t.RED=!0,$t.BLACK=!1;$t.EMPTY=new class{constructor(){this.size=0}get key(){throw be(57766)}get value(){throw be(16141)}get color(){throw be(16727)}get left(){throw be(29726)}get right(){throw be(36894)}copy(e,n,s,o,u){return this}insert(e,n,s){return new $t(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class kt{constructor(e){this.comparator=e,this.data=new ft(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,s)=>(e(n),!1)))}forEachInRange(e,n){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,e[1])>=0)return;n(o.key)}}forEachWhile(e,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new $0(this.data.getIterator())}getIteratorFrom(e){return new $0(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((s=>{n=n.add(s)})),n}isEqual(e){if(!(e instanceof kt)||this.size!==e.size)return!1;const n=this.data.getIterator(),s=e.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new kt(this.comparator);return n.data=e,n}}class $0{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class ni{constructor(e){this.fields=e,e.sort(Qt.comparator)}static empty(){return new ni([])}unionWith(e){let n=new kt(Qt.comparator);for(const s of this.fields)n=n.add(s);for(const s of e)n=n.add(s);return new ni(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Ao(this.fields,e.fields,((n,s)=>n.isEqual(s)))}}class nb extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Yt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new nb("Invalid base64 string: "+u):u}})(e);return new Yt(n)}static fromUint8Array(e){const n=(function(o){let u="";for(let f=0;f<o.length;++f)u+=String.fromCharCode(o[f]);return u})(e);return new Yt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const s=new Uint8Array(n.length);for(let o=0;o<n.length;o++)s[o]=n.charCodeAt(o);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ue(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Yt.EMPTY_BYTE_STRING=new Yt("");const WC=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ys(r){if(Xe(!!r,39018),typeof r=="string"){let e=0;const n=WC.exec(r);if(Xe(!!n,46558,{timestamp:r}),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),e=Number(o)}const s=new Date(r);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:vt(r.seconds),nanos:vt(r.nanos)}}function vt(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function _s(r){return typeof r=="string"?Yt.fromBase64String(r):Yt.fromUint8Array(r)}const ib="server_timestamp",rb="__type__",sb="__previous_value__",ab="__local_write_time__";function qp(r){return(r?.mapValue?.fields||{})[rb]?.stringValue===ib}function sf(r){const e=r.mapValue.fields[sb];return qp(e)?sf(e):e}function hu(r){const e=ys(r.mapValue.fields[ab].timestampValue);return new et(e.seconds,e.nanos)}class ex{constructor(e,n,s,o,u,f,m,p,y,E){this.databaseId=e,this.appId=n,this.persistenceKey=s,this.host=o,this.ssl=u,this.forceLongPolling=f,this.autoDetectLongPolling=m,this.longPollingOptions=p,this.useFetchStreams=y,this.isUsingEmulator=E}}const Ph="(default)";class fu{constructor(e,n){this.projectId=e,this.database=n||Ph}static empty(){return new fu("","")}get isDefaultDatabase(){return this.database===Ph}isEqual(e){return e instanceof fu&&e.projectId===this.projectId&&e.database===this.database}}const ob="__type__",tx="__max__",fh={mapValue:{}},lb="__vector__",Uh="value";function vs(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?qp(r)?4:ix(r)?9007199254740991:nx(r)?10:11:be(28295,{value:r})}function Ui(r,e){if(r===e)return!0;const n=vs(r);if(n!==vs(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return hu(r).isEqual(hu(e));case 3:return(function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const f=ys(o.timestampValue),m=ys(u.timestampValue);return f.seconds===m.seconds&&f.nanos===m.nanos})(r,e);case 5:return r.stringValue===e.stringValue;case 6:return(function(o,u){return _s(o.bytesValue).isEqual(_s(u.bytesValue))})(r,e);case 7:return r.referenceValue===e.referenceValue;case 8:return(function(o,u){return vt(o.geoPointValue.latitude)===vt(u.geoPointValue.latitude)&&vt(o.geoPointValue.longitude)===vt(u.geoPointValue.longitude)})(r,e);case 2:return(function(o,u){if("integerValue"in o&&"integerValue"in u)return vt(o.integerValue)===vt(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const f=vt(o.doubleValue),m=vt(u.doubleValue);return f===m?Lh(f)===Lh(m):isNaN(f)&&isNaN(m)}return!1})(r,e);case 9:return Ao(r.arrayValue.values||[],e.arrayValue.values||[],Ui);case 10:case 11:return(function(o,u){const f=o.mapValue.fields||{},m=u.mapValue.fields||{};if(G0(f)!==G0(m))return!1;for(const p in f)if(f.hasOwnProperty(p)&&(m[p]===void 0||!Ui(f[p],m[p])))return!1;return!0})(r,e);default:return be(52216,{left:r})}}function du(r,e){return(r.values||[]).find((n=>Ui(n,e)))!==void 0}function wo(r,e){if(r===e)return 0;const n=vs(r),s=vs(e);if(n!==s)return Ue(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ue(r.booleanValue,e.booleanValue);case 2:return(function(u,f){const m=vt(u.integerValue||u.doubleValue),p=vt(f.integerValue||f.doubleValue);return m<p?-1:m>p?1:m===p?0:isNaN(m)?isNaN(p)?0:-1:1})(r,e);case 3:return Q0(r.timestampValue,e.timestampValue);case 4:return Q0(hu(r),hu(e));case 5:return np(r.stringValue,e.stringValue);case 6:return(function(u,f){const m=_s(u),p=_s(f);return m.compareTo(p)})(r.bytesValue,e.bytesValue);case 7:return(function(u,f){const m=u.split("/"),p=f.split("/");for(let y=0;y<m.length&&y<p.length;y++){const E=Ue(m[y],p[y]);if(E!==0)return E}return Ue(m.length,p.length)})(r.referenceValue,e.referenceValue);case 8:return(function(u,f){const m=Ue(vt(u.latitude),vt(f.latitude));return m!==0?m:Ue(vt(u.longitude),vt(f.longitude))})(r.geoPointValue,e.geoPointValue);case 9:return Y0(r.arrayValue,e.arrayValue);case 10:return(function(u,f){const m=u.fields||{},p=f.fields||{},y=m[Uh]?.arrayValue,E=p[Uh]?.arrayValue,S=Ue(y?.values?.length||0,E?.values?.length||0);return S!==0?S:Y0(y,E)})(r.mapValue,e.mapValue);case 11:return(function(u,f){if(u===fh.mapValue&&f===fh.mapValue)return 0;if(u===fh.mapValue)return 1;if(f===fh.mapValue)return-1;const m=u.fields||{},p=Object.keys(m),y=f.fields||{},E=Object.keys(y);p.sort(),E.sort();for(let S=0;S<p.length&&S<E.length;++S){const R=np(p[S],E[S]);if(R!==0)return R;const O=wo(m[p[S]],y[E[S]]);if(O!==0)return O}return Ue(p.length,E.length)})(r.mapValue,e.mapValue);default:throw be(23264,{he:n})}}function Q0(r,e){if(typeof r=="string"&&typeof e=="string"&&r.length===e.length)return Ue(r,e);const n=ys(r),s=ys(e),o=Ue(n.seconds,s.seconds);return o!==0?o:Ue(n.nanos,s.nanos)}function Y0(r,e){const n=r.values||[],s=e.values||[];for(let o=0;o<n.length&&o<s.length;++o){const u=wo(n[o],s[o]);if(u)return u}return Ue(n.length,s.length)}function Ro(r){return ip(r)}function ip(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?(function(n){const s=ys(n);return`time(${s.seconds},${s.nanos})`})(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?(function(n){return _s(n).toBase64()})(r.bytesValue):"referenceValue"in r?(function(n){return ve.fromName(n).toString()})(r.referenceValue):"geoPointValue"in r?(function(n){return`geo(${n.latitude},${n.longitude})`})(r.geoPointValue):"arrayValue"in r?(function(n){let s="[",o=!0;for(const u of n.values||[])o?o=!1:s+=",",s+=ip(u);return s+"]"})(r.arrayValue):"mapValue"in r?(function(n){const s=Object.keys(n.fields||{}).sort();let o="{",u=!0;for(const f of s)u?u=!1:o+=",",o+=`${f}:${ip(n.fields[f])}`;return o+"}"})(r.mapValue):be(61005,{value:r})}function bh(r){switch(vs(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=sf(r);return e?16+bh(e):16;case 5:return 2*r.stringValue.length;case 6:return _s(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return(function(s){return(s.values||[]).reduce(((o,u)=>o+bh(u)),0)})(r.arrayValue);case 10:case 11:return(function(s){let o=0;return pa(s.fields,((u,f)=>{o+=u.length+bh(f)})),o})(r.mapValue);default:throw be(13486,{value:r})}}function K0(r,e){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${e.path.canonicalString()}`}}function rp(r){return!!r&&"integerValue"in r}function Hp(r){return!!r&&"arrayValue"in r}function X0(r){return!!r&&"nullValue"in r}function Z0(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function Sh(r){return!!r&&"mapValue"in r}function nx(r){return(r?.mapValue?.fields||{})[ob]?.stringValue===lb}function Wl(r){if(r.geoPointValue)return{geoPointValue:{...r.geoPointValue}};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:{...r.timestampValue}};if(r.mapValue){const e={mapValue:{fields:{}}};return pa(r.mapValue.fields,((n,s)=>e.mapValue.fields[n]=Wl(s))),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(r.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Wl(r.arrayValue.values[n]);return e}return{...r}}function ix(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===tx}class jn{constructor(e){this.value=e}static empty(){return new jn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let s=0;s<e.length-1;++s)if(n=(n.mapValue.fields||{})[e.get(s)],!Sh(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Wl(n)}setAll(e){let n=Qt.emptyPath(),s={},o=[];e.forEach(((f,m)=>{if(!n.isImmediateParentOf(m)){const p=this.getFieldsMap(n);this.applyChanges(p,s,o),s={},o=[],n=m.popLast()}f?s[m.lastSegment()]=Wl(f):o.push(m.lastSegment())}));const u=this.getFieldsMap(n);this.applyChanges(u,s,o)}delete(e){const n=this.field(e.popLast());Sh(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Ui(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<e.length;++s){let o=n.mapValue.fields[e.get(s)];Sh(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[e.get(s)]=o),n=o}return n.mapValue.fields}applyChanges(e,n,s){pa(n,((o,u)=>e[o]=u));for(const o of s)delete e[o]}clone(){return new jn(Wl(this.value))}}function ub(r){const e=[];return pa(r.fields,((n,s)=>{const o=new Qt([n]);if(Sh(s)){const u=ub(s.mapValue).fields;if(u.length===0)e.push(o);else for(const f of u)e.push(o.child(f))}else e.push(o)})),new ni(e)}class Jt{constructor(e,n,s,o,u,f,m){this.key=e,this.documentType=n,this.version=s,this.readTime=o,this.createTime=u,this.data=f,this.documentState=m}static newInvalidDocument(e){return new Jt(e,0,we.min(),we.min(),we.min(),jn.empty(),0)}static newFoundDocument(e,n,s,o){return new Jt(e,1,n,we.min(),s,o,0)}static newNoDocument(e,n){return new Jt(e,2,n,we.min(),we.min(),jn.empty(),0)}static newUnknownDocument(e,n){return new Jt(e,3,n,we.min(),we.min(),jn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(we.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=jn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=jn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=we.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Jt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Jt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class jh{constructor(e,n){this.position=e,this.inclusive=n}}function J0(r,e,n){let s=0;for(let o=0;o<r.position.length;o++){const u=e[o],f=r.position[o];if(u.field.isKeyField()?s=ve.comparator(ve.fromName(f.referenceValue),n.key):s=wo(f,n.data.field(u.field)),u.dir==="desc"&&(s*=-1),s!==0)break}return s}function W0(r,e){if(r===null)return e===null;if(e===null||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let n=0;n<r.position.length;n++)if(!Ui(r.position[n],e.position[n]))return!1;return!0}class zh{constructor(e,n="asc"){this.field=e,this.dir=n}}function rx(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}class cb{}class Nt extends cb{constructor(e,n,s){super(),this.field=e,this.op=n,this.value=s}static create(e,n,s){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,s):new ax(e,n,s):n==="array-contains"?new ux(e,s):n==="in"?new cx(e,s):n==="not-in"?new hx(e,s):n==="array-contains-any"?new fx(e,s):new Nt(e,n,s)}static createKeyFieldInFilter(e,n,s){return n==="in"?new ox(e,s):new lx(e,s)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(wo(n,this.value)):n!==null&&vs(this.value)===vs(n)&&this.matchesComparison(wo(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return be(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class si extends cb{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new si(e,n)}matches(e){return hb(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function hb(r){return r.op==="and"}function fb(r){return sx(r)&&hb(r)}function sx(r){for(const e of r.filters)if(e instanceof si)return!1;return!0}function sp(r){if(r instanceof Nt)return r.field.canonicalString()+r.op.toString()+Ro(r.value);if(fb(r))return r.filters.map((e=>sp(e))).join(",");{const e=r.filters.map((n=>sp(n))).join(",");return`${r.op}(${e})`}}function db(r,e){return r instanceof Nt?(function(s,o){return o instanceof Nt&&s.op===o.op&&s.field.isEqual(o.field)&&Ui(s.value,o.value)})(r,e):r instanceof si?(function(s,o){return o instanceof si&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce(((u,f,m)=>u&&db(f,o.filters[m])),!0):!1})(r,e):void be(19439)}function mb(r){return r instanceof Nt?(function(n){return`${n.field.canonicalString()} ${n.op} ${Ro(n.value)}`})(r):r instanceof si?(function(n){return n.op.toString()+" {"+n.getFilters().map(mb).join(" ,")+"}"})(r):"Filter"}class ax extends Nt{constructor(e,n,s){super(e,n,s),this.key=ve.fromName(s.referenceValue)}matches(e){const n=ve.comparator(e.key,this.key);return this.matchesComparison(n)}}class ox extends Nt{constructor(e,n){super(e,"in",n),this.keys=pb("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class lx extends Nt{constructor(e,n){super(e,"not-in",n),this.keys=pb("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function pb(r,e){return(e.arrayValue?.values||[]).map((n=>ve.fromName(n.referenceValue)))}class ux extends Nt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Hp(n)&&du(n.arrayValue,this.value)}}class cx extends Nt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&du(this.value.arrayValue,n)}}class hx extends Nt{constructor(e,n){super(e,"not-in",n)}matches(e){if(du(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!du(this.value.arrayValue,n)}}class fx extends Nt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Hp(n)||!n.arrayValue.values)&&n.arrayValue.values.some((s=>du(this.value.arrayValue,s)))}}class dx{constructor(e,n=null,s=[],o=[],u=null,f=null,m=null){this.path=e,this.collectionGroup=n,this.orderBy=s,this.filters=o,this.limit=u,this.startAt=f,this.endAt=m,this.Te=null}}function eE(r,e=null,n=[],s=[],o=null,u=null,f=null){return new dx(r,e,n,s,o,u,f)}function Fp(r){const e=Ce(r);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((s=>sp(s))).join(","),n+="|ob:",n+=e.orderBy.map((s=>(function(u){return u.field.canonicalString()+u.dir})(s))).join(","),rf(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((s=>Ro(s))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((s=>Ro(s))).join(",")),e.Te=n}return e.Te}function Gp(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<r.orderBy.length;n++)if(!rx(r.orderBy[n],e.orderBy[n]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let n=0;n<r.filters.length;n++)if(!db(r.filters[n],e.filters[n]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!W0(r.startAt,e.startAt)&&W0(r.endAt,e.endAt)}function ap(r){return ve.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}class Ru{constructor(e,n=null,s=[],o=[],u=null,f="F",m=null,p=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=o,this.limit=u,this.limitType=f,this.startAt=m,this.endAt=p,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function mx(r,e,n,s,o,u,f,m){return new Ru(r,e,n,s,o,u,f,m)}function $p(r){return new Ru(r)}function tE(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function gb(r){return r.collectionGroup!==null}function eu(r){const e=Ce(r);if(e.Ie===null){e.Ie=[];const n=new Set;for(const u of e.explicitOrderBy)e.Ie.push(u),n.add(u.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(f){let m=new kt(Qt.comparator);return f.filters.forEach((p=>{p.getFlattenedFilters().forEach((y=>{y.isInequality()&&(m=m.add(y.field))}))})),m})(e).forEach((u=>{n.has(u.canonicalString())||u.isKeyField()||e.Ie.push(new zh(u,s))})),n.has(Qt.keyField().canonicalString())||e.Ie.push(new zh(Qt.keyField(),s))}return e.Ie}function Mi(r){const e=Ce(r);return e.Ee||(e.Ee=px(e,eu(r))),e.Ee}function px(r,e){if(r.limitType==="F")return eE(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map((o=>{const u=o.dir==="desc"?"asc":"desc";return new zh(o.field,u)}));const n=r.endAt?new jh(r.endAt.position,r.endAt.inclusive):null,s=r.startAt?new jh(r.startAt.position,r.startAt.inclusive):null;return eE(r.path,r.collectionGroup,e,r.filters,r.limit,n,s)}}function op(r,e){const n=r.filters.concat([e]);return new Ru(r.path,r.collectionGroup,r.explicitOrderBy.slice(),n,r.limit,r.limitType,r.startAt,r.endAt)}function lp(r,e,n){return new Ru(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,n,r.startAt,r.endAt)}function af(r,e){return Gp(Mi(r),Mi(e))&&r.limitType===e.limitType}function yb(r){return`${Fp(Mi(r))}|lt:${r.limitType}`}function fo(r){return`Query(target=${(function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map((o=>mb(o))).join(", ")}]`),rf(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map((o=>(function(f){return`${f.field.canonicalString()} (${f.dir})`})(o))).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map((o=>Ro(o))).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map((o=>Ro(o))).join(",")),`Target(${s})`})(Mi(r))}; limitType=${r.limitType})`}function of(r,e){return e.isFoundDocument()&&(function(s,o){const u=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(u):ve.isDocumentKey(s.path)?s.path.isEqual(u):s.path.isImmediateParentOf(u)})(r,e)&&(function(s,o){for(const u of eu(s))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0})(r,e)&&(function(s,o){for(const u of s.filters)if(!u.matches(o))return!1;return!0})(r,e)&&(function(s,o){return!(s.startAt&&!(function(f,m,p){const y=J0(f,m,p);return f.inclusive?y<=0:y<0})(s.startAt,eu(s),o)||s.endAt&&!(function(f,m,p){const y=J0(f,m,p);return f.inclusive?y>=0:y>0})(s.endAt,eu(s),o))})(r,e)}function gx(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function _b(r){return(e,n)=>{let s=!1;for(const o of eu(r)){const u=yx(o,e,n);if(u!==0)return u;s=s||o.field.isKeyField()}return 0}}function yx(r,e,n){const s=r.field.isKeyField()?ve.comparator(e.key,n.key):(function(u,f,m){const p=f.data.field(u),y=m.data.field(u);return p!==null&&y!==null?wo(p,y):be(42886)})(r.field,e,n);switch(r.dir){case"asc":return s;case"desc":return-1*s;default:return be(19790,{direction:r.dir})}}class ga{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s!==void 0){for(const[o,u]of s)if(this.equalsFn(o,e))return u}}has(e){return this.get(e)!==void 0}set(e,n){const s=this.mapKeyFn(e),o=this.inner[s];if(o===void 0)return this.inner[s]=[[e,n]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return void(o[u]=[e,n]);o.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return s.length===1?delete this.inner[n]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(e){pa(this.inner,((n,s)=>{for(const[o,u]of s)e(o,u)}))}isEmpty(){return tb(this.inner)}size(){return this.innerSize}}const _x=new ft(ve.comparator);function pr(){return _x}const vb=new ft(ve.comparator);function Gl(...r){let e=vb;for(const n of r)e=e.insert(n.key,n);return e}function Eb(r){let e=vb;return r.forEach(((n,s)=>e=e.insert(n,s.overlayedDocument))),e}function ia(){return tu()}function Tb(){return tu()}function tu(){return new ga((r=>r.toString()),((r,e)=>r.isEqual(e)))}const vx=new ft(ve.comparator),Ex=new kt(ve.comparator);function je(...r){let e=Ex;for(const n of r)e=e.add(n);return e}const Tx=new kt(Ue);function bx(){return Tx}function Qp(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Lh(e)?"-0":e}}function bb(r){return{integerValue:""+r}}function Sx(r,e){return XC(e)?bb(e):Qp(r,e)}class lf{constructor(){this._=void 0}}function Ax(r,e,n){return r instanceof Bh?(function(o,u){const f={fields:{[rb]:{stringValue:ib},[ab]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&qp(u)&&(u=sf(u)),u&&(f.fields[sb]=u),{mapValue:f}})(n,e):r instanceof mu?Ab(r,e):r instanceof pu?wb(r,e):(function(o,u){const f=Sb(o,u),m=nE(f)+nE(o.Ae);return rp(f)&&rp(o.Ae)?bb(m):Qp(o.serializer,m)})(r,e)}function wx(r,e,n){return r instanceof mu?Ab(r,e):r instanceof pu?wb(r,e):n}function Sb(r,e){return r instanceof qh?(function(s){return rp(s)||(function(u){return!!u&&"doubleValue"in u})(s)})(e)?e:{integerValue:0}:null}class Bh extends lf{}class mu extends lf{constructor(e){super(),this.elements=e}}function Ab(r,e){const n=Rb(e);for(const s of r.elements)n.some((o=>Ui(o,s)))||n.push(s);return{arrayValue:{values:n}}}class pu extends lf{constructor(e){super(),this.elements=e}}function wb(r,e){let n=Rb(e);for(const s of r.elements)n=n.filter((o=>!Ui(o,s)));return{arrayValue:{values:n}}}class qh extends lf{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function nE(r){return vt(r.integerValue||r.doubleValue)}function Rb(r){return Hp(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}function Rx(r,e){return r.field.isEqual(e.field)&&(function(s,o){return s instanceof mu&&o instanceof mu||s instanceof pu&&o instanceof pu?Ao(s.elements,o.elements,Ui):s instanceof qh&&o instanceof qh?Ui(s.Ae,o.Ae):s instanceof Bh&&o instanceof Bh})(r.transform,e.transform)}class Cx{constructor(e,n){this.version=e,this.transformResults=n}}class ri{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new ri}static exists(e){return new ri(void 0,e)}static updateTime(e){return new ri(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Ah(r,e){return r.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(r.updateTime):r.exists===void 0||r.exists===e.isFoundDocument()}class uf{}function Cb(r,e){if(!r.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return r.isNoDocument()?new Yp(r.key,ri.none()):new Cu(r.key,r.data,ri.none());{const n=r.data,s=jn.empty();let o=new kt(Qt.comparator);for(let u of e.fields)if(!o.has(u)){let f=n.field(u);f===null&&u.length>1&&(u=u.popLast(),f=n.field(u)),f===null?s.delete(u):s.set(u,f),o=o.add(u)}return new ya(r.key,s,new ni(o.toArray()),ri.none())}}function xx(r,e,n){r instanceof Cu?(function(o,u,f){const m=o.value.clone(),p=rE(o.fieldTransforms,u,f.transformResults);m.setAll(p),u.convertToFoundDocument(f.version,m).setHasCommittedMutations()})(r,e,n):r instanceof ya?(function(o,u,f){if(!Ah(o.precondition,u))return void u.convertToUnknownDocument(f.version);const m=rE(o.fieldTransforms,u,f.transformResults),p=u.data;p.setAll(xb(o)),p.setAll(m),u.convertToFoundDocument(f.version,p).setHasCommittedMutations()})(r,e,n):(function(o,u,f){u.convertToNoDocument(f.version).setHasCommittedMutations()})(0,e,n)}function nu(r,e,n,s){return r instanceof Cu?(function(u,f,m,p){if(!Ah(u.precondition,f))return m;const y=u.value.clone(),E=sE(u.fieldTransforms,p,f);return y.setAll(E),f.convertToFoundDocument(f.version,y).setHasLocalMutations(),null})(r,e,n,s):r instanceof ya?(function(u,f,m,p){if(!Ah(u.precondition,f))return m;const y=sE(u.fieldTransforms,p,f),E=f.data;return E.setAll(xb(u)),E.setAll(y),f.convertToFoundDocument(f.version,E).setHasLocalMutations(),m===null?null:m.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map((S=>S.field)))})(r,e,n,s):(function(u,f,m){return Ah(u.precondition,f)?(f.convertToNoDocument(f.version).setHasLocalMutations(),null):m})(r,e,n)}function Ix(r,e){let n=null;for(const s of r.fieldTransforms){const o=e.data.field(s.field),u=Sb(s.transform,o||null);u!=null&&(n===null&&(n=jn.empty()),n.set(s.field,u))}return n||null}function iE(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&!!(function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&Ao(s,o,((u,f)=>Rx(u,f)))})(r.fieldTransforms,e.fieldTransforms)&&(r.type===0?r.value.isEqual(e.value):r.type!==1||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask))}class Cu extends uf{constructor(e,n,s,o=[]){super(),this.key=e,this.value=n,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class ya extends uf{constructor(e,n,s,o,u=[]){super(),this.key=e,this.data=n,this.fieldMask=s,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function xb(r){const e=new Map;return r.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const s=r.data.field(n);e.set(n,s)}})),e}function rE(r,e,n){const s=new Map;Xe(r.length===n.length,32656,{Re:n.length,Ve:r.length});for(let o=0;o<n.length;o++){const u=r[o],f=u.transform,m=e.data.field(u.field);s.set(u.field,wx(f,m,n[o]))}return s}function sE(r,e,n){const s=new Map;for(const o of r){const u=o.transform,f=n.data.field(o.field);s.set(o.field,Ax(u,f,e))}return s}class Yp extends uf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Nx extends uf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class Dx{constructor(e,n,s,o){this.batchId=e,this.localWriteTime=n,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(e,n){const s=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(e.key)&&xx(u,e,s[o])}}applyToLocalView(e,n){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(n=nu(s,e,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(n=nu(s,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const s=Tb();return this.mutations.forEach((o=>{const u=e.get(o.key),f=u.overlayedDocument;let m=this.applyToLocalView(f,u.mutatedFields);m=n.has(o.key)?null:m;const p=Cb(f,m);p!==null&&s.set(o.key,p),f.isValidDocument()||f.convertToNoDocument(we.min())})),s}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),je())}isEqual(e){return this.batchId===e.batchId&&Ao(this.mutations,e.mutations,((n,s)=>iE(n,s)))&&Ao(this.baseMutations,e.baseMutations,((n,s)=>iE(n,s)))}}class Kp{constructor(e,n,s,o){this.batch=e,this.commitVersion=n,this.mutationResults=s,this.docVersions=o}static from(e,n,s){Xe(e.mutations.length===s.length,58842,{me:e.mutations.length,fe:s.length});let o=(function(){return vx})();const u=e.mutations;for(let f=0;f<u.length;f++)o=o.insert(u[f].key,s[f].version);return new Kp(e,n,s,o)}}class Ox{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class Mx{constructor(e,n){this.count=e,this.unchangedNames=n}}var It,He;function Vx(r){switch(r){case ee.OK:return be(64938);case ee.CANCELLED:case ee.UNKNOWN:case ee.DEADLINE_EXCEEDED:case ee.RESOURCE_EXHAUSTED:case ee.INTERNAL:case ee.UNAVAILABLE:case ee.UNAUTHENTICATED:return!1;case ee.INVALID_ARGUMENT:case ee.NOT_FOUND:case ee.ALREADY_EXISTS:case ee.PERMISSION_DENIED:case ee.FAILED_PRECONDITION:case ee.ABORTED:case ee.OUT_OF_RANGE:case ee.UNIMPLEMENTED:case ee.DATA_LOSS:return!0;default:return be(15467,{code:r})}}function Ib(r){if(r===void 0)return mr("GRPC error has no .code"),ee.UNKNOWN;switch(r){case It.OK:return ee.OK;case It.CANCELLED:return ee.CANCELLED;case It.UNKNOWN:return ee.UNKNOWN;case It.DEADLINE_EXCEEDED:return ee.DEADLINE_EXCEEDED;case It.RESOURCE_EXHAUSTED:return ee.RESOURCE_EXHAUSTED;case It.INTERNAL:return ee.INTERNAL;case It.UNAVAILABLE:return ee.UNAVAILABLE;case It.UNAUTHENTICATED:return ee.UNAUTHENTICATED;case It.INVALID_ARGUMENT:return ee.INVALID_ARGUMENT;case It.NOT_FOUND:return ee.NOT_FOUND;case It.ALREADY_EXISTS:return ee.ALREADY_EXISTS;case It.PERMISSION_DENIED:return ee.PERMISSION_DENIED;case It.FAILED_PRECONDITION:return ee.FAILED_PRECONDITION;case It.ABORTED:return ee.ABORTED;case It.OUT_OF_RANGE:return ee.OUT_OF_RANGE;case It.UNIMPLEMENTED:return ee.UNIMPLEMENTED;case It.DATA_LOSS:return ee.DATA_LOSS;default:return be(39323,{code:r})}}(He=It||(It={}))[He.OK=0]="OK",He[He.CANCELLED=1]="CANCELLED",He[He.UNKNOWN=2]="UNKNOWN",He[He.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",He[He.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",He[He.NOT_FOUND=5]="NOT_FOUND",He[He.ALREADY_EXISTS=6]="ALREADY_EXISTS",He[He.PERMISSION_DENIED=7]="PERMISSION_DENIED",He[He.UNAUTHENTICATED=16]="UNAUTHENTICATED",He[He.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",He[He.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",He[He.ABORTED=10]="ABORTED",He[He.OUT_OF_RANGE=11]="OUT_OF_RANGE",He[He.UNIMPLEMENTED=12]="UNIMPLEMENTED",He[He.INTERNAL=13]="INTERNAL",He[He.UNAVAILABLE=14]="UNAVAILABLE",He[He.DATA_LOSS=15]="DATA_LOSS";function kx(){return new TextEncoder}const Lx=new hs([4294967295,4294967295],0);function aE(r){const e=kx().encode(r),n=new HT;return n.update(e),new Uint8Array(n.digest())}function oE(r){const e=new DataView(r.buffer),n=e.getUint32(0,!0),s=e.getUint32(4,!0),o=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new hs([n,s],0),new hs([o,u],0)]}class Xp{constructor(e,n,s){if(this.bitmap=e,this.padding=n,this.hashCount=s,n<0||n>=8)throw new $l(`Invalid padding: ${n}`);if(s<0)throw new $l(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new $l(`Invalid hash count: ${s}`);if(e.length===0&&n!==0)throw new $l(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=hs.fromNumber(this.ge)}ye(e,n,s){let o=e.add(n.multiply(hs.fromNumber(s)));return o.compare(Lx)===1&&(o=new hs([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=aE(e),[s,o]=oE(n);for(let u=0;u<this.hashCount;u++){const f=this.ye(s,o,u);if(!this.we(f))return!1}return!0}static create(e,n,s){const o=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),f=new Xp(u,o,n);return s.forEach((m=>f.insert(m))),f}insert(e){if(this.ge===0)return;const n=aE(e),[s,o]=oE(n);for(let u=0;u<this.hashCount;u++){const f=this.ye(s,o,u);this.Se(f)}}Se(e){const n=Math.floor(e/8),s=e%8;this.bitmap[n]|=1<<s}}class $l extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class cf{constructor(e,n,s,o,u){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,n,s){const o=new Map;return o.set(e,xu.createSynthesizedTargetChangeForCurrentChange(e,n,s)),new cf(we.min(),o,new ft(Ue),pr(),je())}}class xu{constructor(e,n,s,o,u){this.resumeToken=e,this.current=n,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,n,s){return new xu(s,n,je(),je(),je())}}class wh{constructor(e,n,s,o){this.be=e,this.removedTargetIds=n,this.key=s,this.De=o}}class Nb{constructor(e,n){this.targetId=e,this.Ce=n}}class Db{constructor(e,n,s=Yt.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=n,this.resumeToken=s,this.cause=o}}class lE{constructor(){this.ve=0,this.Fe=uE(),this.Me=Yt.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=je(),n=je(),s=je();return this.Fe.forEach(((o,u)=>{switch(u){case 0:e=e.add(o);break;case 2:n=n.add(o);break;case 1:s=s.add(o);break;default:be(38017,{changeType:u})}})),new xu(this.Me,this.xe,e,n,s)}qe(){this.Oe=!1,this.Fe=uE()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Xe(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class Px{constructor(e){this.Ge=e,this.ze=new Map,this.je=pr(),this.Je=dh(),this.He=dh(),this.Ye=new ft(Ue)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const s=this.nt(n);switch(e.state){case 0:this.rt(n)&&s.Le(e.resumeToken);break;case 1:s.Ke(),s.Ne||s.qe(),s.Le(e.resumeToken);break;case 2:s.Ke(),s.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(s.We(),s.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),s.Le(e.resumeToken));break;default:be(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((s,o)=>{this.rt(o)&&n(o)}))}st(e){const n=e.targetId,s=e.Ce.count,o=this.ot(n);if(o){const u=o.target;if(ap(u))if(s===0){const f=new ve(u.path);this.et(n,f,Jt.newNoDocument(f,we.min()))}else Xe(s===1,20013,{expectedCount:s});else{const f=this._t(n);if(f!==s){const m=this.ut(e),p=m?this.ct(m,e,f):1;if(p!==0){this.it(n);const y=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,y)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:u=0}=n;let f,m;try{f=_s(s).toUint8Array()}catch(p){if(p instanceof nb)return So("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{m=new Xp(f,o,u)}catch(p){return So(p instanceof $l?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return m.ge===0?null:m}ct(e,n,s){return n.Ce.count===s-this.Pt(e,n.targetId)?0:2}Pt(e,n){const s=this.Ge.getRemoteKeysForTarget(n);let o=0;return s.forEach((u=>{const f=this.Ge.ht(),m=`projects/${f.projectId}/databases/${f.database}/documents/${u.path.canonicalString()}`;e.mightContain(m)||(this.et(n,u,null),o++)})),o}Tt(e){const n=new Map;this.ze.forEach(((u,f)=>{const m=this.ot(f);if(m){if(u.current&&ap(m.target)){const p=new ve(m.target.path);this.It(p).has(f)||this.Et(f,p)||this.et(f,p,Jt.newNoDocument(p,e))}u.Be&&(n.set(f,u.ke()),u.qe())}}));let s=je();this.He.forEach(((u,f)=>{let m=!0;f.forEachWhile((p=>{const y=this.ot(p);return!y||y.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)})),m&&(s=s.add(u))})),this.je.forEach(((u,f)=>f.setReadTime(e)));const o=new cf(e,n,this.Ye,this.je,s);return this.je=pr(),this.Je=dh(),this.He=dh(),this.Ye=new ft(Ue),o}Xe(e,n){if(!this.rt(e))return;const s=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,s),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,s){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,n)?o.Qe(n,1):o.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),s&&(this.je=this.je.insert(n,s))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new lE,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new kt(Ue),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new kt(Ue),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||le("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new lE),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function dh(){return new ft(ve.comparator)}function uE(){return new ft(ve.comparator)}const Ux={asc:"ASCENDING",desc:"DESCENDING"},jx={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},zx={and:"AND",or:"OR"};class Bx{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function up(r,e){return r.useProto3Json||rf(e)?e:{value:e}}function Hh(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Ob(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function qx(r,e){return Hh(r,e.toTimestamp())}function Vi(r){return Xe(!!r,49232),we.fromTimestamp((function(n){const s=ys(n);return new et(s.seconds,s.nanos)})(r))}function Zp(r,e){return cp(r,e).canonicalString()}function cp(r,e){const n=(function(o){return new ot(["projects",o.projectId,"databases",o.database])})(r).child("documents");return e===void 0?n:n.child(e)}function Mb(r){const e=ot.fromString(r);return Xe(Ub(e),10190,{key:e.toString()}),e}function hp(r,e){return Zp(r.databaseId,e.path)}function Pm(r,e){const n=Mb(e);if(n.get(1)!==r.databaseId.projectId)throw new ue(ee.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+r.databaseId.projectId);if(n.get(3)!==r.databaseId.database)throw new ue(ee.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+r.databaseId.database);return new ve(kb(n))}function Vb(r,e){return Zp(r.databaseId,e)}function Hx(r){const e=Mb(r);return e.length===4?ot.emptyPath():kb(e)}function fp(r){return new ot(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function kb(r){return Xe(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function cE(r,e,n){return{name:hp(r,e),fields:n.value.mapValue.fields}}function Fx(r,e){let n;if("targetChange"in e){e.targetChange;const s=(function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:be(39313,{state:y})})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],u=(function(y,E){return y.useProto3Json?(Xe(E===void 0||typeof E=="string",58123),Yt.fromBase64String(E||"")):(Xe(E===void 0||E instanceof Buffer||E instanceof Uint8Array,16193),Yt.fromUint8Array(E||new Uint8Array))})(r,e.targetChange.resumeToken),f=e.targetChange.cause,m=f&&(function(y){const E=y.code===void 0?ee.UNKNOWN:Ib(y.code);return new ue(E,y.message||"")})(f);n=new Db(s,o,u,m||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const o=Pm(r,s.document.name),u=Vi(s.document.updateTime),f=s.document.createTime?Vi(s.document.createTime):we.min(),m=new jn({mapValue:{fields:s.document.fields}}),p=Jt.newFoundDocument(o,u,f,m),y=s.targetIds||[],E=s.removedTargetIds||[];n=new wh(y,E,p.key,p)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const o=Pm(r,s.document),u=s.readTime?Vi(s.readTime):we.min(),f=Jt.newNoDocument(o,u),m=s.removedTargetIds||[];n=new wh([],m,f.key,f)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const o=Pm(r,s.document),u=s.removedTargetIds||[];n=new wh([],u,o,null)}else{if(!("filter"in e))return be(11601,{Rt:e});{e.filter;const s=e.filter;s.targetId;const{count:o=0,unchangedNames:u}=s,f=new Mx(o,u),m=s.targetId;n=new Nb(m,f)}}return n}function Gx(r,e){let n;if(e instanceof Cu)n={update:cE(r,e.key,e.value)};else if(e instanceof Yp)n={delete:hp(r,e.key)};else if(e instanceof ya)n={update:cE(r,e.key,e.data),updateMask:eI(e.fieldMask)};else{if(!(e instanceof Nx))return be(16599,{Vt:e.type});n={verify:hp(r,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((s=>(function(u,f){const m=f.transform;if(m instanceof Bh)return{fieldPath:f.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof mu)return{fieldPath:f.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof pu)return{fieldPath:f.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof qh)return{fieldPath:f.field.canonicalString(),increment:m.Ae};throw be(20930,{transform:f.transform})})(0,s)))),e.precondition.isNone||(n.currentDocument=(function(o,u){return u.updateTime!==void 0?{updateTime:qx(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:be(27497)})(r,e.precondition)),n}function $x(r,e){return r&&r.length>0?(Xe(e!==void 0,14353),r.map((n=>(function(o,u){let f=o.updateTime?Vi(o.updateTime):Vi(u);return f.isEqual(we.min())&&(f=Vi(u)),new Cx(f,o.transformResults||[])})(n,e)))):[]}function Qx(r,e){return{documents:[Vb(r,e.path)]}}function Yx(r,e){const n={structuredQuery:{}},s=e.path;let o;e.collectionGroup!==null?(o=s,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=Vb(r,o);const u=(function(y){if(y.length!==0)return Pb(si.create(y,"and"))})(e.filters);u&&(n.structuredQuery.where=u);const f=(function(y){if(y.length!==0)return y.map((E=>(function(R){return{field:mo(R.field),direction:Zx(R.dir)}})(E)))})(e.orderBy);f&&(n.structuredQuery.orderBy=f);const m=up(r,e.limit);return m!==null&&(n.structuredQuery.limit=m),e.startAt&&(n.structuredQuery.startAt=(function(y){return{before:y.inclusive,values:y.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(y){return{before:!y.inclusive,values:y.position}})(e.endAt)),{ft:n,parent:o}}function Kx(r){let e=Hx(r.parent);const n=r.structuredQuery,s=n.from?n.from.length:0;let o=null;if(s>0){Xe(s===1,65062);const E=n.from[0];E.allDescendants?o=E.collectionId:e=e.child(E.collectionId)}let u=[];n.where&&(u=(function(S){const R=Lb(S);return R instanceof si&&fb(R)?R.getFilters():[R]})(n.where));let f=[];n.orderBy&&(f=(function(S){return S.map((R=>(function(B){return new zh(po(B.field),(function($){switch($){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(B.direction))})(R)))})(n.orderBy));let m=null;n.limit&&(m=(function(S){let R;return R=typeof S=="object"?S.value:S,rf(R)?null:R})(n.limit));let p=null;n.startAt&&(p=(function(S){const R=!!S.before,O=S.values||[];return new jh(O,R)})(n.startAt));let y=null;return n.endAt&&(y=(function(S){const R=!S.before,O=S.values||[];return new jh(O,R)})(n.endAt)),mx(e,o,f,u,m,"F",p,y)}function Xx(r,e){const n=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return be(28987,{purpose:o})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function Lb(r){return r.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=po(n.unaryFilter.field);return Nt.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=po(n.unaryFilter.field);return Nt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=po(n.unaryFilter.field);return Nt.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const f=po(n.unaryFilter.field);return Nt.create(f,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return be(61313);default:return be(60726)}})(r):r.fieldFilter!==void 0?(function(n){return Nt.create(po(n.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return be(58110);default:return be(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(r):r.compositeFilter!==void 0?(function(n){return si.create(n.compositeFilter.filters.map((s=>Lb(s))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return be(1026)}})(n.compositeFilter.op))})(r):be(30097,{filter:r})}function Zx(r){return Ux[r]}function Jx(r){return jx[r]}function Wx(r){return zx[r]}function mo(r){return{fieldPath:r.canonicalString()}}function po(r){return Qt.fromServerFormat(r.fieldPath)}function Pb(r){return r instanceof Nt?(function(n){if(n.op==="=="){if(Z0(n.value))return{unaryFilter:{field:mo(n.field),op:"IS_NAN"}};if(X0(n.value))return{unaryFilter:{field:mo(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(Z0(n.value))return{unaryFilter:{field:mo(n.field),op:"IS_NOT_NAN"}};if(X0(n.value))return{unaryFilter:{field:mo(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:mo(n.field),op:Jx(n.op),value:n.value}}})(r):r instanceof si?(function(n){const s=n.getFilters().map((o=>Pb(o)));return s.length===1?s[0]:{compositeFilter:{op:Wx(n.op),filters:s}}})(r):be(54877,{filter:r})}function eI(r){const e=[];return r.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function Ub(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}class ss{constructor(e,n,s,o,u=we.min(),f=we.min(),m=Yt.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=n,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=m,this.expectedCount=p}withSequenceNumber(e){return new ss(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new ss(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ss(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ss(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class tI{constructor(e){this.yt=e}}function nI(r){const e=Kx({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?lp(e,e.limit,"L"):e}class iI{constructor(){this.Cn=new rI}addToCollectionParentIndex(e,n){return this.Cn.add(n),te.resolve()}getCollectionParents(e,n){return te.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return te.resolve()}deleteFieldIndex(e,n){return te.resolve()}deleteAllFieldIndexes(e){return te.resolve()}createTargetIndexes(e,n){return te.resolve()}getDocumentsMatchingTarget(e,n){return te.resolve(null)}getIndexType(e,n){return te.resolve(0)}getFieldIndexes(e,n){return te.resolve([])}getNextCollectionGroupToUpdate(e){return te.resolve(null)}getMinOffset(e,n){return te.resolve(gs.min())}getMinOffsetFromCollectionGroup(e,n){return te.resolve(gs.min())}updateCollectionGroup(e,n,s){return te.resolve()}updateIndexEntries(e,n){return te.resolve()}}class rI{constructor(){this.index={}}add(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n]||new kt(ot.comparator),u=!o.has(s);return this.index[n]=o.add(s),u}has(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n];return o&&o.has(s)}getEntries(e){return(this.index[e]||new kt(ot.comparator)).toArray()}}const hE={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},jb=41943040;class hn{static withCacheSize(e){return new hn(e,hn.DEFAULT_COLLECTION_PERCENTILE,hn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}hn.DEFAULT_COLLECTION_PERCENTILE=10,hn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,hn.DEFAULT=new hn(jb,hn.DEFAULT_COLLECTION_PERCENTILE,hn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),hn.DISABLED=new hn(-1,0,0);class Co{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Co(0)}static cr(){return new Co(-1)}}const fE="LruGarbageCollector",sI=1048576;function dE([r,e],[n,s]){const o=Ue(r,n);return o===0?Ue(e,s):o}class aI{constructor(e){this.Ir=e,this.buffer=new kt(dE),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();dE(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class oI{constructor(e,n,s){this.garbageCollector=e,this.asyncQueue=n,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){le(fE,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){ko(n)?le(fE,"Ignoring IndexedDB error during garbage collection: ",n):await Vo(n)}await this.Vr(3e5)}))}}class lI{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next((s=>Math.floor(n/100*s)))}nthSequenceNumber(e,n){if(n===0)return te.resolve(nf.ce);const s=new aI(n);return this.mr.forEachTarget(e,(o=>s.Ar(o.sequenceNumber))).next((()=>this.mr.pr(e,(o=>s.Ar(o))))).next((()=>s.maxValue))}removeTargets(e,n,s){return this.mr.removeTargets(e,n,s)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(le("LruGarbageCollector","Garbage collection skipped; disabled"),te.resolve(hE)):this.getCacheSize(e).next((s=>s<this.params.cacheSizeCollectionThreshold?(le("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),hE):this.yr(e,n)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let s,o,u,f,m,p,y;const E=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((S=>(S>this.params.maximumSequenceNumbersToCollect?(le("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${S}`),o=this.params.maximumSequenceNumbersToCollect):o=S,f=Date.now(),this.nthSequenceNumber(e,o)))).next((S=>(s=S,m=Date.now(),this.removeTargets(e,s,n)))).next((S=>(u=S,p=Date.now(),this.removeOrphanedDocuments(e,s)))).next((S=>(y=Date.now(),ho()<=Pe.DEBUG&&le("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${f-E}ms
	Determined least recently used ${o} in `+(m-f)+`ms
	Removed ${u} targets in `+(p-m)+`ms
	Removed ${S} documents in `+(y-p)+`ms
Total Duration: ${y-E}ms`),te.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:S}))))}}function uI(r,e){return new lI(r,e)}class cI{constructor(){this.changes=new ga((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Jt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?te.resolve(s):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class hI{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class fI{constructor(e,n,s,o){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=o}getDocument(e,n){let s=null;return this.documentOverlayCache.getOverlay(e,n).next((o=>(s=o,this.remoteDocumentCache.getEntry(e,n)))).next((o=>(s!==null&&nu(s.mutation,o,ni.empty(),et.now()),o)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((s=>this.getLocalViewOfDocuments(e,s,je()).next((()=>s))))}getLocalViewOfDocuments(e,n,s=je()){const o=ia();return this.populateOverlays(e,o,n).next((()=>this.computeViews(e,n,o,s).next((u=>{let f=Gl();return u.forEach(((m,p)=>{f=f.insert(m,p.overlayedDocument)})),f}))))}getOverlayedDocuments(e,n){const s=ia();return this.populateOverlays(e,s,n).next((()=>this.computeViews(e,n,s,je())))}populateOverlays(e,n,s){const o=[];return s.forEach((u=>{n.has(u)||o.push(u)})),this.documentOverlayCache.getOverlays(e,o).next((u=>{u.forEach(((f,m)=>{n.set(f,m)}))}))}computeViews(e,n,s,o){let u=pr();const f=tu(),m=(function(){return tu()})();return n.forEach(((p,y)=>{const E=s.get(y.key);o.has(y.key)&&(E===void 0||E.mutation instanceof ya)?u=u.insert(y.key,y):E!==void 0?(f.set(y.key,E.mutation.getFieldMask()),nu(E.mutation,y,E.mutation.getFieldMask(),et.now())):f.set(y.key,ni.empty())})),this.recalculateAndSaveOverlays(e,u).next((p=>(p.forEach(((y,E)=>f.set(y,E))),n.forEach(((y,E)=>m.set(y,new hI(E,f.get(y)??null)))),m)))}recalculateAndSaveOverlays(e,n){const s=tu();let o=new ft(((f,m)=>f-m)),u=je();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((f=>{for(const m of f)m.keys().forEach((p=>{const y=n.get(p);if(y===null)return;let E=s.get(p)||ni.empty();E=m.applyToLocalView(y,E),s.set(p,E);const S=(o.get(m.batchId)||je()).add(p);o=o.insert(m.batchId,S)}))})).next((()=>{const f=[],m=o.getReverseIterator();for(;m.hasNext();){const p=m.getNext(),y=p.key,E=p.value,S=Tb();E.forEach((R=>{if(!u.has(R)){const O=Cb(n.get(R),s.get(R));O!==null&&S.set(R,O),u=u.add(R)}})),f.push(this.documentOverlayCache.saveOverlays(e,y,S))}return te.waitFor(f)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((s=>this.recalculateAndSaveOverlays(e,s)))}getDocumentsMatchingQuery(e,n,s,o){return(function(f){return ve.isDocumentKey(f.path)&&f.collectionGroup===null&&f.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):gb(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,s,o):this.getDocumentsMatchingCollectionQuery(e,n,s,o)}getNextDocuments(e,n,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,s,o).next((u=>{const f=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,s.largestBatchId,o-u.size):te.resolve(ia());let m=cu,p=u;return f.next((y=>te.forEach(y,((E,S)=>(m<S.largestBatchId&&(m=S.largestBatchId),u.get(E)?te.resolve():this.remoteDocumentCache.getEntry(e,E).next((R=>{p=p.insert(E,R)}))))).next((()=>this.populateOverlays(e,y,u))).next((()=>this.computeViews(e,p,y,je()))).next((E=>({batchId:m,changes:Eb(E)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ve(n)).next((s=>{let o=Gl();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o}))}getDocumentsMatchingCollectionGroupQuery(e,n,s,o){const u=n.collectionGroup;let f=Gl();return this.indexManager.getCollectionParents(e,u).next((m=>te.forEach(m,(p=>{const y=(function(S,R){return new Ru(R,null,S.explicitOrderBy.slice(),S.filters.slice(),S.limit,S.limitType,S.startAt,S.endAt)})(n,p.child(u));return this.getDocumentsMatchingCollectionQuery(e,y,s,o).next((E=>{E.forEach(((S,R)=>{f=f.insert(S,R)}))}))})).next((()=>f))))}getDocumentsMatchingCollectionQuery(e,n,s,o){let u;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,s.largestBatchId).next((f=>(u=f,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,s,u,o)))).next((f=>{u.forEach(((p,y)=>{const E=y.getKey();f.get(E)===null&&(f=f.insert(E,Jt.newInvalidDocument(E)))}));let m=Gl();return f.forEach(((p,y)=>{const E=u.get(p);E!==void 0&&nu(E.mutation,y,ni.empty(),et.now()),of(n,y)&&(m=m.insert(p,y))})),m}))}}class dI{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return te.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,(function(o){return{id:o.id,version:o.version,createTime:Vi(o.createTime)}})(n)),te.resolve()}getNamedQuery(e,n){return te.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,(function(o){return{name:o.name,query:nI(o.bundledQuery),readTime:Vi(o.readTime)}})(n)),te.resolve()}}class mI{constructor(){this.overlays=new ft(ve.comparator),this.qr=new Map}getOverlay(e,n){return te.resolve(this.overlays.get(n))}getOverlays(e,n){const s=ia();return te.forEach(n,(o=>this.getOverlay(e,o).next((u=>{u!==null&&s.set(o,u)})))).next((()=>s))}saveOverlays(e,n,s){return s.forEach(((o,u)=>{this.St(e,n,u)})),te.resolve()}removeOverlaysForBatchId(e,n,s){const o=this.qr.get(s);return o!==void 0&&(o.forEach((u=>this.overlays=this.overlays.remove(u))),this.qr.delete(s)),te.resolve()}getOverlaysForCollection(e,n,s){const o=ia(),u=n.length+1,f=new ve(n.child("")),m=this.overlays.getIteratorFrom(f);for(;m.hasNext();){const p=m.getNext().value,y=p.getKey();if(!n.isPrefixOf(y.path))break;y.path.length===u&&p.largestBatchId>s&&o.set(p.getKey(),p)}return te.resolve(o)}getOverlaysForCollectionGroup(e,n,s,o){let u=new ft(((y,E)=>y-E));const f=this.overlays.getIterator();for(;f.hasNext();){const y=f.getNext().value;if(y.getKey().getCollectionGroup()===n&&y.largestBatchId>s){let E=u.get(y.largestBatchId);E===null&&(E=ia(),u=u.insert(y.largestBatchId,E)),E.set(y.getKey(),y)}}const m=ia(),p=u.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach(((y,E)=>m.set(y,E))),!(m.size()>=o)););return te.resolve(m)}St(e,n,s){const o=this.overlays.get(s.key);if(o!==null){const f=this.qr.get(o.largestBatchId).delete(s.key);this.qr.set(o.largestBatchId,f)}this.overlays=this.overlays.insert(s.key,new Ox(n,s));let u=this.qr.get(n);u===void 0&&(u=je(),this.qr.set(n,u)),this.qr.set(n,u.add(s.key))}}class pI{constructor(){this.sessionToken=Yt.EMPTY_BYTE_STRING}getSessionToken(e){return te.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,te.resolve()}}class Jp{constructor(){this.Qr=new kt(jt.$r),this.Ur=new kt(jt.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const s=new jt(e,n);this.Qr=this.Qr.add(s),this.Ur=this.Ur.add(s)}Wr(e,n){e.forEach((s=>this.addReference(s,n)))}removeReference(e,n){this.Gr(new jt(e,n))}zr(e,n){e.forEach((s=>this.removeReference(s,n)))}jr(e){const n=new ve(new ot([])),s=new jt(n,e),o=new jt(n,e+1),u=[];return this.Ur.forEachInRange([s,o],(f=>{this.Gr(f),u.push(f.key)})),u}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new ve(new ot([])),s=new jt(n,e),o=new jt(n,e+1);let u=je();return this.Ur.forEachInRange([s,o],(f=>{u=u.add(f.key)})),u}containsKey(e){const n=new jt(e,0),s=this.Qr.firstAfterOrEqual(n);return s!==null&&e.isEqual(s.key)}}class jt{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return ve.comparator(e.key,n.key)||Ue(e.Yr,n.Yr)}static Kr(e,n){return Ue(e.Yr,n.Yr)||ve.comparator(e.key,n.key)}}class gI{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new kt(jt.$r)}checkEmpty(e){return te.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,s,o){const u=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const f=new Dx(u,n,s,o);this.mutationQueue.push(f);for(const m of o)this.Zr=this.Zr.add(new jt(m.key,u)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return te.resolve(f)}lookupMutationBatch(e,n){return te.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const s=n+1,o=this.ei(s),u=o<0?0:o;return te.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return te.resolve(this.mutationQueue.length===0?Bp:this.tr-1)}getAllMutationBatches(e){return te.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const s=new jt(n,0),o=new jt(n,Number.POSITIVE_INFINITY),u=[];return this.Zr.forEachInRange([s,o],(f=>{const m=this.Xr(f.Yr);u.push(m)})),te.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,n){let s=new kt(Ue);return n.forEach((o=>{const u=new jt(o,0),f=new jt(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([u,f],(m=>{s=s.add(m.Yr)}))})),te.resolve(this.ti(s))}getAllMutationBatchesAffectingQuery(e,n){const s=n.path,o=s.length+1;let u=s;ve.isDocumentKey(u)||(u=u.child(""));const f=new jt(new ve(u),0);let m=new kt(Ue);return this.Zr.forEachWhile((p=>{const y=p.key.path;return!!s.isPrefixOf(y)&&(y.length===o&&(m=m.add(p.Yr)),!0)}),f),te.resolve(this.ti(m))}ti(e){const n=[];return e.forEach((s=>{const o=this.Xr(s);o!==null&&n.push(o)})),n}removeMutationBatch(e,n){Xe(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Zr;return te.forEach(n.mutations,(o=>{const u=new jt(o.key,n.batchId);return s=s.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.Zr=s}))}ir(e){}containsKey(e,n){const s=new jt(n,0),o=this.Zr.firstAfterOrEqual(s);return te.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,te.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class yI{constructor(e){this.ri=e,this.docs=(function(){return new ft(ve.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const s=n.key,o=this.docs.get(s),u=o?o.size:0,f=this.ri(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:f}),this.size+=f-u,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const s=this.docs.get(n);return te.resolve(s?s.document.mutableCopy():Jt.newInvalidDocument(n))}getEntries(e,n){let s=pr();return n.forEach((o=>{const u=this.docs.get(o);s=s.insert(o,u?u.document.mutableCopy():Jt.newInvalidDocument(o))})),te.resolve(s)}getDocumentsMatchingQuery(e,n,s,o){let u=pr();const f=n.path,m=new ve(f.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(m);for(;p.hasNext();){const{key:y,value:{document:E}}=p.getNext();if(!f.isPrefixOf(y.path))break;y.path.length>f.length+1||$C(GC(E),s)<=0||(o.has(E.key)||of(n,E))&&(u=u.insert(E.key,E.mutableCopy()))}return te.resolve(u)}getAllFromCollectionGroup(e,n,s,o){be(9500)}ii(e,n){return te.forEach(this.docs,(s=>n(s)))}newChangeBuffer(e){return new _I(this)}getSize(e){return te.resolve(this.size)}}class _I extends cI{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach(((s,o)=>{o.isValidDocument()?n.push(this.Nr.addEntry(e,o)):this.Nr.removeEntry(s)})),te.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}class vI{constructor(e){this.persistence=e,this.si=new ga((n=>Fp(n)),Gp),this.lastRemoteSnapshotVersion=we.min(),this.highestTargetId=0,this.oi=0,this._i=new Jp,this.targetCount=0,this.ai=Co.ur()}forEachTarget(e,n){return this.si.forEach(((s,o)=>n(o))),te.resolve()}getLastRemoteSnapshotVersion(e){return te.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return te.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),te.resolve(this.highestTargetId)}setTargetsMetadata(e,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.oi&&(this.oi=n),te.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new Co(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,te.resolve()}updateTargetData(e,n){return this.Pr(n),te.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,te.resolve()}removeTargets(e,n,s){let o=0;const u=[];return this.si.forEach(((f,m)=>{m.sequenceNumber<=n&&s.get(m.targetId)===null&&(this.si.delete(f),u.push(this.removeMatchingKeysForTargetId(e,m.targetId)),o++)})),te.waitFor(u).next((()=>o))}getTargetCount(e){return te.resolve(this.targetCount)}getTargetData(e,n){const s=this.si.get(n)||null;return te.resolve(s)}addMatchingKeys(e,n,s){return this._i.Wr(n,s),te.resolve()}removeMatchingKeys(e,n,s){this._i.zr(n,s);const o=this.persistence.referenceDelegate,u=[];return o&&n.forEach((f=>{u.push(o.markPotentiallyOrphaned(e,f))})),te.waitFor(u)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),te.resolve()}getMatchingKeysForTargetId(e,n){const s=this._i.Hr(n);return te.resolve(s)}containsKey(e,n){return te.resolve(this._i.containsKey(n))}}class zb{constructor(e,n){this.ui={},this.overlays={},this.ci=new nf(0),this.li=!1,this.li=!0,this.hi=new pI,this.referenceDelegate=e(this),this.Pi=new vI(this),this.indexManager=new iI,this.remoteDocumentCache=(function(o){return new yI(o)})((s=>this.referenceDelegate.Ti(s))),this.serializer=new tI(n),this.Ii=new dI(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new mI,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let s=this.ui[e.toKey()];return s||(s=new gI(n,this.referenceDelegate),this.ui[e.toKey()]=s),s}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,s){le("MemoryPersistence","Starting transaction:",e);const o=new EI(this.ci.next());return this.referenceDelegate.Ei(),s(o).next((u=>this.referenceDelegate.di(o).next((()=>u)))).toPromise().then((u=>(o.raiseOnCommittedEvent(),u)))}Ai(e,n){return te.or(Object.values(this.ui).map((s=>()=>s.containsKey(e,n))))}}class EI extends YC{constructor(e){super(),this.currentSequenceNumber=e}}class Wp{constructor(e){this.persistence=e,this.Ri=new Jp,this.Vi=null}static mi(e){return new Wp(e)}get fi(){if(this.Vi)return this.Vi;throw be(60996)}addReference(e,n,s){return this.Ri.addReference(s,n),this.fi.delete(s.toString()),te.resolve()}removeReference(e,n,s){return this.Ri.removeReference(s,n),this.fi.add(s.toString()),te.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),te.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach((o=>this.fi.add(o.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,n.targetId).next((o=>{o.forEach((u=>this.fi.add(u.toString())))})).next((()=>s.removeTargetData(e,n)))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return te.forEach(this.fi,(s=>{const o=ve.fromPath(s);return this.gi(e,o).next((u=>{u||n.removeEntry(o,we.min())}))})).next((()=>(this.Vi=null,n.apply(e))))}updateLimboDocument(e,n){return this.gi(e,n).next((s=>{s?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(e){return 0}gi(e,n){return te.or([()=>te.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class Fh{constructor(e,n){this.persistence=e,this.pi=new ga((s=>ZC(s.path)),((s,o)=>s.isEqual(o))),this.garbageCollector=uI(this,n)}static mi(e,n){return new Fh(e,n)}Ei(){}di(e){return te.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((s=>n.next((o=>s+o))))}wr(e){let n=0;return this.pr(e,(s=>{n++})).next((()=>n))}pr(e,n){return te.forEach(this.pi,((s,o)=>this.br(e,s,o).next((u=>u?te.resolve():n(o)))))}removeTargets(e,n,s){return this.persistence.getTargetCache().removeTargets(e,n,s)}removeOrphanedDocuments(e,n){let s=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.ii(e,(f=>this.br(e,f,n).next((m=>{m||(s++,u.removeEntry(f,we.min()))})))).next((()=>u.apply(e))).next((()=>s))}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),te.resolve()}removeTarget(e,n){const s=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,n,s){return this.pi.set(s,e.currentSequenceNumber),te.resolve()}removeReference(e,n,s){return this.pi.set(s,e.currentSequenceNumber),te.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),te.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=bh(e.data.value)),n}br(e,n,s){return te.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const o=this.pi.get(n);return te.resolve(o!==void 0&&o>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class eg{constructor(e,n,s,o){this.targetId=e,this.fromCache=n,this.Es=s,this.ds=o}static As(e,n){let s=je(),o=je();for(const u of n.docChanges)switch(u.type){case 0:s=s.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new eg(e,n.fromCache,s,o)}}class TI{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class bI{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return fw()?8:KC(Wt())>0?6:4})()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,s,o){const u={result:null};return this.ys(e,n).next((f=>{u.result=f})).next((()=>{if(!u.result)return this.ws(e,n,o,s).next((f=>{u.result=f}))})).next((()=>{if(u.result)return;const f=new TI;return this.Ss(e,n,f).next((m=>{if(u.result=m,this.Vs)return this.bs(e,n,f,m.size)}))})).next((()=>u.result))}bs(e,n,s,o){return s.documentReadCount<this.fs?(ho()<=Pe.DEBUG&&le("QueryEngine","SDK will not create cache indexes for query:",fo(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),te.resolve()):(ho()<=Pe.DEBUG&&le("QueryEngine","Query:",fo(n),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.gs*o?(ho()<=Pe.DEBUG&&le("QueryEngine","The SDK decides to create cache indexes for query:",fo(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Mi(n))):te.resolve())}ys(e,n){if(tE(n))return te.resolve(null);let s=Mi(n);return this.indexManager.getIndexType(e,s).next((o=>o===0?null:(n.limit!==null&&o===1&&(n=lp(n,null,"F"),s=Mi(n)),this.indexManager.getDocumentsMatchingTarget(e,s).next((u=>{const f=je(...u);return this.ps.getDocuments(e,f).next((m=>this.indexManager.getMinOffset(e,s).next((p=>{const y=this.Ds(n,m);return this.Cs(n,y,f,p.readTime)?this.ys(e,lp(n,null,"F")):this.vs(e,y,n,p)}))))})))))}ws(e,n,s,o){return tE(n)||o.isEqual(we.min())?te.resolve(null):this.ps.getDocuments(e,s).next((u=>{const f=this.Ds(n,u);return this.Cs(n,f,s,o)?te.resolve(null):(ho()<=Pe.DEBUG&&le("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),fo(n)),this.vs(e,f,n,FC(o,cu)).next((m=>m)))}))}Ds(e,n){let s=new kt(_b(e));return n.forEach(((o,u)=>{of(e,u)&&(s=s.add(u))})),s}Cs(e,n,s,o){if(e.limit===null)return!1;if(s.size!==n.size)return!0;const u=e.limitType==="F"?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}Ss(e,n,s){return ho()<=Pe.DEBUG&&le("QueryEngine","Using full collection scan to execute query:",fo(n)),this.ps.getDocumentsMatchingQuery(e,n,gs.min(),s)}vs(e,n,s,o){return this.ps.getDocumentsMatchingQuery(e,s,o).next((u=>(n.forEach((f=>{u=u.insert(f.key,f)})),u)))}}const tg="LocalStore",SI=3e8;class AI{constructor(e,n,s,o){this.persistence=e,this.Fs=n,this.serializer=o,this.Ms=new ft(Ue),this.xs=new ga((u=>Fp(u)),Gp),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(s)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new fI(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.Ms)))}}function wI(r,e,n,s){return new AI(r,e,n,s)}async function Bb(r,e){const n=Ce(r);return await n.persistence.runTransaction("Handle user change","readonly",(s=>{let o;return n.mutationQueue.getAllMutationBatches(s).next((u=>(o=u,n.Bs(e),n.mutationQueue.getAllMutationBatches(s)))).next((u=>{const f=[],m=[];let p=je();for(const y of o){f.push(y.batchId);for(const E of y.mutations)p=p.add(E.key)}for(const y of u){m.push(y.batchId);for(const E of y.mutations)p=p.add(E.key)}return n.localDocuments.getDocuments(s,p).next((y=>({Ls:y,removedBatchIds:f,addedBatchIds:m})))}))}))}function RI(r,e){const n=Ce(r);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const o=e.batch.keys(),u=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(m,p,y,E){const S=y.batch,R=S.keys();let O=te.resolve();return R.forEach((B=>{O=O.next((()=>E.getEntry(p,B))).next((Y=>{const $=y.docVersions.get(B);Xe($!==null,48541),Y.version.compareTo($)<0&&(S.applyToRemoteDocument(Y,y),Y.isValidDocument()&&(Y.setReadTime(y.commitVersion),E.addEntry(Y)))}))})),O.next((()=>m.mutationQueue.removeMutationBatch(p,S)))})(n,s,e,u).next((()=>u.apply(s))).next((()=>n.mutationQueue.performConsistencyCheck(s))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(s,o,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(m){let p=je();for(let y=0;y<m.mutationResults.length;++y)m.mutationResults[y].transformResults.length>0&&(p=p.add(m.batch.mutations[y].key));return p})(e)))).next((()=>n.localDocuments.getDocuments(s,o)))}))}function qb(r){const e=Ce(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.Pi.getLastRemoteSnapshotVersion(n)))}function CI(r,e){const n=Ce(r),s=e.snapshotVersion;let o=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(u=>{const f=n.Ns.newChangeBuffer({trackRemovals:!0});o=n.Ms;const m=[];e.targetChanges.forEach(((E,S)=>{const R=o.get(S);if(!R)return;m.push(n.Pi.removeMatchingKeys(u,E.removedDocuments,S).next((()=>n.Pi.addMatchingKeys(u,E.addedDocuments,S))));let O=R.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(S)!==null?O=O.withResumeToken(Yt.EMPTY_BYTE_STRING,we.min()).withLastLimboFreeSnapshotVersion(we.min()):E.resumeToken.approximateByteSize()>0&&(O=O.withResumeToken(E.resumeToken,s)),o=o.insert(S,O),(function(Y,$,se){return Y.resumeToken.approximateByteSize()===0||$.snapshotVersion.toMicroseconds()-Y.snapshotVersion.toMicroseconds()>=SI?!0:se.addedDocuments.size+se.modifiedDocuments.size+se.removedDocuments.size>0})(R,O,E)&&m.push(n.Pi.updateTargetData(u,O))}));let p=pr(),y=je();if(e.documentUpdates.forEach((E=>{e.resolvedLimboDocuments.has(E)&&m.push(n.persistence.referenceDelegate.updateLimboDocument(u,E))})),m.push(xI(u,f,e.documentUpdates).next((E=>{p=E.ks,y=E.qs}))),!s.isEqual(we.min())){const E=n.Pi.getLastRemoteSnapshotVersion(u).next((S=>n.Pi.setTargetsMetadata(u,u.currentSequenceNumber,s)));m.push(E)}return te.waitFor(m).next((()=>f.apply(u))).next((()=>n.localDocuments.getLocalViewOfDocuments(u,p,y))).next((()=>p))})).then((u=>(n.Ms=o,u)))}function xI(r,e,n){let s=je(),o=je();return n.forEach((u=>s=s.add(u))),e.getEntries(r,s).next((u=>{let f=pr();return n.forEach(((m,p)=>{const y=u.get(m);p.isFoundDocument()!==y.isFoundDocument()&&(o=o.add(m)),p.isNoDocument()&&p.version.isEqual(we.min())?(e.removeEntry(m,p.readTime),f=f.insert(m,p)):!y.isValidDocument()||p.version.compareTo(y.version)>0||p.version.compareTo(y.version)===0&&y.hasPendingWrites?(e.addEntry(p),f=f.insert(m,p)):le(tg,"Ignoring outdated watch update for ",m,". Current version:",y.version," Watch version:",p.version)})),{ks:f,qs:o}}))}function II(r,e){const n=Ce(r);return n.persistence.runTransaction("Get next mutation batch","readonly",(s=>(e===void 0&&(e=Bp),n.mutationQueue.getNextMutationBatchAfterBatchId(s,e))))}function NI(r,e){const n=Ce(r);return n.persistence.runTransaction("Allocate target","readwrite",(s=>{let o;return n.Pi.getTargetData(s,e).next((u=>u?(o=u,te.resolve(o)):n.Pi.allocateTargetId(s).next((f=>(o=new ss(e,f,"TargetPurposeListen",s.currentSequenceNumber),n.Pi.addTargetData(s,o).next((()=>o)))))))})).then((s=>{const o=n.Ms.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(s.targetId,s),n.xs.set(e,s.targetId)),s}))}async function dp(r,e,n){const s=Ce(r),o=s.Ms.get(e),u=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",u,(f=>s.persistence.referenceDelegate.removeTarget(f,o)))}catch(f){if(!ko(f))throw f;le(tg,`Failed to update sequence numbers for target ${e}: ${f}`)}s.Ms=s.Ms.remove(e),s.xs.delete(o.target)}function mE(r,e,n){const s=Ce(r);let o=we.min(),u=je();return s.persistence.runTransaction("Execute query","readwrite",(f=>(function(p,y,E){const S=Ce(p),R=S.xs.get(E);return R!==void 0?te.resolve(S.Ms.get(R)):S.Pi.getTargetData(y,E)})(s,f,Mi(e)).next((m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,s.Pi.getMatchingKeysForTargetId(f,m.targetId).next((p=>{u=p}))})).next((()=>s.Fs.getDocumentsMatchingQuery(f,e,n?o:we.min(),n?u:je()))).next((m=>(DI(s,gx(e),m),{documents:m,Qs:u})))))}function DI(r,e,n){let s=r.Os.get(e)||we.min();n.forEach(((o,u)=>{u.readTime.compareTo(s)>0&&(s=u.readTime)})),r.Os.set(e,s)}class pE{constructor(){this.activeTargetIds=bx()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class OI{constructor(){this.Mo=new pE,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,s){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,s){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new pE,Promise.resolve()}handleUserChange(e,n,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class MI{Oo(e){}shutdown(){}}const gE="ConnectivityMonitor";class yE{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){le(gE,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){le(gE,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let mh=null;function mp(){return mh===null?mh=(function(){return 268435456+Math.round(2147483648*Math.random())})():mh++,"0x"+mh.toString(16)}const Um="RestConnection",VI={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class kI{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${s}/databases/${o}`,this.Wo=this.databaseId.database===Ph?`project_id=${s}`:`project_id=${s}&database_id=${o}`}Go(e,n,s,o,u){const f=mp(),m=this.zo(e,n.toUriEncodedString());le(Um,`Sending RPC '${e}' ${f}:`,m,s);const p={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(p,o,u);const{host:y}=new URL(m),E=No(y);return this.Jo(e,m,p,s,E).then((S=>(le(Um,`Received RPC '${e}' ${f}: `,S),S)),(S=>{throw So(Um,`RPC '${e}' ${f} failed with error: `,S,"url: ",m,"request:",s),S}))}Ho(e,n,s,o,u,f){return this.Go(e,n,s,o,u)}jo(e,n,s){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Mo})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((o,u)=>e[u]=o)),s&&s.headers.forEach(((o,u)=>e[u]=o))}zo(e,n){const s=VI[e];return`${this.Uo}/v1/${n}:${s}`}terminate(){}}class LI{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}const Xt="WebChannelConnection";class PI extends kI{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,s,o,u){const f=mp();return new Promise(((m,p)=>{const y=new FT;y.setWithCredentials(!0),y.listenOnce(GT.COMPLETE,(()=>{try{switch(y.getLastErrorCode()){case Th.NO_ERROR:const S=y.getResponseJson();le(Xt,`XHR for RPC '${e}' ${f} received:`,JSON.stringify(S)),m(S);break;case Th.TIMEOUT:le(Xt,`RPC '${e}' ${f} timed out`),p(new ue(ee.DEADLINE_EXCEEDED,"Request time out"));break;case Th.HTTP_ERROR:const R=y.getStatus();if(le(Xt,`RPC '${e}' ${f} failed with status:`,R,"response text:",y.getResponseText()),R>0){let O=y.getResponseJson();Array.isArray(O)&&(O=O[0]);const B=O?.error;if(B&&B.status&&B.message){const Y=(function(se){const ie=se.toLowerCase().replace(/_/g,"-");return Object.values(ee).indexOf(ie)>=0?ie:ee.UNKNOWN})(B.status);p(new ue(Y,B.message))}else p(new ue(ee.UNKNOWN,"Server responded with status "+y.getStatus()))}else p(new ue(ee.UNAVAILABLE,"Connection failed."));break;default:be(9055,{l_:e,streamId:f,h_:y.getLastErrorCode(),P_:y.getLastError()})}}finally{le(Xt,`RPC '${e}' ${f} completed.`)}}));const E=JSON.stringify(o);le(Xt,`RPC '${e}' ${f} sending request:`,o),y.send(n,"POST",E,s,15)}))}T_(e,n,s){const o=mp(),u=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],f=YT(),m=QT(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},y=this.longPollingOptions.timeoutSeconds;y!==void 0&&(p.longPollingTimeout=Math.round(1e3*y)),this.useFetchStreams&&(p.useFetchStreams=!0),this.jo(p.initMessageHeaders,n,s),p.encodeInitMessageHeaders=!0;const E=u.join("");le(Xt,`Creating RPC '${e}' stream ${o}: ${E}`,p);const S=f.createWebChannel(E,p);this.I_(S);let R=!1,O=!1;const B=new LI({Yo:$=>{O?le(Xt,`Not sending because RPC '${e}' stream ${o} is closed:`,$):(R||(le(Xt,`Opening RPC '${e}' stream ${o} transport.`),S.open(),R=!0),le(Xt,`RPC '${e}' stream ${o} sending:`,$),S.send($))},Zo:()=>S.close()}),Y=($,se,ie)=>{$.listen(se,(re=>{try{ie(re)}catch(ge){setTimeout((()=>{throw ge}),0)}}))};return Y(S,Fl.EventType.OPEN,(()=>{O||(le(Xt,`RPC '${e}' stream ${o} transport opened.`),B.o_())})),Y(S,Fl.EventType.CLOSE,(()=>{O||(O=!0,le(Xt,`RPC '${e}' stream ${o} transport closed`),B.a_(),this.E_(S))})),Y(S,Fl.EventType.ERROR,($=>{O||(O=!0,So(Xt,`RPC '${e}' stream ${o} transport errored. Name:`,$.name,"Message:",$.message),B.a_(new ue(ee.UNAVAILABLE,"The operation could not be completed")))})),Y(S,Fl.EventType.MESSAGE,($=>{if(!O){const se=$.data[0];Xe(!!se,16349);const ie=se,re=ie?.error||ie[0]?.error;if(re){le(Xt,`RPC '${e}' stream ${o} received error:`,re);const ge=re.status;let ce=(function(w){const I=It[w];if(I!==void 0)return Ib(I)})(ge),pe=re.message;ce===void 0&&(ce=ee.INTERNAL,pe="Unknown error status: "+ge+" with message "+re.message),O=!0,B.a_(new ue(ce,pe)),S.close()}else le(Xt,`RPC '${e}' stream ${o} received:`,se),B.u_(se)}})),Y(m,$T.STAT_EVENT,($=>{$.stat===tp.PROXY?le(Xt,`RPC '${e}' stream ${o} detected buffering proxy`):$.stat===tp.NOPROXY&&le(Xt,`RPC '${e}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{B.__()}),0),B}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((n=>n===e))}}function jm(){return typeof document<"u"?document:null}function hf(r){return new Bx(r,!0)}class Hb{constructor(e,n,s=1e3,o=1.5,u=6e4){this.Mi=e,this.timerId=n,this.d_=s,this.A_=o,this.R_=u,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),s=Math.max(0,Date.now()-this.f_),o=Math.max(0,n-s);o>0&&le("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const _E="PersistentStream";class Fb{constructor(e,n,s,o,u,f,m,p){this.Mi=e,this.S_=s,this.b_=o,this.connection=u,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=m,this.listener=p,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new Hb(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===ee.RESOURCE_EXHAUSTED?(mr(n.toString()),mr("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===ee.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,o])=>{this.D_===n&&this.G_(s,o)}),(s=>{e((()=>{const o=new ue(ee.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(o)}))}))}G_(e,n){const s=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo((()=>{s((()=>this.listener.Xo()))})),this.stream.t_((()=>{s((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((o=>{s((()=>this.z_(o)))})),this.stream.onMessage((o=>{s((()=>++this.F_==1?this.J_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return le(_E,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget((()=>this.D_===e?n():(le(_E,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class UI extends Fb{constructor(e,n,s,o,u,f){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,o,f),this.serializer=u}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=Fx(this.serializer,e),s=(function(u){if(!("targetChange"in u))return we.min();const f=u.targetChange;return f.targetIds&&f.targetIds.length?we.min():f.readTime?Vi(f.readTime):we.min()})(e);return this.listener.H_(n,s)}Y_(e){const n={};n.database=fp(this.serializer),n.addTarget=(function(u,f){let m;const p=f.target;if(m=ap(p)?{documents:Qx(u,p)}:{query:Yx(u,p).ft},m.targetId=f.targetId,f.resumeToken.approximateByteSize()>0){m.resumeToken=Ob(u,f.resumeToken);const y=up(u,f.expectedCount);y!==null&&(m.expectedCount=y)}else if(f.snapshotVersion.compareTo(we.min())>0){m.readTime=Hh(u,f.snapshotVersion.toTimestamp());const y=up(u,f.expectedCount);y!==null&&(m.expectedCount=y)}return m})(this.serializer,e);const s=Xx(this.serializer,e);s&&(n.labels=s),this.q_(n)}Z_(e){const n={};n.database=fp(this.serializer),n.removeTarget=e,this.q_(n)}}class jI extends Fb{constructor(e,n,s,o,u,f){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,o,f),this.serializer=u}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return Xe(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Xe(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Xe(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=$x(e.writeResults,e.commitTime),s=Vi(e.commitTime);return this.listener.na(s,n)}ra(){const e={};e.database=fp(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((s=>Gx(this.serializer,s)))};this.q_(n)}}class zI{}class BI extends zI{constructor(e,n,s,o){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=s,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new ue(ee.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,s,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,f])=>this.connection.Go(e,cp(n,s),o,u,f))).catch((u=>{throw u.name==="FirebaseError"?(u.code===ee.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new ue(ee.UNKNOWN,u.toString())}))}Ho(e,n,s,o,u){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([f,m])=>this.connection.Ho(e,cp(n,s),o,f,m,u))).catch((f=>{throw f.name==="FirebaseError"?(f.code===ee.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new ue(ee.UNKNOWN,f.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class qI{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(mr(n),this.aa=!1):le("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const fa="RemoteStore";class HI{constructor(e,n,s,o,u){this.localStore=e,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=u,this.Aa.Oo((f=>{s.enqueueAndForget((async()=>{_a(this)&&(le(fa,"Restarting streams for network reachability change."),await(async function(p){const y=Ce(p);y.Ea.add(4),await Iu(y),y.Ra.set("Unknown"),y.Ea.delete(4),await ff(y)})(this))}))})),this.Ra=new qI(s,o)}}async function ff(r){if(_a(r))for(const e of r.da)await e(!0)}async function Iu(r){for(const e of r.da)await e(!1)}function Gb(r,e){const n=Ce(r);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),sg(n)?rg(n):Lo(n).O_()&&ig(n,e))}function ng(r,e){const n=Ce(r),s=Lo(n);n.Ia.delete(e),s.O_()&&$b(n,e),n.Ia.size===0&&(s.O_()?s.L_():_a(n)&&n.Ra.set("Unknown"))}function ig(r,e){if(r.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(we.min())>0){const n=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Lo(r).Y_(e)}function $b(r,e){r.Va.Ue(e),Lo(r).Z_(e)}function rg(r){r.Va=new Px({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),At:e=>r.Ia.get(e)||null,ht:()=>r.datastore.serializer.databaseId}),Lo(r).start(),r.Ra.ua()}function sg(r){return _a(r)&&!Lo(r).x_()&&r.Ia.size>0}function _a(r){return Ce(r).Ea.size===0}function Qb(r){r.Va=void 0}async function FI(r){r.Ra.set("Online")}async function GI(r){r.Ia.forEach(((e,n)=>{ig(r,e)}))}async function $I(r,e){Qb(r),sg(r)?(r.Ra.ha(e),rg(r)):r.Ra.set("Unknown")}async function QI(r,e,n){if(r.Ra.set("Online"),e instanceof Db&&e.state===2&&e.cause)try{await(async function(o,u){const f=u.cause;for(const m of u.targetIds)o.Ia.has(m)&&(await o.remoteSyncer.rejectListen(m,f),o.Ia.delete(m),o.Va.removeTarget(m))})(r,e)}catch(s){le(fa,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await Gh(r,s)}else if(e instanceof wh?r.Va.Ze(e):e instanceof Nb?r.Va.st(e):r.Va.tt(e),!n.isEqual(we.min()))try{const s=await qb(r.localStore);n.compareTo(s)>=0&&await(function(u,f){const m=u.Va.Tt(f);return m.targetChanges.forEach(((p,y)=>{if(p.resumeToken.approximateByteSize()>0){const E=u.Ia.get(y);E&&u.Ia.set(y,E.withResumeToken(p.resumeToken,f))}})),m.targetMismatches.forEach(((p,y)=>{const E=u.Ia.get(p);if(!E)return;u.Ia.set(p,E.withResumeToken(Yt.EMPTY_BYTE_STRING,E.snapshotVersion)),$b(u,p);const S=new ss(E.target,p,y,E.sequenceNumber);ig(u,S)})),u.remoteSyncer.applyRemoteEvent(m)})(r,n)}catch(s){le(fa,"Failed to raise snapshot:",s),await Gh(r,s)}}async function Gh(r,e,n){if(!ko(e))throw e;r.Ea.add(1),await Iu(r),r.Ra.set("Offline"),n||(n=()=>qb(r.localStore)),r.asyncQueue.enqueueRetryable((async()=>{le(fa,"Retrying IndexedDB access"),await n(),r.Ea.delete(1),await ff(r)}))}function Yb(r,e){return e().catch((n=>Gh(r,n,e)))}async function df(r){const e=Ce(r),n=Es(e);let s=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Bp;for(;YI(e);)try{const o=await II(e.localStore,s);if(o===null){e.Ta.length===0&&n.L_();break}s=o.batchId,KI(e,o)}catch(o){await Gh(e,o)}Kb(e)&&Xb(e)}function YI(r){return _a(r)&&r.Ta.length<10}function KI(r,e){r.Ta.push(e);const n=Es(r);n.O_()&&n.X_&&n.ea(e.mutations)}function Kb(r){return _a(r)&&!Es(r).x_()&&r.Ta.length>0}function Xb(r){Es(r).start()}async function XI(r){Es(r).ra()}async function ZI(r){const e=Es(r);for(const n of r.Ta)e.ea(n.mutations)}async function JI(r,e,n){const s=r.Ta.shift(),o=Kp.from(s,e,n);await Yb(r,(()=>r.remoteSyncer.applySuccessfulWrite(o))),await df(r)}async function WI(r,e){e&&Es(r).X_&&await(async function(s,o){if((function(f){return Vx(f)&&f!==ee.ABORTED})(o.code)){const u=s.Ta.shift();Es(s).B_(),await Yb(s,(()=>s.remoteSyncer.rejectFailedWrite(u.batchId,o))),await df(s)}})(r,e),Kb(r)&&Xb(r)}async function vE(r,e){const n=Ce(r);n.asyncQueue.verifyOperationInProgress(),le(fa,"RemoteStore received new credentials");const s=_a(n);n.Ea.add(3),await Iu(n),s&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await ff(n)}async function eN(r,e){const n=Ce(r);e?(n.Ea.delete(2),await ff(n)):e||(n.Ea.add(2),await Iu(n),n.Ra.set("Unknown"))}function Lo(r){return r.ma||(r.ma=(function(n,s,o){const u=Ce(n);return u.sa(),new UI(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(r.datastore,r.asyncQueue,{Xo:FI.bind(null,r),t_:GI.bind(null,r),r_:$I.bind(null,r),H_:QI.bind(null,r)}),r.da.push((async e=>{e?(r.ma.B_(),sg(r)?rg(r):r.Ra.set("Unknown")):(await r.ma.stop(),Qb(r))}))),r.ma}function Es(r){return r.fa||(r.fa=(function(n,s,o){const u=Ce(n);return u.sa(),new jI(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(r.datastore,r.asyncQueue,{Xo:()=>Promise.resolve(),t_:XI.bind(null,r),r_:WI.bind(null,r),ta:ZI.bind(null,r),na:JI.bind(null,r)}),r.da.push((async e=>{e?(r.fa.B_(),await df(r)):(await r.fa.stop(),r.Ta.length>0&&(le(fa,`Stopping write stream with ${r.Ta.length} pending writes`),r.Ta=[]))}))),r.fa}class ag{constructor(e,n,s,o,u){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=s,this.op=o,this.removalCallback=u,this.deferred=new fs,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((f=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,s,o,u){const f=Date.now()+s,m=new ag(e,n,f,o,u);return m.start(s),m}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ue(ee.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function og(r,e){if(mr("AsyncQueue",`${e}: ${r}`),ko(r))return new ue(ee.UNAVAILABLE,`${e}: ${r}`);throw r}class Eo{static emptySet(e){return new Eo(e.comparator)}constructor(e){this.comparator=e?(n,s)=>e(n,s)||ve.comparator(n.key,s.key):(n,s)=>ve.comparator(n.key,s.key),this.keyedMap=Gl(),this.sortedSet=new ft(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,s)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Eo)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const s=new Eo;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=n,s}}class EE{constructor(){this.ga=new ft(ve.comparator)}track(e){const n=e.doc.key,s=this.ga.get(n);s?e.type!==0&&s.type===3?this.ga=this.ga.insert(n,e):e.type===3&&s.type!==1?this.ga=this.ga.insert(n,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.ga=this.ga.remove(n):e.type===1&&s.type===2?this.ga=this.ga.insert(n,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):be(63341,{Rt:e,pa:s}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,s)=>{e.push(s)})),e}}class xo{constructor(e,n,s,o,u,f,m,p,y){this.query=e,this.docs=n,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=u,this.fromCache=f,this.syncStateChanged=m,this.excludesMetadataChanges=p,this.hasCachedResults=y}static fromInitialDocuments(e,n,s,o,u){const f=[];return n.forEach((m=>{f.push({type:0,doc:m})})),new xo(e,n,Eo.emptySet(n),f,s,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&af(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,s=e.docChanges;if(n.length!==s.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==s[o].type||!n[o].doc.isEqual(s[o].doc))return!1;return!0}}class tN{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class nN{constructor(){this.queries=TE(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,s){const o=Ce(n),u=o.queries;o.queries=TE(),u.forEach(((f,m)=>{for(const p of m.Sa)p.onError(s)}))})(this,new ue(ee.ABORTED,"Firestore shutting down"))}}function TE(){return new ga((r=>yb(r)),af)}async function Zb(r,e){const n=Ce(r);let s=3;const o=e.query;let u=n.queries.get(o);u?!u.ba()&&e.Da()&&(s=2):(u=new tN,s=e.Da()?0:1);try{switch(s){case 0:u.wa=await n.onListen(o,!0);break;case 1:u.wa=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(f){const m=og(f,`Initialization of query '${fo(e.query)}' failed`);return void e.onError(m)}n.queries.set(o,u),u.Sa.push(e),e.va(n.onlineState),u.wa&&e.Fa(u.wa)&&lg(n)}async function Jb(r,e){const n=Ce(r),s=e.query;let o=3;const u=n.queries.get(s);if(u){const f=u.Sa.indexOf(e);f>=0&&(u.Sa.splice(f,1),u.Sa.length===0?o=e.Da()?0:1:!u.ba()&&e.Da()&&(o=2))}switch(o){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function iN(r,e){const n=Ce(r);let s=!1;for(const o of e){const u=o.query,f=n.queries.get(u);if(f){for(const m of f.Sa)m.Fa(o)&&(s=!0);f.wa=o}}s&&lg(n)}function rN(r,e,n){const s=Ce(r),o=s.queries.get(e);if(o)for(const u of o.Sa)u.onError(n);s.queries.delete(e)}function lg(r){r.Ca.forEach((e=>{e.next()}))}var pp,bE;(bE=pp||(pp={})).Ma="default",bE.Cache="cache";class Wb{constructor(e,n,s){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(e){if(!this.options.includeMetadataChanges){const s=[];for(const o of e.docChanges)o.type!==3&&s.push(o);e=new xo(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const s=n!=="Offline";return(!this.options.qa||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=xo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==pp.Cache}}class e1{constructor(e){this.key=e}}class t1{constructor(e){this.key=e}}class sN{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=je(),this.mutatedKeys=je(),this.eu=_b(e),this.tu=new Eo(this.eu)}get nu(){return this.Ya}ru(e,n){const s=n?n.iu:new EE,o=n?n.tu:this.tu;let u=n?n.mutatedKeys:this.mutatedKeys,f=o,m=!1;const p=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,y=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((E,S)=>{const R=o.get(E),O=of(this.query,S)?S:null,B=!!R&&this.mutatedKeys.has(R.key),Y=!!O&&(O.hasLocalMutations||this.mutatedKeys.has(O.key)&&O.hasCommittedMutations);let $=!1;R&&O?R.data.isEqual(O.data)?B!==Y&&(s.track({type:3,doc:O}),$=!0):this.su(R,O)||(s.track({type:2,doc:O}),$=!0,(p&&this.eu(O,p)>0||y&&this.eu(O,y)<0)&&(m=!0)):!R&&O?(s.track({type:0,doc:O}),$=!0):R&&!O&&(s.track({type:1,doc:R}),$=!0,(p||y)&&(m=!0)),$&&(O?(f=f.add(O),u=Y?u.add(E):u.delete(E)):(f=f.delete(E),u=u.delete(E)))})),this.query.limit!==null)for(;f.size>this.query.limit;){const E=this.query.limitType==="F"?f.last():f.first();f=f.delete(E.key),u=u.delete(E.key),s.track({type:1,doc:E})}return{tu:f,iu:s,Cs:m,mutatedKeys:u}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,s,o){const u=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const f=e.iu.ya();f.sort(((E,S)=>(function(O,B){const Y=$=>{switch($){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return be(20277,{Rt:$})}};return Y(O)-Y(B)})(E.type,S.type)||this.eu(E.doc,S.doc))),this.ou(s),o=o??!1;const m=n&&!o?this._u():[],p=this.Xa.size===0&&this.current&&!o?1:0,y=p!==this.Za;return this.Za=p,f.length!==0||y?{snapshot:new xo(this.query,e.tu,u,f,e.mutatedKeys,p===0,y,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:m}:{au:m}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new EE,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=je(),this.tu.forEach((s=>{this.uu(s.key)&&(this.Xa=this.Xa.add(s.key))}));const n=[];return e.forEach((s=>{this.Xa.has(s)||n.push(new t1(s))})),this.Xa.forEach((s=>{e.has(s)||n.push(new e1(s))})),n}cu(e){this.Ya=e.Qs,this.Xa=je();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return xo.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const ug="SyncEngine";class aN{constructor(e,n,s){this.query=e,this.targetId=n,this.view=s}}class oN{constructor(e){this.key=e,this.hu=!1}}class lN{constructor(e,n,s,o,u,f){this.localStore=e,this.remoteStore=n,this.eventManager=s,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=f,this.Pu={},this.Tu=new ga((m=>yb(m)),af),this.Iu=new Map,this.Eu=new Set,this.du=new ft(ve.comparator),this.Au=new Map,this.Ru=new Jp,this.Vu={},this.mu=new Map,this.fu=Co.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function uN(r,e,n=!0){const s=o1(r);let o;const u=s.Tu.get(e);return u?(s.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.lu()):o=await n1(s,e,n,!0),o}async function cN(r,e){const n=o1(r);await n1(n,e,!0,!1)}async function n1(r,e,n,s){const o=await NI(r.localStore,Mi(e)),u=o.targetId,f=r.sharedClientState.addLocalQueryTarget(u,n);let m;return s&&(m=await hN(r,e,u,f==="current",o.resumeToken)),r.isPrimaryClient&&n&&Gb(r.remoteStore,o),m}async function hN(r,e,n,s,o){r.pu=(S,R,O)=>(async function(Y,$,se,ie){let re=$.view.ru(se);re.Cs&&(re=await mE(Y.localStore,$.query,!1).then((({documents:x})=>$.view.ru(x,re))));const ge=ie&&ie.targetChanges.get($.targetId),ce=ie&&ie.targetMismatches.get($.targetId)!=null,pe=$.view.applyChanges(re,Y.isPrimaryClient,ge,ce);return AE(Y,$.targetId,pe.au),pe.snapshot})(r,S,R,O);const u=await mE(r.localStore,e,!0),f=new sN(e,u.Qs),m=f.ru(u.documents),p=xu.createSynthesizedTargetChangeForCurrentChange(n,s&&r.onlineState!=="Offline",o),y=f.applyChanges(m,r.isPrimaryClient,p);AE(r,n,y.au);const E=new aN(e,n,f);return r.Tu.set(e,E),r.Iu.has(n)?r.Iu.get(n).push(e):r.Iu.set(n,[e]),y.snapshot}async function fN(r,e,n){const s=Ce(r),o=s.Tu.get(e),u=s.Iu.get(o.targetId);if(u.length>1)return s.Iu.set(o.targetId,u.filter((f=>!af(f,e)))),void s.Tu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await dp(s.localStore,o.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(o.targetId),n&&ng(s.remoteStore,o.targetId),gp(s,o.targetId)})).catch(Vo)):(gp(s,o.targetId),await dp(s.localStore,o.targetId,!0))}async function dN(r,e){const n=Ce(r),s=n.Tu.get(e),o=n.Iu.get(s.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),ng(n.remoteStore,s.targetId))}async function mN(r,e,n){const s=TN(r);try{const o=await(function(f,m){const p=Ce(f),y=et.now(),E=m.reduce(((O,B)=>O.add(B.key)),je());let S,R;return p.persistence.runTransaction("Locally write mutations","readwrite",(O=>{let B=pr(),Y=je();return p.Ns.getEntries(O,E).next(($=>{B=$,B.forEach(((se,ie)=>{ie.isValidDocument()||(Y=Y.add(se))}))})).next((()=>p.localDocuments.getOverlayedDocuments(O,B))).next(($=>{S=$;const se=[];for(const ie of m){const re=Ix(ie,S.get(ie.key).overlayedDocument);re!=null&&se.push(new ya(ie.key,re,ub(re.value.mapValue),ri.exists(!0)))}return p.mutationQueue.addMutationBatch(O,y,se,m)})).next(($=>{R=$;const se=$.applyToLocalDocumentSet(S,Y);return p.documentOverlayCache.saveOverlays(O,$.batchId,se)}))})).then((()=>({batchId:R.batchId,changes:Eb(S)})))})(s.localStore,e);s.sharedClientState.addPendingMutation(o.batchId),(function(f,m,p){let y=f.Vu[f.currentUser.toKey()];y||(y=new ft(Ue)),y=y.insert(m,p),f.Vu[f.currentUser.toKey()]=y})(s,o.batchId,n),await Nu(s,o.changes),await df(s.remoteStore)}catch(o){const u=og(o,"Failed to persist write");n.reject(u)}}async function i1(r,e){const n=Ce(r);try{const s=await CI(n.localStore,e);e.targetChanges.forEach(((o,u)=>{const f=n.Au.get(u);f&&(Xe(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?f.hu=!0:o.modifiedDocuments.size>0?Xe(f.hu,14607):o.removedDocuments.size>0&&(Xe(f.hu,42227),f.hu=!1))})),await Nu(n,s,e)}catch(s){await Vo(s)}}function SE(r,e,n){const s=Ce(r);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const o=[];s.Tu.forEach(((u,f)=>{const m=f.view.va(e);m.snapshot&&o.push(m.snapshot)})),(function(f,m){const p=Ce(f);p.onlineState=m;let y=!1;p.queries.forEach(((E,S)=>{for(const R of S.Sa)R.va(m)&&(y=!0)})),y&&lg(p)})(s.eventManager,e),o.length&&s.Pu.H_(o),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function pN(r,e,n){const s=Ce(r);s.sharedClientState.updateQueryState(e,"rejected",n);const o=s.Au.get(e),u=o&&o.key;if(u){let f=new ft(ve.comparator);f=f.insert(u,Jt.newNoDocument(u,we.min()));const m=je().add(u),p=new cf(we.min(),new Map,new ft(Ue),f,m);await i1(s,p),s.du=s.du.remove(u),s.Au.delete(e),cg(s)}else await dp(s.localStore,e,!1).then((()=>gp(s,e,n))).catch(Vo)}async function gN(r,e){const n=Ce(r),s=e.batch.batchId;try{const o=await RI(n.localStore,e);s1(n,s,null),r1(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await Nu(n,o)}catch(o){await Vo(o)}}async function yN(r,e,n){const s=Ce(r);try{const o=await(function(f,m){const p=Ce(f);return p.persistence.runTransaction("Reject batch","readwrite-primary",(y=>{let E;return p.mutationQueue.lookupMutationBatch(y,m).next((S=>(Xe(S!==null,37113),E=S.keys(),p.mutationQueue.removeMutationBatch(y,S)))).next((()=>p.mutationQueue.performConsistencyCheck(y))).next((()=>p.documentOverlayCache.removeOverlaysForBatchId(y,E,m))).next((()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,E))).next((()=>p.localDocuments.getDocuments(y,E)))}))})(s.localStore,e);s1(s,e,n),r1(s,e),s.sharedClientState.updateMutationState(e,"rejected",n),await Nu(s,o)}catch(o){await Vo(o)}}function r1(r,e){(r.mu.get(e)||[]).forEach((n=>{n.resolve()})),r.mu.delete(e)}function s1(r,e,n){const s=Ce(r);let o=s.Vu[s.currentUser.toKey()];if(o){const u=o.get(e);u&&(n?u.reject(n):u.resolve(),o=o.remove(e)),s.Vu[s.currentUser.toKey()]=o}}function gp(r,e,n=null){r.sharedClientState.removeLocalQueryTarget(e);for(const s of r.Iu.get(e))r.Tu.delete(s),n&&r.Pu.yu(s,n);r.Iu.delete(e),r.isPrimaryClient&&r.Ru.jr(e).forEach((s=>{r.Ru.containsKey(s)||a1(r,s)}))}function a1(r,e){r.Eu.delete(e.path.canonicalString());const n=r.du.get(e);n!==null&&(ng(r.remoteStore,n),r.du=r.du.remove(e),r.Au.delete(n),cg(r))}function AE(r,e,n){for(const s of n)s instanceof e1?(r.Ru.addReference(s.key,e),_N(r,s)):s instanceof t1?(le(ug,"Document no longer in limbo: "+s.key),r.Ru.removeReference(s.key,e),r.Ru.containsKey(s.key)||a1(r,s.key)):be(19791,{wu:s})}function _N(r,e){const n=e.key,s=n.path.canonicalString();r.du.get(n)||r.Eu.has(s)||(le(ug,"New document in limbo: "+n),r.Eu.add(s),cg(r))}function cg(r){for(;r.Eu.size>0&&r.du.size<r.maxConcurrentLimboResolutions;){const e=r.Eu.values().next().value;r.Eu.delete(e);const n=new ve(ot.fromString(e)),s=r.fu.next();r.Au.set(s,new oN(n)),r.du=r.du.insert(n,s),Gb(r.remoteStore,new ss(Mi($p(n.path)),s,"TargetPurposeLimboResolution",nf.ce))}}async function Nu(r,e,n){const s=Ce(r),o=[],u=[],f=[];s.Tu.isEmpty()||(s.Tu.forEach(((m,p)=>{f.push(s.pu(p,e,n).then((y=>{if((y||n)&&s.isPrimaryClient){const E=y?!y.fromCache:n?.targetChanges.get(p.targetId)?.current;s.sharedClientState.updateQueryState(p.targetId,E?"current":"not-current")}if(y){o.push(y);const E=eg.As(p.targetId,y);u.push(E)}})))})),await Promise.all(f),s.Pu.H_(o),await(async function(p,y){const E=Ce(p);try{await E.persistence.runTransaction("notifyLocalViewChanges","readwrite",(S=>te.forEach(y,(R=>te.forEach(R.Es,(O=>E.persistence.referenceDelegate.addReference(S,R.targetId,O))).next((()=>te.forEach(R.ds,(O=>E.persistence.referenceDelegate.removeReference(S,R.targetId,O)))))))))}catch(S){if(!ko(S))throw S;le(tg,"Failed to update sequence numbers: "+S)}for(const S of y){const R=S.targetId;if(!S.fromCache){const O=E.Ms.get(R),B=O.snapshotVersion,Y=O.withLastLimboFreeSnapshotVersion(B);E.Ms=E.Ms.insert(R,Y)}}})(s.localStore,u))}async function vN(r,e){const n=Ce(r);if(!n.currentUser.isEqual(e)){le(ug,"User change. New user:",e.toKey());const s=await Bb(n.localStore,e);n.currentUser=e,(function(u,f){u.mu.forEach((m=>{m.forEach((p=>{p.reject(new ue(ee.CANCELLED,f))}))})),u.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await Nu(n,s.Ls)}}function EN(r,e){const n=Ce(r),s=n.Au.get(e);if(s&&s.hu)return je().add(s.key);{let o=je();const u=n.Iu.get(e);if(!u)return o;for(const f of u){const m=n.Tu.get(f);o=o.unionWith(m.view.nu)}return o}}function o1(r){const e=Ce(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=i1.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=EN.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=pN.bind(null,e),e.Pu.H_=iN.bind(null,e.eventManager),e.Pu.yu=rN.bind(null,e.eventManager),e}function TN(r){const e=Ce(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=gN.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=yN.bind(null,e),e}class $h{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=hf(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return wI(this.persistence,new bI,e.initialUser,this.serializer)}Cu(e){return new zb(Wp.mi,this.serializer)}Du(e){return new OI}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}$h.provider={build:()=>new $h};class bN extends $h{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){Xe(this.persistence.referenceDelegate instanceof Fh,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new oI(s,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?hn.withCacheSize(this.cacheSizeBytes):hn.DEFAULT;return new zb((s=>Fh.mi(s,n)),this.serializer)}}class yp{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>SE(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=vN.bind(null,this.syncEngine),await eN(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new nN})()}createDatastore(e){const n=hf(e.databaseInfo.databaseId),s=(function(u){return new PI(u)})(e.databaseInfo);return(function(u,f,m,p){return new BI(u,f,m,p)})(e.authCredentials,e.appCheckCredentials,s,n)}createRemoteStore(e){return(function(s,o,u,f,m){return new HI(s,o,u,f,m)})(this.localStore,this.datastore,e.asyncQueue,(n=>SE(this.syncEngine,n,0)),(function(){return yE.v()?new yE:new MI})())}createSyncEngine(e,n){return(function(o,u,f,m,p,y,E){const S=new lN(o,u,f,m,p,y);return E&&(S.gu=!0),S})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const s=Ce(n);le(fa,"RemoteStore shutting down."),s.Ea.add(5),await Iu(s),s.Aa.shutdown(),s.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}yp.provider={build:()=>new yp};class l1{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):mr("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}const Ts="FirestoreClient";class SN{constructor(e,n,s,o,u){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=o,this.user=Zt.UNAUTHENTICATED,this.clientId=zp.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(s,(async f=>{le(Ts,"Received user=",f.uid),await this.authCredentialListener(f),this.user=f})),this.appCheckCredentials.start(s,(f=>(le(Ts,"Received new app check token=",f),this.appCheckCredentialListener(f,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new fs;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const s=og(n,"Failed to shutdown persistence");e.reject(s)}})),e.promise}}async function zm(r,e){r.asyncQueue.verifyOperationInProgress(),le(Ts,"Initializing OfflineComponentProvider");const n=r.configuration;await e.initialize(n);let s=n.initialUser;r.setCredentialChangeListener((async o=>{s.isEqual(o)||(await Bb(e.localStore,o),s=o)})),e.persistence.setDatabaseDeletedListener((()=>r.terminate())),r._offlineComponents=e}async function wE(r,e){r.asyncQueue.verifyOperationInProgress();const n=await AN(r);le(Ts,"Initializing OnlineComponentProvider"),await e.initialize(n,r.configuration),r.setCredentialChangeListener((s=>vE(e.remoteStore,s))),r.setAppCheckTokenChangeListener(((s,o)=>vE(e.remoteStore,o))),r._onlineComponents=e}async function AN(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){le(Ts,"Using user provided OfflineComponentProvider");try{await zm(r,r._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(o){return o.name==="FirebaseError"?o.code===ee.FAILED_PRECONDITION||o.code===ee.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(n))throw n;So("Error using user provided cache. Falling back to memory cache: "+n),await zm(r,new $h)}}else le(Ts,"Using default OfflineComponentProvider"),await zm(r,new bN(void 0));return r._offlineComponents}async function u1(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(le(Ts,"Using user provided OnlineComponentProvider"),await wE(r,r._uninitializedComponentsProvider._online)):(le(Ts,"Using default OnlineComponentProvider"),await wE(r,new yp))),r._onlineComponents}function wN(r){return u1(r).then((e=>e.syncEngine))}async function _p(r){const e=await u1(r),n=e.eventManager;return n.onListen=uN.bind(null,e.syncEngine),n.onUnlisten=fN.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=cN.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=dN.bind(null,e.syncEngine),n}function RN(r,e,n={}){const s=new fs;return r.asyncQueue.enqueueAndForget((async()=>(function(u,f,m,p,y){const E=new l1({next:R=>{E.Nu(),f.enqueueAndForget((()=>Jb(u,S))),R.fromCache&&p.source==="server"?y.reject(new ue(ee.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):y.resolve(R)},error:R=>y.reject(R)}),S=new Wb(m,E,{includeMetadataChanges:!0,qa:!0});return Zb(u,S)})(await _p(r),r.asyncQueue,e,n,s))),s.promise}function c1(r){const e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}const RE=new Map;const h1="firestore.googleapis.com",CE=!0;class xE{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new ue(ee.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=h1,this.ssl=CE}else this.host=e.host,this.ssl=e.ssl??CE;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=jb;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<sI)throw new ue(ee.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}HC("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=c1(e.experimentalLongPollingOptions??{}),(function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new ue(ee.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new ue(ee.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new ue(ee.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(s,o){return s.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class mf{constructor(e,n,s,o){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new xE({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ue(ee.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ue(ee.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new xE(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new MC;switch(s.type){case"firstParty":return new PC(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new ue(ee.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const s=RE.get(n);s&&(le("ComponentProvider","Removing Datastore"),RE.delete(n),s.terminate())})(this),Promise.resolve()}}function CN(r,e,n,s={}){r=Oi(r,mf);const o=No(e),u=r._getSettings(),f={...u,emulatorOptions:r._getEmulatorOptions()},m=`${e}:${n}`;o&&(rT(`https://${m}`),sT("Firestore",!0)),u.host!==h1&&u.host!==m&&So("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p={...u,host:m,ssl:o,emulatorOptions:s};if(!ua(p,f)&&(r._setSettings(p),s.mockUserToken)){let y,E;if(typeof s.mockUserToken=="string")y=s.mockUserToken,E=Zt.MOCK_USER;else{y=iw(s.mockUserToken,r._app?.options.projectId);const S=s.mockUserToken.sub||s.mockUserToken.user_id;if(!S)throw new ue(ee.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");E=new Zt(S)}r._authCredentials=new VC(new ZT(y,E))}}class va{constructor(e,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new va(this.firestore,e,this._query)}}class Ot{constructor(e,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ds(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Ot(this.firestore,e,this._key)}toJSON(){return{type:Ot._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,s){if(wu(n,Ot._jsonSchema))return new Ot(e,s||null,new ve(ot.fromString(n.referencePath)))}}Ot._jsonSchemaVersion="firestore/documentReference/1.0",Ot._jsonSchema={type:Dt("string",Ot._jsonSchemaVersion),referencePath:Dt("string")};class ds extends va{constructor(e,n,s){super(e,n,$p(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Ot(this.firestore,null,new ve(e))}withConverter(e){return new ds(this.firestore,e,this._path)}}function sa(r,e,...n){if(r=dn(r),JT("collection","path",e),r instanceof mf){const s=ot.fromString(e,...n);return B0(s),new ds(r,null,s)}{if(!(r instanceof Ot||r instanceof ds))throw new ue(ee.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(ot.fromString(e,...n));return B0(s),new ds(r.firestore,null,s)}}function Po(r,e,...n){if(r=dn(r),arguments.length===1&&(e=zp.newId()),JT("doc","path",e),r instanceof mf){const s=ot.fromString(e,...n);return z0(s),new Ot(r,null,new ve(s))}{if(!(r instanceof Ot||r instanceof ds))throw new ue(ee.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(ot.fromString(e,...n));return z0(s),new Ot(r.firestore,r instanceof ds?r.converter:null,new ve(s))}}const IE="AsyncQueue";class NE{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new Hb(this,"async_queue_retry"),this._c=()=>{const s=jm();s&&le(IE,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=e;const n=jm();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=jm();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new fs;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!ko(e))throw e;le(IE,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((s=>{throw this.nc=s,this.rc=!1,mr("INTERNAL UNHANDLED ERROR: ",DE(s)),s})).then((s=>(this.rc=!1,s))))));return this.ac=n,n}enqueueAfterDelay(e,n,s){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const o=ag.createAndSchedule(this,e,n,s,(u=>this.hc(u)));return this.tc.push(o),o}uc(){this.nc&&be(47125,{Pc:DE(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,s)=>n.targetTimeMs-s.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function DE(r){let e=r.message||"";return r.stack&&(e=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),e}function OE(r){return(function(n,s){if(typeof n!="object"||n===null)return!1;const o=n;for(const u of s)if(u in o&&typeof o[u]=="function")return!0;return!1})(r,["next","error","complete"])}class da extends mf{constructor(e,n,s,o){super(e,n,s,o),this.type="firestore",this._queue=new NE,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new NE(e),this._firestoreClient=void 0,await e}}}function vp(r,e){const n=typeof r=="object"?r:lT(),s=typeof r=="string"?r:Ph,o=Np(n,"firestore").getImmediate({identifier:s});if(!o._initialized){const u=tw("firestore");u&&CN(o,...u)}return o}function hg(r){if(r._terminated)throw new ue(ee.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||xN(r),r._firestoreClient}function xN(r){const e=r._freezeSettings(),n=(function(o,u,f,m){return new ex(o,u,f,m.host,m.ssl,m.experimentalForceLongPolling,m.experimentalAutoDetectLongPolling,c1(m.experimentalLongPollingOptions),m.useFetchStreams,m.isUsingEmulator)})(r._databaseId,r._app?.options.appId||"",r._persistenceKey,e);r._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(r._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),r._firestoreClient=new SN(r._authCredentials,r._appCheckCredentials,r._queue,n,r._componentsProvider&&(function(o){const u=o?._online.build();return{_offline:o?._offline.build(u),_online:u}})(r._componentsProvider))}class zn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new zn(Yt.fromBase64String(e))}catch(n){throw new ue(ee.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new zn(Yt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:zn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(wu(e,zn._jsonSchema))return zn.fromBase64String(e.bytes)}}zn._jsonSchemaVersion="firestore/bytes/1.0",zn._jsonSchema={type:Dt("string",zn._jsonSchemaVersion),bytes:Dt("string")};class fg{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new ue(ee.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Qt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class f1{constructor(e){this._methodName=e}}class ki{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new ue(ee.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new ue(ee.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Ue(this._lat,e._lat)||Ue(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:ki._jsonSchemaVersion}}static fromJSON(e){if(wu(e,ki._jsonSchema))return new ki(e.latitude,e.longitude)}}ki._jsonSchemaVersion="firestore/geoPoint/1.0",ki._jsonSchema={type:Dt("string",ki._jsonSchemaVersion),latitude:Dt("number"),longitude:Dt("number")};class Li{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(s,o){if(s.length!==o.length)return!1;for(let u=0;u<s.length;++u)if(s[u]!==o[u])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Li._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(wu(e,Li._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new Li(e.vectorValues);throw new ue(ee.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Li._jsonSchemaVersion="firestore/vectorValue/1.0",Li._jsonSchema={type:Dt("string",Li._jsonSchemaVersion),vectorValues:Dt("object")};const IN=/^__.*__$/;class NN{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return this.fieldMask!==null?new ya(e,this.data,this.fieldMask,n,this.fieldTransforms):new Cu(e,this.data,n,this.fieldTransforms)}}function d1(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw be(40011,{Ac:r})}}class dg{constructor(e,n,s,o,u,f){this.settings=e,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=o,u===void 0&&this.Rc(),this.fieldTransforms=u||[],this.fieldMask=f||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new dg({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const n=this.path?.child(e),s=this.Vc({path:n,fc:!1});return s.gc(e),s}yc(e){const n=this.path?.child(e),s=this.Vc({path:n,fc:!1});return s.Rc(),s}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Qh(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(d1(this.Ac)&&IN.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class DN{constructor(e,n,s){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=s||hf(e)}Cc(e,n,s,o=!1){return new dg({Ac:e,methodName:n,Dc:s,path:Qt.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function mg(r){const e=r._freezeSettings(),n=hf(r._databaseId);return new DN(r._databaseId,!!e.ignoreUndefinedProperties,n)}function m1(r,e,n,s,o,u={}){const f=r.Cc(u.merge||u.mergeFields?2:0,e,n,o);y1("Data must be an object, but it was:",f,s);const m=p1(s,f);let p,y;if(u.merge)p=new ni(f.fieldMask),y=f.fieldTransforms;else if(u.mergeFields){const E=[];for(const S of u.mergeFields){const R=MN(e,S,n);if(!f.contains(R))throw new ue(ee.INVALID_ARGUMENT,`Field '${R}' is specified in your field mask but missing from your input data.`);kN(E,R)||E.push(R)}p=new ni(E),y=f.fieldTransforms.filter((S=>p.covers(S.field)))}else p=null,y=f.fieldTransforms;return new NN(new jn(m),p,y)}function ON(r,e,n,s=!1){return pg(n,r.Cc(s?4:3,e))}function pg(r,e){if(g1(r=dn(r)))return y1("Unsupported field value:",e,r),p1(r,e);if(r instanceof f1)return(function(s,o){if(!d1(o.Ac))throw o.Sc(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${s._methodName}() is not currently supported inside arrays`);const u=s._toFieldTransform(o);u&&o.fieldTransforms.push(u)})(r,e),null;if(r===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(s,o){const u=[];let f=0;for(const m of s){let p=pg(m,o.wc(f));p==null&&(p={nullValue:"NULL_VALUE"}),u.push(p),f++}return{arrayValue:{values:u}}})(r,e)}return(function(s,o){if((s=dn(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return Sx(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const u=et.fromDate(s);return{timestampValue:Hh(o.serializer,u)}}if(s instanceof et){const u=new et(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:Hh(o.serializer,u)}}if(s instanceof ki)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof zn)return{bytesValue:Ob(o.serializer,s._byteString)};if(s instanceof Ot){const u=o.databaseId,f=s.firestore._databaseId;if(!f.isEqual(u))throw o.Sc(`Document reference is for database ${f.projectId}/${f.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:Zp(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof Li)return(function(f,m){return{mapValue:{fields:{[ob]:{stringValue:lb},[Uh]:{arrayValue:{values:f.toArray().map((y=>{if(typeof y!="number")throw m.Sc("VectorValues must only contain numeric values.");return Qp(m.serializer,y)}))}}}}}})(s,o);throw o.Sc(`Unsupported field value: ${tf(s)}`)})(r,e)}function p1(r,e){const n={};return tb(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):pa(r,((s,o)=>{const u=pg(o,e.mc(s));u!=null&&(n[s]=u)})),{mapValue:{fields:n}}}function g1(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof et||r instanceof ki||r instanceof zn||r instanceof Ot||r instanceof f1||r instanceof Li)}function y1(r,e,n){if(!g1(n)||!WT(n)){const s=tf(n);throw s==="an object"?e.Sc(r+" a custom object"):e.Sc(r+" "+s)}}function MN(r,e,n){if((e=dn(e))instanceof fg)return e._internalPath;if(typeof e=="string")return _1(r,e);throw Qh("Field path arguments must be of type string or ",r,!1,void 0,n)}const VN=new RegExp("[~\\*/\\[\\]]");function _1(r,e,n){if(e.search(VN)>=0)throw Qh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,n);try{return new fg(...e.split("."))._internalPath}catch{throw Qh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,n)}}function Qh(r,e,n,s,o){const u=s&&!s.isEmpty(),f=o!==void 0;let m=`Function ${e}() called with invalid data`;n&&(m+=" (via `toFirestore()`)"),m+=". ";let p="";return(u||f)&&(p+=" (found",u&&(p+=` in field ${s}`),f&&(p+=` in document ${o}`),p+=")"),new ue(ee.INVALID_ARGUMENT,m+r+p)}function kN(r,e){return r.some((n=>n.isEqual(e)))}class v1{constructor(e,n,s,o,u){this._firestore=e,this._userDataWriter=n,this._key=s,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new Ot(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new LN(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(gg("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class LN extends v1{data(){return super.data()}}function gg(r,e){return typeof e=="string"?_1(r,e):e instanceof fg?e._internalPath:e._delegate._internalPath}function E1(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new ue(ee.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class yg{}class PN extends yg{}function gu(r,e,...n){let s=[];e instanceof yg&&s.push(e),s=s.concat(n),(function(u){const f=u.filter((p=>p instanceof vg)).length,m=u.filter((p=>p instanceof pf)).length;if(f>1||f>0&&m>0)throw new ue(ee.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(s);for(const o of s)r=o._apply(r);return r}class pf extends PN{constructor(e,n,s){super(),this._field=e,this._op=n,this._value=s,this.type="where"}static _create(e,n,s){return new pf(e,n,s)}_apply(e){const n=this._parse(e);return T1(e._query,n),new va(e.firestore,e.converter,op(e._query,n))}_parse(e){const n=mg(e.firestore);return(function(u,f,m,p,y,E,S){let R;if(y.isKeyField()){if(E==="array-contains"||E==="array-contains-any")throw new ue(ee.INVALID_ARGUMENT,`Invalid Query. You can't perform '${E}' queries on documentId().`);if(E==="in"||E==="not-in"){VE(S,E);const B=[];for(const Y of S)B.push(ME(p,u,Y));R={arrayValue:{values:B}}}else R=ME(p,u,S)}else E!=="in"&&E!=="not-in"&&E!=="array-contains-any"||VE(S,E),R=ON(m,f,S,E==="in"||E==="not-in");return Nt.create(y,E,R)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function _g(r,e,n){const s=e,o=gg("where",r);return pf._create(o,s,n)}class vg extends yg{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new vg(e,n)}_parse(e){const n=this._queryConstraints.map((s=>s._parse(e))).filter((s=>s.getFilters().length>0));return n.length===1?n[0]:si.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(o,u){let f=o;const m=u.getFlattenedFilters();for(const p of m)T1(f,p),f=op(f,p)})(e._query,n),new va(e.firestore,e.converter,op(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function ME(r,e,n){if(typeof(n=dn(n))=="string"){if(n==="")throw new ue(ee.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!gb(e)&&n.indexOf("/")!==-1)throw new ue(ee.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const s=e.path.child(ot.fromString(n));if(!ve.isDocumentKey(s))throw new ue(ee.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return K0(r,new ve(s))}if(n instanceof Ot)return K0(r,n._key);throw new ue(ee.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${tf(n)}.`)}function VE(r,e){if(!Array.isArray(r)||r.length===0)throw new ue(ee.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function T1(r,e){const n=(function(o,u){for(const f of o)for(const m of f.getFlattenedFilters())if(u.indexOf(m.op)>=0)return m.op;return null})(r.filters,(function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new ue(ee.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ue(ee.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class UN{convertValue(e,n="none"){switch(vs(e)){case 0:return null;case 1:return e.booleanValue;case 2:return vt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(_s(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw be(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const s={};return pa(e,((o,u)=>{s[o]=this.convertValue(u,n)})),s}convertVectorValue(e){const n=e.fields?.[Uh].arrayValue?.values?.map((s=>vt(s.doubleValue)));return new Li(n)}convertGeoPoint(e){return new ki(vt(e.latitude),vt(e.longitude))}convertArray(e,n){return(e.values||[]).map((s=>this.convertValue(s,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const s=sf(e);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(hu(e));default:return null}}convertTimestamp(e){const n=ys(e);return new et(n.seconds,n.nanos)}convertDocumentKey(e,n){const s=ot.fromString(e);Xe(Ub(s),9688,{name:e});const o=new fu(s.get(1),s.get(3)),u=new ve(s.popFirst(5));return o.isEqual(n)||mr(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),u}}function b1(r,e,n){let s;return s=r?r.toFirestore(e):e,s}class Ql{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class aa extends v1{constructor(e,n,s,o,u,f){super(e,n,s,o,f),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Rh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const s=this._document.data.field(gg("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ue(ee.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=aa._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}aa._jsonSchemaVersion="firestore/documentSnapshot/1.0",aa._jsonSchema={type:Dt("string",aa._jsonSchemaVersion),bundleSource:Dt("string","DocumentSnapshot"),bundleName:Dt("string"),bundle:Dt("string")};class Rh extends aa{data(e={}){return super.data(e)}}class oa{constructor(e,n,s,o){this._firestore=e,this._userDataWriter=n,this._snapshot=o,this.metadata=new Ql(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((s=>{e.call(n,new Rh(this._firestore,this._userDataWriter,s.key,s,new Ql(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ue(ee.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(o,u){if(o._snapshot.oldDocs.isEmpty()){let f=0;return o._snapshot.docChanges.map((m=>{const p=new Rh(o._firestore,o._userDataWriter,m.doc.key,m.doc,new Ql(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);return m.doc,{type:"added",doc:p,oldIndex:-1,newIndex:f++}}))}{let f=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((m=>u||m.type!==3)).map((m=>{const p=new Rh(o._firestore,o._userDataWriter,m.doc.key,m.doc,new Ql(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);let y=-1,E=-1;return m.type!==0&&(y=f.indexOf(m.doc.key),f=f.delete(m.doc.key)),m.type!==1&&(f=f.add(m.doc),E=f.indexOf(m.doc.key)),{type:jN(m.type),doc:p,oldIndex:y,newIndex:E}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ue(ee.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=oa._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=zp.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],s=[],o=[];return this.docs.forEach((u=>{u._document!==null&&(n.push(u._document),s.push(this._userDataWriter.convertObjectMap(u._document.data.value.mapValue.fields,"previous")),o.push(u.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function jN(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return be(61501,{type:r})}}oa._jsonSchemaVersion="firestore/querySnapshot/1.0",oa._jsonSchema={type:Dt("string",oa._jsonSchemaVersion),bundleSource:Dt("string","QuerySnapshot"),bundleName:Dt("string"),bundle:Dt("string")};class Eg extends UN{constructor(e){super(),this.firestore=e}convertBytes(e){return new zn(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Ot(this.firestore,null,n)}}function zN(r){r=Oi(r,va);const e=Oi(r.firestore,da),n=hg(e),s=new Eg(e);return E1(r._query),RN(n,r._query).then((o=>new oa(e,s,r,o)))}function BN(r,e,n){r=Oi(r,Ot);const s=Oi(r.firestore,da),o=b1(r.converter,e);return Tg(s,[m1(mg(s),"setDoc",r._key,o,r.converter!==null,n).toMutation(r._key,ri.none())])}function S1(r){return Tg(Oi(r.firestore,da),[new Yp(r._key,ri.none())])}function A1(r,e){const n=Oi(r.firestore,da),s=Po(r),o=b1(r.converter,e);return Tg(n,[m1(mg(r.firestore),"addDoc",s._key,o,r.converter!==null,{}).toMutation(s._key,ri.exists(!1))]).then((()=>s))}function Io(r,...e){r=dn(r);let n={includeMetadataChanges:!1,source:"default"},s=0;typeof e[s]!="object"||OE(e[s])||(n=e[s++]);const o={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(OE(e[s])){const p=e[s];e[s]=p.next?.bind(p),e[s+1]=p.error?.bind(p),e[s+2]=p.complete?.bind(p)}let u,f,m;if(r instanceof Ot)f=Oi(r.firestore,da),m=$p(r._key.path),u={next:p=>{e[s]&&e[s](qN(f,r,p))},error:e[s+1],complete:e[s+2]};else{const p=Oi(r,va);f=Oi(p.firestore,da),m=p._query;const y=new Eg(f);u={next:E=>{e[s]&&e[s](new oa(f,y,p,E))},error:e[s+1],complete:e[s+2]},E1(r._query)}return(function(y,E,S,R){const O=new l1(R),B=new Wb(E,O,S);return y.asyncQueue.enqueueAndForget((async()=>Zb(await _p(y),B))),()=>{O.Nu(),y.asyncQueue.enqueueAndForget((async()=>Jb(await _p(y),B)))}})(hg(f),m,o,u)}function Tg(r,e){return(function(s,o){const u=new fs;return s.asyncQueue.enqueueAndForget((async()=>mN(await wN(s),o,u))),u.promise})(hg(r),e)}function qN(r,e,n){const s=n.docs.get(e._key),o=new Eg(r);return new aa(r,o,e._key,s,new Ql(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(o){Mo=o})(Do),bo(new ca("firestore",((s,{instanceIdentifier:o,options:u})=>{const f=s.getProvider("app").getImmediate(),m=new da(new kC(s.getProvider("auth-internal")),new UC(f,s.getProvider("app-check-internal")),(function(y,E){if(!Object.prototype.hasOwnProperty.apply(y.options,["projectId"]))throw new ue(ee.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new fu(y.options.projectId,E)})(f,o),f);return u={useFetchStreams:n,...u},m._setSettings(u),m}),"PUBLIC").setMultipleInstances(!0)),cs(L0,P0,e),cs(L0,P0,"esm2020")})();var HN=ZE(),FN=Object.defineProperty,GN=(r,e,n)=>e in r?FN(r,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):r[e]=n,Bm=(r,e,n)=>(GN(r,typeof e!="symbol"?e+"":e,n),n);let $N=class{constructor(){Bm(this,"current",this.detect()),Bm(this,"handoffState","pending"),Bm(this,"currentId",0)}set(e){this.current!==e&&(this.handoffState="pending",this.currentId=0,this.current=e)}reset(){this.set(this.detect())}nextId(){return++this.currentId}get isServer(){return this.current==="server"}get isClient(){return this.current==="client"}detect(){return typeof window>"u"||typeof document>"u"?"server":"client"}handoff(){this.handoffState==="pending"&&(this.handoffState="complete")}get isHandoffComplete(){return this.handoffState==="complete"}},Pi=new $N;function Du(r){var e;return Pi.isServer?null:r==null?document:(e=r?.ownerDocument)!=null?e:document}function Ep(r){var e,n;return Pi.isServer?null:r==null?document:(n=(e=r?.getRootNode)==null?void 0:e.call(r))!=null?n:document}function w1(r){var e,n;return(n=(e=Ep(r))==null?void 0:e.activeElement)!=null?n:null}function QN(r){return w1(r)===r}function gf(r){typeof queueMicrotask=="function"?queueMicrotask(r):Promise.resolve().then(r).catch(e=>setTimeout(()=>{throw e}))}function _r(){let r=[],e={addEventListener(n,s,o,u){return n.addEventListener(s,o,u),e.add(()=>n.removeEventListener(s,o,u))},requestAnimationFrame(...n){let s=requestAnimationFrame(...n);return e.add(()=>cancelAnimationFrame(s))},nextFrame(...n){return e.requestAnimationFrame(()=>e.requestAnimationFrame(...n))},setTimeout(...n){let s=setTimeout(...n);return e.add(()=>clearTimeout(s))},microTask(...n){let s={current:!0};return gf(()=>{s.current&&n[0]()}),e.add(()=>{s.current=!1})},style(n,s,o){let u=n.style.getPropertyValue(s);return Object.assign(n.style,{[s]:o}),this.add(()=>{Object.assign(n.style,{[s]:u})})},group(n){let s=_r();return n(s),this.add(()=>s.dispose())},add(n){return r.includes(n)||r.push(n),()=>{let s=r.indexOf(n);if(s>=0)for(let o of r.splice(s,1))o()}},dispose(){for(let n of r.splice(0))n()}};return e}function yf(){let[r]=D.useState(_r);return D.useEffect(()=>()=>r.dispose(),[r]),r}let fn=(r,e)=>{Pi.isServer?D.useEffect(r,e):D.useLayoutEffect(r,e)};function Ea(r){let e=D.useRef(r);return fn(()=>{e.current=r},[r]),e}let at=function(r){let e=Ea(r);return Ae.useCallback((...n)=>e.current(...n),[e])};function Ou(r){return D.useMemo(()=>r,Object.values(r))}let YN=D.createContext(void 0);function KN(){return D.useContext(YN)}function Tp(...r){return Array.from(new Set(r.flatMap(e=>typeof e=="string"?e.split(" "):[]))).filter(Boolean).join(" ")}function gr(r,e,...n){if(r in e){let o=e[r];return typeof o=="function"?o(...n):o}let s=new Error(`Tried to handle "${r}" but there is no handler defined. Only defined handlers are: ${Object.keys(e).map(o=>`"${o}"`).join(", ")}.`);throw Error.captureStackTrace&&Error.captureStackTrace(s,gr),s}var Yh=(r=>(r[r.None=0]="None",r[r.RenderStrategy=1]="RenderStrategy",r[r.Static=2]="Static",r))(Yh||{}),as=(r=>(r[r.Unmount=0]="Unmount",r[r.Hidden=1]="Hidden",r))(as||{});function Bn(){let r=ZN();return D.useCallback(e=>XN({mergeRefs:r,...e}),[r])}function XN({ourProps:r,theirProps:e,slot:n,defaultTag:s,features:o,visible:u=!0,name:f,mergeRefs:m}){m=m??JN;let p=R1(e,r);if(u)return ph(p,n,s,f,m);let y=o??0;if(y&2){let{static:E=!1,...S}=p;if(E)return ph(S,n,s,f,m)}if(y&1){let{unmount:E=!0,...S}=p;return gr(E?0:1,{0(){return null},1(){return ph({...S,hidden:!0,style:{display:"none"}},n,s,f,m)}})}return ph(p,n,s,f,m)}function ph(r,e={},n,s,o){let{as:u=n,children:f,refName:m="ref",...p}=qm(r,["unmount","static"]),y=r.ref!==void 0?{[m]:r.ref}:{},E=typeof f=="function"?f(e):f;"className"in p&&p.className&&typeof p.className=="function"&&(p.className=p.className(e)),p["aria-labelledby"]&&p["aria-labelledby"]===p.id&&(p["aria-labelledby"]=void 0);let S={};if(e){let R=!1,O=[];for(let[B,Y]of Object.entries(e))typeof Y=="boolean"&&(R=!0),Y===!0&&O.push(B.replace(/([A-Z])/g,$=>`-${$.toLowerCase()}`));if(R){S["data-headlessui-state"]=O.join(" ");for(let B of O)S[`data-${B}`]=""}}if(iu(u)&&(Object.keys(ea(p)).length>0||Object.keys(ea(S)).length>0))if(!D.isValidElement(E)||Array.isArray(E)&&E.length>1||eD(E)){if(Object.keys(ea(p)).length>0)throw new Error(['Passing props on "Fragment"!',"",`The current component <${s} /> is rendering a "Fragment".`,"However we need to passthrough the following props:",Object.keys(ea(p)).concat(Object.keys(ea(S))).map(R=>`  - ${R}`).join(`
`),"","You can apply a few solutions:",['Add an `as="..."` prop, to ensure that we render an actual element instead of a "Fragment".',"Render a single element as the child so that we can forward the props onto that element."].map(R=>`  - ${R}`).join(`
`)].join(`
`))}else{let R=E.props,O=R?.className,B=typeof O=="function"?(...se)=>Tp(O(...se),p.className):Tp(O,p.className),Y=B?{className:B}:{},$=R1(E.props,ea(qm(p,["ref"])));for(let se in S)se in $&&delete S[se];return D.cloneElement(E,Object.assign({},$,S,y,{ref:o(WN(E),y.ref)},Y))}return D.createElement(u,Object.assign({},qm(p,["ref"]),!iu(u)&&y,!iu(u)&&S),E)}function ZN(){let r=D.useRef([]),e=D.useCallback(n=>{for(let s of r.current)s!=null&&(typeof s=="function"?s(n):s.current=n)},[]);return(...n)=>{if(!n.every(s=>s==null))return r.current=n,e}}function JN(...r){return r.every(e=>e==null)?void 0:e=>{for(let n of r)n!=null&&(typeof n=="function"?n(e):n.current=e)}}function R1(...r){if(r.length===0)return{};if(r.length===1)return r[0];let e={},n={};for(let s of r)for(let o in s)o.startsWith("on")&&typeof s[o]=="function"?(n[o]!=null||(n[o]=[]),n[o].push(s[o])):e[o]=s[o];if(e.disabled||e["aria-disabled"])for(let s in n)/^(on(?:Click|Pointer|Mouse|Key)(?:Down|Up|Press)?)$/.test(s)&&(n[s]=[o=>{var u;return(u=o?.preventDefault)==null?void 0:u.call(o)}]);for(let s in n)Object.assign(e,{[s](o,...u){let f=n[s];for(let m of f){if((o instanceof Event||o?.nativeEvent instanceof Event)&&o.defaultPrevented)return;m(o,...u)}}});return e}function mn(r){var e;return Object.assign(D.forwardRef(r),{displayName:(e=r.displayName)!=null?e:r.name})}function ea(r){let e=Object.assign({},r);for(let n in e)e[n]===void 0&&delete e[n];return e}function qm(r,e=[]){let n=Object.assign({},r);for(let s of e)s in n&&delete n[s];return n}function WN(r){return Ae.version.split(".")[0]>="19"?r.props.ref:r.ref}function iu(r){return r===D.Fragment||r===Symbol.for("react.fragment")}function eD(r){return iu(r.type)}let tD="span";var Kh=(r=>(r[r.None=1]="None",r[r.Focusable=2]="Focusable",r[r.Hidden=4]="Hidden",r))(Kh||{});function nD(r,e){var n;let{features:s=1,...o}=r,u={ref:e,"aria-hidden":(s&2)===2?!0:(n=o["aria-hidden"])!=null?n:void 0,hidden:(s&4)===4?!0:void 0,style:{position:"fixed",top:1,left:1,width:1,height:0,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0",...(s&4)===4&&(s&2)!==2&&{display:"none"}}};return Bn()({ourProps:u,theirProps:o,slot:{},defaultTag:tD,name:"Hidden"})}let bp=mn(nD);function iD(r){return typeof r!="object"||r===null?!1:"nodeType"in r}function ms(r){return iD(r)&&"tagName"in r}function ma(r){return ms(r)&&"accessKey"in r}function os(r){return ms(r)&&"tabIndex"in r}function rD(r){return ms(r)&&"style"in r}function sD(r){return ma(r)&&r.nodeName==="IFRAME"}function aD(r){return ma(r)&&r.nodeName==="INPUT"}let C1=Symbol();function oD(r,e=!0){return Object.assign(r,{[C1]:e})}function ji(...r){let e=D.useRef(r);D.useEffect(()=>{e.current=r},[r]);let n=at(s=>{for(let o of e.current)o!=null&&(typeof o=="function"?o(s):o.current=s)});return r.every(s=>s==null||s?.[C1])?void 0:n}let bg=D.createContext(null);bg.displayName="DescriptionContext";function x1(){let r=D.useContext(bg);if(r===null){let e=new Error("You used a <Description /> component, but it is not inside a relevant parent.");throw Error.captureStackTrace&&Error.captureStackTrace(e,x1),e}return r}function lD(){let[r,e]=D.useState([]);return[r.length>0?r.join(" "):void 0,D.useMemo(()=>function(n){let s=at(u=>(e(f=>[...f,u]),()=>e(f=>{let m=f.slice(),p=m.indexOf(u);return p!==-1&&m.splice(p,1),m}))),o=D.useMemo(()=>({register:s,slot:n.slot,name:n.name,props:n.props,value:n.value}),[s,n.slot,n.name,n.props,n.value]);return Ae.createElement(bg.Provider,{value:o},n.children)},[e])]}let uD="p";function cD(r,e){let n=D.useId(),s=KN(),{id:o=`headlessui-description-${n}`,...u}=r,f=x1(),m=ji(e);fn(()=>f.register(o),[o,f.register]);let p=Ou({...f.slot,disabled:s||!1}),y={ref:m,...f.props,id:o};return Bn()({ourProps:y,theirProps:u,slot:p,defaultTag:uD,name:f.name||"Description"})}let hD=mn(cD),fD=Object.assign(hD,{});var I1=(r=>(r.Space=" ",r.Enter="Enter",r.Escape="Escape",r.Backspace="Backspace",r.Delete="Delete",r.ArrowLeft="ArrowLeft",r.ArrowUp="ArrowUp",r.ArrowRight="ArrowRight",r.ArrowDown="ArrowDown",r.Home="Home",r.End="End",r.PageUp="PageUp",r.PageDown="PageDown",r.Tab="Tab",r))(I1||{});let dD=D.createContext(()=>{});function mD({value:r,children:e}){return Ae.createElement(dD.Provider,{value:r},e)}let N1=class extends Map{constructor(e){super(),this.factory=e}get(e){let n=super.get(e);return n===void 0&&(n=this.factory(e),this.set(e,n)),n}};var pD=Object.defineProperty,gD=(r,e,n)=>e in r?pD(r,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):r[e]=n,yD=(r,e,n)=>(gD(r,e+"",n),n),D1=(r,e,n)=>{if(!e.has(r))throw TypeError("Cannot "+n)},Pn=(r,e,n)=>(D1(r,e,"read from private field"),n?n.call(r):e.get(r)),Hm=(r,e,n)=>{if(e.has(r))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(r):e.set(r,n)},kE=(r,e,n,s)=>(D1(r,e,"write to private field"),e.set(r,n),n),xi,Yl,Kl;let _D=class{constructor(e){Hm(this,xi,{}),Hm(this,Yl,new N1(()=>new Set)),Hm(this,Kl,new Set),yD(this,"disposables",_r()),kE(this,xi,e),Pi.isServer&&this.disposables.microTask(()=>{this.dispose()})}dispose(){this.disposables.dispose()}get state(){return Pn(this,xi)}subscribe(e,n){if(Pi.isServer)return()=>{};let s={selector:e,callback:n,current:e(Pn(this,xi))};return Pn(this,Kl).add(s),this.disposables.add(()=>{Pn(this,Kl).delete(s)})}on(e,n){return Pi.isServer?()=>{}:(Pn(this,Yl).get(e).add(n),this.disposables.add(()=>{Pn(this,Yl).get(e).delete(n)}))}send(e){let n=this.reduce(Pn(this,xi),e);if(n!==Pn(this,xi)){kE(this,xi,n);for(let s of Pn(this,Kl)){let o=s.selector(Pn(this,xi));O1(s.current,o)||(s.current=o,s.callback(o))}for(let s of Pn(this,Yl).get(e.type))s(Pn(this,xi),e)}}};xi=new WeakMap,Yl=new WeakMap,Kl=new WeakMap;function O1(r,e){return Object.is(r,e)?!0:typeof r!="object"||r===null||typeof e!="object"||e===null?!1:Array.isArray(r)&&Array.isArray(e)?r.length!==e.length?!1:Fm(r[Symbol.iterator](),e[Symbol.iterator]()):r instanceof Map&&e instanceof Map||r instanceof Set&&e instanceof Set?r.size!==e.size?!1:Fm(r.entries(),e.entries()):LE(r)&&LE(e)?Fm(Object.entries(r)[Symbol.iterator](),Object.entries(e)[Symbol.iterator]()):!1}function Fm(r,e){do{let n=r.next(),s=e.next();if(n.done&&s.done)return!0;if(n.done||s.done||!Object.is(n.value,s.value))return!1}while(!0)}function LE(r){if(Object.prototype.toString.call(r)!=="[object Object]")return!1;let e=Object.getPrototypeOf(r);return e===null||Object.getPrototypeOf(e)===null}var vD=Object.defineProperty,ED=(r,e,n)=>e in r?vD(r,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):r[e]=n,PE=(r,e,n)=>(ED(r,typeof e!="symbol"?e+"":e,n),n),TD=(r=>(r[r.Push=0]="Push",r[r.Pop=1]="Pop",r))(TD||{});let bD={0(r,e){let n=e.id,s=r.stack,o=r.stack.indexOf(n);if(o!==-1){let u=r.stack.slice();return u.splice(o,1),u.push(n),s=u,{...r,stack:s}}return{...r,stack:[...r.stack,n]}},1(r,e){let n=e.id,s=r.stack.indexOf(n);if(s===-1)return r;let o=r.stack.slice();return o.splice(s,1),{...r,stack:o}}},SD=class M1 extends _D{constructor(){super(...arguments),PE(this,"actions",{push:e=>this.send({type:0,id:e}),pop:e=>this.send({type:1,id:e})}),PE(this,"selectors",{isTop:(e,n)=>e.stack[e.stack.length-1]===n,inStack:(e,n)=>e.stack.includes(n)})}static new(){return new M1({stack:[]})}reduce(e,n){return gr(n.type,bD,e,n)}};const V1=new N1(()=>SD.new());var Gm={exports:{}},$m={};var UE;function AD(){if(UE)return $m;UE=1;var r=Zh();function e(p,y){return p===y&&(p!==0||1/p===1/y)||p!==p&&y!==y}var n=typeof Object.is=="function"?Object.is:e,s=r.useSyncExternalStore,o=r.useRef,u=r.useEffect,f=r.useMemo,m=r.useDebugValue;return $m.useSyncExternalStoreWithSelector=function(p,y,E,S,R){var O=o(null);if(O.current===null){var B={hasValue:!1,value:null};O.current=B}else B=O.current;O=f(function(){function $(ce){if(!se){if(se=!0,ie=ce,ce=S(ce),R!==void 0&&B.hasValue){var pe=B.value;if(R(pe,ce))return re=pe}return re=ce}if(pe=re,n(ie,ce))return pe;var x=S(ce);return R!==void 0&&R(pe,x)?(ie=ce,pe):(ie=ce,re=x)}var se=!1,ie,re,ge=E===void 0?null:E;return[function(){return $(y())},ge===null?void 0:function(){return $(ge())}]},[y,E,S,R]);var Y=s(p,O[0],O[1]);return u(function(){B.hasValue=!0,B.value=Y},[Y]),m(Y),Y},$m}var jE;function wD(){return jE||(jE=1,Gm.exports=AD()),Gm.exports}var RD=wD();function k1(r,e,n=O1){return RD.useSyncExternalStoreWithSelector(at(s=>r.subscribe(CD,s)),at(()=>r.state),at(()=>r.state),at(e),n)}function CD(r){return r}function Mu(r,e){let n=D.useId(),s=V1.get(e),[o,u]=k1(s,D.useCallback(f=>[s.selectors.isTop(f,n),s.selectors.inStack(f,n)],[s,n]));return fn(()=>{if(r)return s.actions.push(n),()=>s.actions.pop(n)},[s,r,n]),r?u?o:!0:!1}let Sp=new Map,ru=new Map;function zE(r){var e;let n=(e=ru.get(r))!=null?e:0;return ru.set(r,n+1),n!==0?()=>BE(r):(Sp.set(r,{"aria-hidden":r.getAttribute("aria-hidden"),inert:r.inert}),r.setAttribute("aria-hidden","true"),r.inert=!0,()=>BE(r))}function BE(r){var e;let n=(e=ru.get(r))!=null?e:1;if(n===1?ru.delete(r):ru.set(r,n-1),n!==1)return;let s=Sp.get(r);s&&(s["aria-hidden"]===null?r.removeAttribute("aria-hidden"):r.setAttribute("aria-hidden",s["aria-hidden"]),r.inert=s.inert,Sp.delete(r))}function xD(r,{allowed:e,disallowed:n}={}){let s=Mu(r,"inert-others");fn(()=>{var o,u;if(!s)return;let f=_r();for(let p of(o=n?.())!=null?o:[])p&&f.add(zE(p));let m=(u=e?.())!=null?u:[];for(let p of m){if(!p)continue;let y=Du(p);if(!y)continue;let E=p.parentElement;for(;E&&E!==y.body;){for(let S of E.children)m.some(R=>S.contains(R))||f.add(zE(S));E=E.parentElement}}return f.dispose},[s,e,n])}function ID(r,e,n){let s=Ea(o=>{let u=o.getBoundingClientRect();u.x===0&&u.y===0&&u.width===0&&u.height===0&&n()});D.useEffect(()=>{if(!r)return;let o=e===null?null:ma(e)?e:e.current;if(!o)return;let u=_r();if(typeof ResizeObserver<"u"){let f=new ResizeObserver(()=>s.current(o));f.observe(o),u.add(()=>f.disconnect())}if(typeof IntersectionObserver<"u"){let f=new IntersectionObserver(()=>s.current(o));f.observe(o),u.add(()=>f.disconnect())}return()=>u.dispose()},[e,s,r])}let Xh=["[contentEditable=true]","[tabindex]","a[href]","area[href]","button:not([disabled])","iframe","input:not([disabled])","select:not([disabled])","details>summary","textarea:not([disabled])"].map(r=>`${r}:not([tabindex='-1'])`).join(","),ND=["[data-autofocus]"].map(r=>`${r}:not([tabindex='-1'])`).join(",");var sr=(r=>(r[r.First=1]="First",r[r.Previous=2]="Previous",r[r.Next=4]="Next",r[r.Last=8]="Last",r[r.WrapAround=16]="WrapAround",r[r.NoScroll=32]="NoScroll",r[r.AutoFocus=64]="AutoFocus",r))(sr||{}),Ap=(r=>(r[r.Error=0]="Error",r[r.Overflow=1]="Overflow",r[r.Success=2]="Success",r[r.Underflow=3]="Underflow",r))(Ap||{}),DD=(r=>(r[r.Previous=-1]="Previous",r[r.Next=1]="Next",r))(DD||{});function OD(r=document.body){return r==null?[]:Array.from(r.querySelectorAll(Xh)).sort((e,n)=>Math.sign((e.tabIndex||Number.MAX_SAFE_INTEGER)-(n.tabIndex||Number.MAX_SAFE_INTEGER)))}function MD(r=document.body){return r==null?[]:Array.from(r.querySelectorAll(ND)).sort((e,n)=>Math.sign((e.tabIndex||Number.MAX_SAFE_INTEGER)-(n.tabIndex||Number.MAX_SAFE_INTEGER)))}var L1=(r=>(r[r.Strict=0]="Strict",r[r.Loose=1]="Loose",r))(L1||{});function VD(r,e=0){var n;return r===((n=Du(r))==null?void 0:n.body)?!1:gr(e,{0(){return r.matches(Xh)},1(){let s=r;for(;s!==null;){if(s.matches(Xh))return!0;s=s.parentElement}return!1}})}var kD=(r=>(r[r.Keyboard=0]="Keyboard",r[r.Mouse=1]="Mouse",r))(kD||{});typeof window<"u"&&typeof document<"u"&&(document.addEventListener("keydown",r=>{r.metaKey||r.altKey||r.ctrlKey||(document.documentElement.dataset.headlessuiFocusVisible="")},!0),document.addEventListener("click",r=>{r.detail===1?delete document.documentElement.dataset.headlessuiFocusVisible:r.detail===0&&(document.documentElement.dataset.headlessuiFocusVisible="")},!0));function ur(r){r?.focus({preventScroll:!0})}let LD=["textarea","input"].join(",");function PD(r){var e,n;return(n=(e=r?.matches)==null?void 0:e.call(r,LD))!=null?n:!1}function UD(r,e=n=>n){return r.slice().sort((n,s)=>{let o=e(n),u=e(s);if(o===null||u===null)return 0;let f=o.compareDocumentPosition(u);return f&Node.DOCUMENT_POSITION_FOLLOWING?-1:f&Node.DOCUMENT_POSITION_PRECEDING?1:0})}function su(r,e,{sorted:n=!0,relativeTo:s=null,skipElements:o=[]}={}){let u=Array.isArray(r)?r.length>0?Ep(r[0]):document:Ep(r),f=Array.isArray(r)?n?UD(r):r:e&64?MD(r):OD(r);o.length>0&&f.length>1&&(f=f.filter(O=>!o.some(B=>B!=null&&"current"in B?B?.current===O:B===O))),s=s??u?.activeElement;let m=(()=>{if(e&5)return 1;if(e&10)return-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),p=(()=>{if(e&1)return 0;if(e&2)return Math.max(0,f.indexOf(s))-1;if(e&4)return Math.max(0,f.indexOf(s))+1;if(e&8)return f.length-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),y=e&32?{preventScroll:!0}:{},E=0,S=f.length,R;do{if(E>=S||E+S<=0)return 0;let O=p+E;if(e&16)O=(O+S)%S;else{if(O<0)return 3;if(O>=S)return 1}R=f[O],R?.focus(y),E+=m}while(R!==w1(R));return e&6&&PD(R)&&R.select(),2}function P1(){return/iPhone/gi.test(window.navigator.platform)||/Mac/gi.test(window.navigator.platform)&&window.navigator.maxTouchPoints>0}function jD(){return/Android/gi.test(window.navigator.userAgent)}function qE(){return P1()||jD()}function gh(r,e,n,s){let o=Ea(n);D.useEffect(()=>{if(!r)return;function u(f){o.current(f)}return document.addEventListener(e,u,s),()=>document.removeEventListener(e,u,s)},[r,e,s])}function U1(r,e,n,s){let o=Ea(n);D.useEffect(()=>{if(!r)return;function u(f){o.current(f)}return window.addEventListener(e,u,s),()=>window.removeEventListener(e,u,s)},[r,e,s])}const HE=30;function zD(r,e,n){let s=Ea(n),o=D.useCallback(function(m,p){if(m.defaultPrevented)return;let y=p(m);if(y===null||!y.getRootNode().contains(y)||!y.isConnected)return;let E=(function S(R){return typeof R=="function"?S(R()):Array.isArray(R)||R instanceof Set?R:[R]})(e);for(let S of E)if(S!==null&&(S.contains(y)||m.composed&&m.composedPath().includes(S)))return;return!VD(y,L1.Loose)&&y.tabIndex!==-1&&m.preventDefault(),s.current(m,y)},[s,e]),u=D.useRef(null);gh(r,"pointerdown",m=>{var p,y;qE()||(u.current=((y=(p=m.composedPath)==null?void 0:p.call(m))==null?void 0:y[0])||m.target)},!0),gh(r,"pointerup",m=>{if(qE()||!u.current)return;let p=u.current;return u.current=null,o(m,()=>p)},!0);let f=D.useRef({x:0,y:0});gh(r,"touchstart",m=>{f.current.x=m.touches[0].clientX,f.current.y=m.touches[0].clientY},!0),gh(r,"touchend",m=>{let p={x:m.changedTouches[0].clientX,y:m.changedTouches[0].clientY};if(!(Math.abs(p.x-f.current.x)>=HE||Math.abs(p.y-f.current.y)>=HE))return o(m,()=>os(m.target)?m.target:null)},!0),U1(r,"blur",m=>o(m,()=>sD(window.document.activeElement)?window.document.activeElement:null),!0)}function Sg(...r){return D.useMemo(()=>Du(...r),[...r])}function j1(r,e,n,s){let o=Ea(n);D.useEffect(()=>{r=r??window;function u(f){o.current(f)}return r.addEventListener(e,u,s),()=>r.removeEventListener(e,u,s)},[r,e,s])}function BD(r){return D.useSyncExternalStore(r.subscribe,r.getSnapshot,r.getSnapshot)}function qD(r,e){let n=r(),s=new Set;return{getSnapshot(){return n},subscribe(o){return s.add(o),()=>s.delete(o)},dispatch(o,...u){let f=e[o].call(n,...u);f&&(n=f,s.forEach(m=>m()))}}}function HD(){let r;return{before({doc:e}){var n;let s=e.documentElement,o=(n=e.defaultView)!=null?n:window;r=Math.max(0,o.innerWidth-s.clientWidth)},after({doc:e,d:n}){let s=e.documentElement,o=Math.max(0,s.clientWidth-s.offsetWidth),u=Math.max(0,r-o);n.style(s,"paddingRight",`${u}px`)}}}function FD(){return P1()?{before({doc:r,d:e,meta:n}){function s(o){for(let u of n().containers)for(let f of u())if(f.contains(o))return!0;return!1}e.microTask(()=>{var o;if(window.getComputedStyle(r.documentElement).scrollBehavior!=="auto"){let m=_r();m.style(r.documentElement,"scrollBehavior","auto"),e.add(()=>e.microTask(()=>m.dispose()))}let u=(o=window.scrollY)!=null?o:window.pageYOffset,f=null;e.addEventListener(r,"click",m=>{if(os(m.target))try{let p=m.target.closest("a");if(!p)return;let{hash:y}=new URL(p.href),E=r.querySelector(y);os(E)&&!s(E)&&(f=E)}catch{}},!0),e.group(m=>{e.addEventListener(r,"touchstart",p=>{if(m.dispose(),os(p.target)&&rD(p.target))if(s(p.target)){let y=p.target;for(;y.parentElement&&s(y.parentElement);)y=y.parentElement;m.style(y,"overscrollBehavior","contain")}else m.style(p.target,"touchAction","none")})}),e.addEventListener(r,"touchmove",m=>{if(os(m.target)){if(aD(m.target))return;if(s(m.target)){let p=m.target;for(;p.parentElement&&p.dataset.headlessuiPortal!==""&&!(p.scrollHeight>p.clientHeight||p.scrollWidth>p.clientWidth);)p=p.parentElement;p.dataset.headlessuiPortal===""&&m.preventDefault()}else m.preventDefault()}},{passive:!1}),e.add(()=>{var m;let p=(m=window.scrollY)!=null?m:window.pageYOffset;u!==p&&window.scrollTo(0,u),f&&f.isConnected&&(f.scrollIntoView({block:"nearest"}),f=null)})})}}:{}}function GD(){return{before({doc:r,d:e}){e.style(r.documentElement,"overflow","hidden")}}}function FE(r){let e={};for(let n of r)Object.assign(e,n(e));return e}let ra=qD(()=>new Map,{PUSH(r,e){var n;let s=(n=this.get(r))!=null?n:{doc:r,count:0,d:_r(),meta:new Set,computedMeta:{}};return s.count++,s.meta.add(e),s.computedMeta=FE(s.meta),this.set(r,s),this},POP(r,e){let n=this.get(r);return n&&(n.count--,n.meta.delete(e),n.computedMeta=FE(n.meta)),this},SCROLL_PREVENT(r){let e={doc:r.doc,d:r.d,meta(){return r.computedMeta}},n=[FD(),HD(),GD()];n.forEach(({before:s})=>s?.(e)),n.forEach(({after:s})=>s?.(e))},SCROLL_ALLOW({d:r}){r.dispose()},TEARDOWN({doc:r}){this.delete(r)}});ra.subscribe(()=>{let r=ra.getSnapshot(),e=new Map;for(let[n]of r)e.set(n,n.documentElement.style.overflow);for(let n of r.values()){let s=e.get(n.doc)==="hidden",o=n.count!==0;(o&&!s||!o&&s)&&ra.dispatch(n.count>0?"SCROLL_PREVENT":"SCROLL_ALLOW",n),n.count===0&&ra.dispatch("TEARDOWN",n)}});function $D(r,e,n=()=>({containers:[]})){let s=BD(ra),o=e?s.get(e):void 0,u=o?o.count>0:!1;return fn(()=>{if(!(!e||!r))return ra.dispatch("PUSH",e,n),()=>ra.dispatch("POP",e,n)},[r,e]),u}function QD(r,e,n=()=>[document.body]){let s=Mu(r,"scroll-lock");$D(s,e,o=>{var u;return{containers:[...(u=o.containers)!=null?u:[],n]}})}function YD(r=0){let[e,n]=D.useState(r),s=D.useCallback(p=>n(p),[]),o=D.useCallback(p=>n(y=>y|p),[]),u=D.useCallback(p=>(e&p)===p,[e]),f=D.useCallback(p=>n(y=>y&~p),[]),m=D.useCallback(p=>n(y=>y^p),[]);return{flags:e,setFlag:s,addFlag:o,hasFlag:u,removeFlag:f,toggleFlag:m}}var KD={},GE,$E;typeof process<"u"&&typeof globalThis<"u"&&typeof Element<"u"&&((GE=process==null?void 0:KD)==null?void 0:GE.NODE_ENV)==="test"&&typeof(($E=Element?.prototype)==null?void 0:$E.getAnimations)>"u"&&(Element.prototype.getAnimations=function(){return console.warn(["Headless UI has polyfilled `Element.prototype.getAnimations` for your tests.","Please install a proper polyfill e.g. `jsdom-testing-mocks`, to silence these warnings.","","Example usage:","```js","import { mockAnimationsApi } from 'jsdom-testing-mocks'","mockAnimationsApi()","```"].join(`
`)),[]});var XD=(r=>(r[r.None=0]="None",r[r.Closed=1]="Closed",r[r.Enter=2]="Enter",r[r.Leave=4]="Leave",r))(XD||{});function ZD(r){let e={};for(let n in r)r[n]===!0&&(e[`data-${n}`]="");return e}function JD(r,e,n,s){let[o,u]=D.useState(n),{hasFlag:f,addFlag:m,removeFlag:p}=YD(r&&o?3:0),y=D.useRef(!1),E=D.useRef(!1),S=yf();return fn(()=>{var R;if(r){if(n&&u(!0),!e){n&&m(3);return}return(R=s?.start)==null||R.call(s,n),WD(e,{inFlight:y,prepare(){E.current?E.current=!1:E.current=y.current,y.current=!0,!E.current&&(n?(m(3),p(4)):(m(4),p(2)))},run(){E.current?n?(p(3),m(4)):(p(4),m(3)):n?p(1):m(1)},done(){var O;E.current&&nO(e)||(y.current=!1,p(7),n||u(!1),(O=s?.end)==null||O.call(s,n))}})}},[r,n,e,S]),r?[o,{closed:f(1),enter:f(2),leave:f(4),transition:f(2)||f(4)}]:[n,{closed:void 0,enter:void 0,leave:void 0,transition:void 0}]}function WD(r,{prepare:e,run:n,done:s,inFlight:o}){let u=_r();return tO(r,{prepare:e,inFlight:o}),u.nextFrame(()=>{n(),u.requestAnimationFrame(()=>{u.add(eO(r,s))})}),u.dispose}function eO(r,e){var n,s;let o=_r();if(!r)return o.dispose;let u=!1;o.add(()=>{u=!0});let f=(s=(n=r.getAnimations)==null?void 0:n.call(r).filter(m=>m instanceof CSSTransition))!=null?s:[];return f.length===0?(e(),o.dispose):(Promise.allSettled(f.map(m=>m.finished)).then(()=>{u||e()}),o.dispose)}function tO(r,{inFlight:e,prepare:n}){if(e!=null&&e.current){n();return}let s=r.style.transition;r.style.transition="none",n(),r.offsetHeight,r.style.transition=s}function nO(r){var e,n;return((n=(e=r.getAnimations)==null?void 0:e.call(r))!=null?n:[]).some(s=>s instanceof CSSTransition&&s.playState!=="finished")}function Ag(r,e){let n=D.useRef([]),s=at(r);D.useEffect(()=>{let o=[...n.current];for(let[u,f]of e.entries())if(n.current[u]!==f){let m=s(e,o);return n.current=e,m}},[s,...e])}let _f=D.createContext(null);_f.displayName="OpenClosedContext";var ii=(r=>(r[r.Open=1]="Open",r[r.Closed=2]="Closed",r[r.Closing=4]="Closing",r[r.Opening=8]="Opening",r))(ii||{});function vf(){return D.useContext(_f)}function iO({value:r,children:e}){return Ae.createElement(_f.Provider,{value:r},e)}function rO({children:r}){return Ae.createElement(_f.Provider,{value:null},r)}function sO(r){function e(){document.readyState!=="loading"&&(r(),document.removeEventListener("DOMContentLoaded",e))}typeof window<"u"&&typeof document<"u"&&(document.addEventListener("DOMContentLoaded",e),e())}let is=[];sO(()=>{function r(e){if(!os(e.target)||e.target===document.body||is[0]===e.target)return;let n=e.target;n=n.closest(Xh),is.unshift(n??e.target),is=is.filter(s=>s!=null&&s.isConnected),is.splice(10)}window.addEventListener("click",r,{capture:!0}),window.addEventListener("mousedown",r,{capture:!0}),window.addEventListener("focus",r,{capture:!0}),document.body.addEventListener("click",r,{capture:!0}),document.body.addEventListener("mousedown",r,{capture:!0}),document.body.addEventListener("focus",r,{capture:!0})});function z1(r){let e=at(r),n=D.useRef(!1);D.useEffect(()=>(n.current=!1,()=>{n.current=!0,gf(()=>{n.current&&e()})}),[e])}let B1=D.createContext(!1);function aO(){return D.useContext(B1)}function QE(r){return Ae.createElement(B1.Provider,{value:r.force},r.children)}function oO(r){let e=aO(),n=D.useContext(H1),[s,o]=D.useState(()=>{var u;if(!e&&n!==null)return(u=n.current)!=null?u:null;if(Pi.isServer)return null;let f=r?.getElementById("headlessui-portal-root");if(f)return f;if(r===null)return null;let m=r.createElement("div");return m.setAttribute("id","headlessui-portal-root"),r.body.appendChild(m)});return D.useEffect(()=>{s!==null&&(r!=null&&r.body.contains(s)||r==null||r.body.appendChild(s))},[s,r]),D.useEffect(()=>{e||n!==null&&o(n.current)},[n,o,e]),s}let q1=D.Fragment,lO=mn(function(r,e){let{ownerDocument:n=null,...s}=r,o=D.useRef(null),u=ji(oD(R=>{o.current=R}),e),f=Sg(o.current),m=n??f,p=oO(m),y=D.useContext(wp),E=yf(),S=Bn();return z1(()=>{var R;p&&p.childNodes.length<=0&&((R=p.parentElement)==null||R.removeChild(p))}),p?HN.createPortal(Ae.createElement("div",{"data-headlessui-portal":"",ref:R=>{E.dispose(),y&&R&&E.add(y.register(R))}},S({ourProps:{ref:u},theirProps:s,slot:{},defaultTag:q1,name:"Portal"})),p):null});function uO(r,e){let n=ji(e),{enabled:s=!0,ownerDocument:o,...u}=r,f=Bn();return s?Ae.createElement(lO,{...u,ownerDocument:o,ref:n}):f({ourProps:{ref:n},theirProps:u,slot:{},defaultTag:q1,name:"Portal"})}let cO=D.Fragment,H1=D.createContext(null);function hO(r,e){let{target:n,...s}=r,o={ref:ji(e)},u=Bn();return Ae.createElement(H1.Provider,{value:n},u({ourProps:o,theirProps:s,defaultTag:cO,name:"Popover.Group"}))}let wp=D.createContext(null);function fO(){let r=D.useContext(wp),e=D.useRef([]),n=at(u=>(e.current.push(u),r&&r.register(u),()=>s(u))),s=at(u=>{let f=e.current.indexOf(u);f!==-1&&e.current.splice(f,1),r&&r.unregister(u)}),o=D.useMemo(()=>({register:n,unregister:s,portals:e}),[n,s,e]);return[e,D.useMemo(()=>function({children:u}){return Ae.createElement(wp.Provider,{value:o},u)},[o])]}let dO=mn(uO),F1=mn(hO),mO=Object.assign(dO,{Group:F1});function pO(r,e=typeof document<"u"?document.defaultView:null,n){let s=Mu(r,"escape");j1(e,"keydown",o=>{s&&(o.defaultPrevented||o.key===I1.Escape&&n(o))})}function gO(){var r;let[e]=D.useState(()=>typeof window<"u"&&typeof window.matchMedia=="function"?window.matchMedia("(pointer: coarse)"):null),[n,s]=D.useState((r=e?.matches)!=null?r:!1);return fn(()=>{if(!e)return;function o(u){s(u.matches)}return e.addEventListener("change",o),()=>e.removeEventListener("change",o)},[e]),n}function yO({defaultContainers:r=[],portals:e,mainTreeNode:n}={}){let s=at(()=>{var o,u;let f=Du(n),m=[];for(let p of r)p!==null&&(ms(p)?m.push(p):"current"in p&&ms(p.current)&&m.push(p.current));if(e!=null&&e.current)for(let p of e.current)m.push(p);for(let p of(o=f?.querySelectorAll("html > *, body > *"))!=null?o:[])p!==document.body&&p!==document.head&&ms(p)&&p.id!=="headlessui-portal-root"&&(n&&(p.contains(n)||p.contains((u=n?.getRootNode())==null?void 0:u.host))||m.some(y=>p.contains(y))||m.push(p));return m});return{resolveContainers:s,contains:at(o=>s().some(u=>u.contains(o)))}}let G1=D.createContext(null);function YE({children:r,node:e}){let[n,s]=D.useState(null),o=$1(e??n);return Ae.createElement(G1.Provider,{value:o},r,o===null&&Ae.createElement(bp,{features:Kh.Hidden,ref:u=>{var f,m;if(u){for(let p of(m=(f=Du(u))==null?void 0:f.querySelectorAll("html > *, body > *"))!=null?m:[])if(p!==document.body&&p!==document.head&&ms(p)&&p!=null&&p.contains(u)){s(p);break}}}}))}function $1(r=null){var e;return(e=D.useContext(G1))!=null?e:r}function _O(){let r=typeof document>"u";return"useSyncExternalStore"in e0?(e=>e.useSyncExternalStore)(e0)(()=>()=>{},()=>!1,()=>!r):!1}function Ef(){let r=_O(),[e,n]=D.useState(Pi.isHandoffComplete);return e&&Pi.isHandoffComplete===!1&&n(!1),D.useEffect(()=>{e!==!0&&n(!0)},[e]),D.useEffect(()=>Pi.handoff(),[]),r?!1:e}function wg(){let r=D.useRef(!1);return fn(()=>(r.current=!0,()=>{r.current=!1}),[]),r}var Xl=(r=>(r[r.Forwards=0]="Forwards",r[r.Backwards=1]="Backwards",r))(Xl||{});function vO(){let r=D.useRef(0);return U1(!0,"keydown",e=>{e.key==="Tab"&&(r.current=e.shiftKey?1:0)},!0),r}function Q1(r){if(!r)return new Set;if(typeof r=="function")return new Set(r());let e=new Set;for(let n of r.current)ms(n.current)&&e.add(n.current);return e}let EO="div";var na=(r=>(r[r.None=0]="None",r[r.InitialFocus=1]="InitialFocus",r[r.TabLock=2]="TabLock",r[r.FocusLock=4]="FocusLock",r[r.RestoreFocus=8]="RestoreFocus",r[r.AutoFocus=16]="AutoFocus",r))(na||{});function TO(r,e){let n=D.useRef(null),s=ji(n,e),{initialFocus:o,initialFocusFallback:u,containers:f,features:m=15,...p}=r;Ef()||(m=0);let y=Sg(n.current);wO(m,{ownerDocument:y});let E=RO(m,{ownerDocument:y,container:n,initialFocus:o,initialFocusFallback:u});CO(m,{ownerDocument:y,container:n,containers:f,previousActiveElement:E});let S=vO(),R=at(ie=>{if(!ma(n.current))return;let re=n.current;(ge=>ge())(()=>{gr(S.current,{[Xl.Forwards]:()=>{su(re,sr.First,{skipElements:[ie.relatedTarget,u]})},[Xl.Backwards]:()=>{su(re,sr.Last,{skipElements:[ie.relatedTarget,u]})}})})}),O=Mu(!!(m&2),"focus-trap#tab-lock"),B=yf(),Y=D.useRef(!1),$={ref:s,onKeyDown(ie){ie.key=="Tab"&&(Y.current=!0,B.requestAnimationFrame(()=>{Y.current=!1}))},onBlur(ie){if(!(m&4))return;let re=Q1(f);ma(n.current)&&re.add(n.current);let ge=ie.relatedTarget;os(ge)&&ge.dataset.headlessuiFocusGuard!=="true"&&(Y1(re,ge)||(Y.current?su(n.current,gr(S.current,{[Xl.Forwards]:()=>sr.Next,[Xl.Backwards]:()=>sr.Previous})|sr.WrapAround,{relativeTo:ie.target}):os(ie.target)&&ur(ie.target)))}},se=Bn();return Ae.createElement(Ae.Fragment,null,O&&Ae.createElement(bp,{as:"button",type:"button","data-headlessui-focus-guard":!0,onFocus:R,features:Kh.Focusable}),se({ourProps:$,theirProps:p,defaultTag:EO,name:"FocusTrap"}),O&&Ae.createElement(bp,{as:"button",type:"button","data-headlessui-focus-guard":!0,onFocus:R,features:Kh.Focusable}))}let bO=mn(TO),SO=Object.assign(bO,{features:na});function AO(r=!0){let e=D.useRef(is.slice());return Ag(([n],[s])=>{s===!0&&n===!1&&gf(()=>{e.current.splice(0)}),s===!1&&n===!0&&(e.current=is.slice())},[r,is,e]),at(()=>{var n;return(n=e.current.find(s=>s!=null&&s.isConnected))!=null?n:null})}function wO(r,{ownerDocument:e}){let n=!!(r&8),s=AO(n);Ag(()=>{n||QN(e?.body)&&ur(s())},[n]),z1(()=>{n&&ur(s())})}function RO(r,{ownerDocument:e,container:n,initialFocus:s,initialFocusFallback:o}){let u=D.useRef(null),f=Mu(!!(r&1),"focus-trap#initial-focus"),m=wg();return Ag(()=>{if(r===0)return;if(!f){o!=null&&o.current&&ur(o.current);return}let p=n.current;p&&gf(()=>{if(!m.current)return;let y=e?.activeElement;if(s!=null&&s.current){if(s?.current===y){u.current=y;return}}else if(p.contains(y)){u.current=y;return}if(s!=null&&s.current)ur(s.current);else{if(r&16){if(su(p,sr.First|sr.AutoFocus)!==Ap.Error)return}else if(su(p,sr.First)!==Ap.Error)return;if(o!=null&&o.current&&(ur(o.current),e?.activeElement===o.current))return;console.warn("There are no focusable elements inside the <FocusTrap />")}u.current=e?.activeElement})},[o,f,r]),u}function CO(r,{ownerDocument:e,container:n,containers:s,previousActiveElement:o}){let u=wg(),f=!!(r&4);j1(e?.defaultView,"focus",m=>{if(!f||!u.current)return;let p=Q1(s);ma(n.current)&&p.add(n.current);let y=o.current;if(!y)return;let E=m.target;ma(E)?Y1(p,E)?(o.current=E,ur(E)):(m.preventDefault(),m.stopPropagation(),ur(y)):ur(o.current)},!0)}function Y1(r,e){for(let n of r)if(n.contains(e))return!0;return!1}function K1(r){var e;return!!(r.enter||r.enterFrom||r.enterTo||r.leave||r.leaveFrom||r.leaveTo)||!iu((e=r.as)!=null?e:Z1)||Ae.Children.count(r.children)===1}let Tf=D.createContext(null);Tf.displayName="TransitionContext";var xO=(r=>(r.Visible="visible",r.Hidden="hidden",r))(xO||{});function IO(){let r=D.useContext(Tf);if(r===null)throw new Error("A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.");return r}function NO(){let r=D.useContext(bf);if(r===null)throw new Error("A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.");return r}let bf=D.createContext(null);bf.displayName="NestingContext";function Sf(r){return"children"in r?Sf(r.children):r.current.filter(({el:e})=>e.current!==null).filter(({state:e})=>e==="visible").length>0}function X1(r,e){let n=Ea(r),s=D.useRef([]),o=wg(),u=yf(),f=at((O,B=as.Hidden)=>{let Y=s.current.findIndex(({el:$})=>$===O);Y!==-1&&(gr(B,{[as.Unmount](){s.current.splice(Y,1)},[as.Hidden](){s.current[Y].state="hidden"}}),u.microTask(()=>{var $;!Sf(s)&&o.current&&(($=n.current)==null||$.call(n))}))}),m=at(O=>{let B=s.current.find(({el:Y})=>Y===O);return B?B.state!=="visible"&&(B.state="visible"):s.current.push({el:O,state:"visible"}),()=>f(O,as.Unmount)}),p=D.useRef([]),y=D.useRef(Promise.resolve()),E=D.useRef({enter:[],leave:[]}),S=at((O,B,Y)=>{p.current.splice(0),e&&(e.chains.current[B]=e.chains.current[B].filter(([$])=>$!==O)),e?.chains.current[B].push([O,new Promise($=>{p.current.push($)})]),e?.chains.current[B].push([O,new Promise($=>{Promise.all(E.current[B].map(([se,ie])=>ie)).then(()=>$())})]),B==="enter"?y.current=y.current.then(()=>e?.wait.current).then(()=>Y(B)):Y(B)}),R=at((O,B,Y)=>{Promise.all(E.current[B].splice(0).map(([$,se])=>se)).then(()=>{var $;($=p.current.shift())==null||$()}).then(()=>Y(B))});return D.useMemo(()=>({children:s,register:m,unregister:f,onStart:S,onStop:R,wait:y,chains:E}),[m,f,s,S,R,E,y])}let Z1=D.Fragment,J1=Yh.RenderStrategy;function DO(r,e){var n,s;let{transition:o=!0,beforeEnter:u,afterEnter:f,beforeLeave:m,afterLeave:p,enter:y,enterFrom:E,enterTo:S,entered:R,leave:O,leaveFrom:B,leaveTo:Y,...$}=r,[se,ie]=D.useState(null),re=D.useRef(null),ge=K1(r),ce=ji(...ge?[re,e,ie]:e===null?[]:[e]),pe=(n=$.unmount)==null||n?as.Unmount:as.Hidden,{show:x,appear:w,initial:I}=IO(),[k,M]=D.useState(x?"visible":"hidden"),P=NO(),{register:C,unregister:Be}=P;fn(()=>C(re),[C,re]),fn(()=>{if(pe===as.Hidden&&re.current){if(x&&k!=="visible"){M("visible");return}return gr(k,{hidden:()=>Be(re),visible:()=>C(re)})}},[k,re,C,Be,x,pe]);let $e=Ef();fn(()=>{if(ge&&$e&&k==="visible"&&re.current===null)throw new Error("Did you forget to passthrough the `ref` to the actual DOM node?")},[re,k,$e,ge]);let K=I&&!w,ae=w&&x&&I,de=D.useRef(!1),xe=X1(()=>{de.current||(M("hidden"),Be(re))},P),Oe=at(Te=>{de.current=!0;let qe=Te?"enter":"leave";xe.onStart(re,qe,Ke=>{Ke==="enter"?u?.():Ke==="leave"&&m?.()})}),V=at(Te=>{let qe=Te?"enter":"leave";de.current=!1,xe.onStop(re,qe,Ke=>{Ke==="enter"?f?.():Ke==="leave"&&p?.()}),qe==="leave"&&!Sf(xe)&&(M("hidden"),Be(re))});D.useEffect(()=>{ge&&o||(Oe(x),V(x))},[x,ge,o]);let Z=!(!o||!ge||!$e||K),[,j]=JD(Z,se,x,{start:Oe,end:V}),ne=ea({ref:ce,className:((s=Tp($.className,ae&&y,ae&&E,j.enter&&y,j.enter&&j.closed&&E,j.enter&&!j.closed&&S,j.leave&&O,j.leave&&!j.closed&&B,j.leave&&j.closed&&Y,!j.transition&&x&&R))==null?void 0:s.trim())||void 0,...ZD(j)}),he=0;k==="visible"&&(he|=ii.Open),k==="hidden"&&(he|=ii.Closed),x&&k==="hidden"&&(he|=ii.Opening),!x&&k==="visible"&&(he|=ii.Closing);let ye=Bn();return Ae.createElement(bf.Provider,{value:xe},Ae.createElement(iO,{value:he},ye({ourProps:ne,theirProps:$,defaultTag:Z1,features:J1,visible:k==="visible",name:"Transition.Child"})))}function OO(r,e){let{show:n,appear:s=!1,unmount:o=!0,...u}=r,f=D.useRef(null),m=K1(r),p=ji(...m?[f,e]:e===null?[]:[e]);Ef();let y=vf();if(n===void 0&&y!==null&&(n=(y&ii.Open)===ii.Open),n===void 0)throw new Error("A <Transition /> is used but it is missing a `show={true | false}` prop.");let[E,S]=D.useState(n?"visible":"hidden"),R=X1(()=>{n||S("hidden")}),[O,B]=D.useState(!0),Y=D.useRef([n]);fn(()=>{O!==!1&&Y.current[Y.current.length-1]!==n&&(Y.current.push(n),B(!1))},[Y,n]);let $=D.useMemo(()=>({show:n,appear:s,initial:O}),[n,s,O]);fn(()=>{n?S("visible"):!Sf(R)&&f.current!==null&&S("hidden")},[n,R]);let se={unmount:o},ie=at(()=>{var ce;O&&B(!1),(ce=r.beforeEnter)==null||ce.call(r)}),re=at(()=>{var ce;O&&B(!1),(ce=r.beforeLeave)==null||ce.call(r)}),ge=Bn();return Ae.createElement(bf.Provider,{value:R},Ae.createElement(Tf.Provider,{value:$},ge({ourProps:{...se,as:D.Fragment,children:Ae.createElement(W1,{ref:p,...se,...u,beforeEnter:ie,beforeLeave:re})},theirProps:{},defaultTag:D.Fragment,features:J1,visible:E==="visible",name:"Transition"})))}function MO(r,e){let n=D.useContext(Tf)!==null,s=vf()!==null;return Ae.createElement(Ae.Fragment,null,!n&&s?Ae.createElement(Rp,{ref:e,...r}):Ae.createElement(W1,{ref:e,...r}))}let Rp=mn(OO),W1=mn(DO),Rg=mn(MO),la=Object.assign(Rp,{Child:Rg,Root:Rp});var VO=(r=>(r[r.Open=0]="Open",r[r.Closed=1]="Closed",r))(VO||{}),kO=(r=>(r[r.SetTitleId=0]="SetTitleId",r))(kO||{});let LO={0(r,e){return r.titleId===e.id?r:{...r,titleId:e.id}}},Cg=D.createContext(null);Cg.displayName="DialogContext";function Af(r){let e=D.useContext(Cg);if(e===null){let n=new Error(`<${r} /> is missing a parent <Dialog /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,Af),n}return e}function PO(r,e){return gr(e.type,LO,r,e)}let KE=mn(function(r,e){let n=D.useId(),{id:s=`headlessui-dialog-${n}`,open:o,onClose:u,initialFocus:f,role:m="dialog",autoFocus:p=!0,__demoMode:y=!1,unmount:E=!1,...S}=r,R=D.useRef(!1);m=(function(){return m==="dialog"||m==="alertdialog"?m:(R.current||(R.current=!0,console.warn(`Invalid role [${m}] passed to <Dialog />. Only \`dialog\` and and \`alertdialog\` are supported. Using \`dialog\` instead.`)),"dialog")})();let O=vf();o===void 0&&O!==null&&(o=(O&ii.Open)===ii.Open);let B=D.useRef(null),Y=ji(B,e),$=Sg(B.current),se=o?0:1,[ie,re]=D.useReducer(PO,{titleId:null,descriptionId:null,panelRef:D.createRef()}),ge=at(()=>u(!1)),ce=at(j=>re({type:0,id:j})),pe=Ef()?se===0:!1,[x,w]=fO(),I={get current(){var j;return(j=ie.panelRef.current)!=null?j:B.current}},k=$1(),{resolveContainers:M}=yO({mainTreeNode:k,portals:x,defaultContainers:[I]}),P=O!==null?(O&ii.Closing)===ii.Closing:!1;xD(y||P?!1:pe,{allowed:at(()=>{var j,ne;return[(ne=(j=B.current)==null?void 0:j.closest("[data-headlessui-portal]"))!=null?ne:null]}),disallowed:at(()=>{var j;return[(j=k?.closest("body > *:not(#headlessui-portal-root)"))!=null?j:null]})});let C=V1.get(null);fn(()=>{if(pe)return C.actions.push(s),()=>C.actions.pop(s)},[C,s,pe]);let Be=k1(C,D.useCallback(j=>C.selectors.isTop(j,s),[C,s]));zD(Be,M,j=>{j.preventDefault(),ge()}),pO(Be,$?.defaultView,j=>{j.preventDefault(),j.stopPropagation(),document.activeElement&&"blur"in document.activeElement&&typeof document.activeElement.blur=="function"&&document.activeElement.blur(),ge()}),QD(y||P?!1:pe,$,M),ID(pe,B,ge);let[$e,K]=lD(),ae=D.useMemo(()=>[{dialogState:se,close:ge,setTitleId:ce,unmount:E},ie],[se,ge,ce,E,ie]),de=Ou({open:se===0}),xe={ref:Y,id:s,role:m,tabIndex:-1,"aria-modal":y?void 0:se===0?!0:void 0,"aria-labelledby":ie.titleId,"aria-describedby":$e,unmount:E},Oe=!gO(),V=na.None;pe&&!y&&(V|=na.RestoreFocus,V|=na.TabLock,p&&(V|=na.AutoFocus),Oe&&(V|=na.InitialFocus));let Z=Bn();return Ae.createElement(rO,null,Ae.createElement(QE,{force:!0},Ae.createElement(mO,null,Ae.createElement(Cg.Provider,{value:ae},Ae.createElement(F1,{target:B},Ae.createElement(QE,{force:!1},Ae.createElement(K,{slot:de},Ae.createElement(w,null,Ae.createElement(SO,{initialFocus:f,initialFocusFallback:B,containers:M,features:V},Ae.createElement(mD,{value:ge},Z({ourProps:xe,theirProps:S,slot:de,defaultTag:UO,features:jO,visible:se===0,name:"Dialog"})))))))))))}),UO="div",jO=Yh.RenderStrategy|Yh.Static;function zO(r,e){let{transition:n=!1,open:s,...o}=r,u=vf(),f=r.hasOwnProperty("open")||u!==null,m=r.hasOwnProperty("onClose");if(!f&&!m)throw new Error("You have to provide an `open` and an `onClose` prop to the `Dialog` component.");if(!f)throw new Error("You provided an `onClose` prop to the `Dialog`, but forgot an `open` prop.");if(!m)throw new Error("You provided an `open` prop to the `Dialog`, but forgot an `onClose` prop.");if(!u&&typeof r.open!="boolean")throw new Error(`You provided an \`open\` prop to the \`Dialog\`, but the value is not a boolean. Received: ${r.open}`);if(typeof r.onClose!="function")throw new Error(`You provided an \`onClose\` prop to the \`Dialog\`, but the value is not a function. Received: ${r.onClose}`);return(s!==void 0||n)&&!o.static?Ae.createElement(YE,null,Ae.createElement(la,{show:s,transition:n,unmount:o.unmount},Ae.createElement(KE,{ref:e,...o}))):Ae.createElement(YE,null,Ae.createElement(KE,{ref:e,open:s,...o}))}let BO="div";function qO(r,e){let n=D.useId(),{id:s=`headlessui-dialog-panel-${n}`,transition:o=!1,...u}=r,[{dialogState:f,unmount:m},p]=Af("Dialog.Panel"),y=ji(e,p.panelRef),E=Ou({open:f===0}),S=at($=>{$.stopPropagation()}),R={ref:y,id:s,onClick:S},O=o?Rg:D.Fragment,B=o?{unmount:m}:{},Y=Bn();return Ae.createElement(O,{...B},Y({ourProps:R,theirProps:u,slot:E,defaultTag:BO,name:"Dialog.Panel"}))}let HO="div";function FO(r,e){let{transition:n=!1,...s}=r,[{dialogState:o,unmount:u}]=Af("Dialog.Backdrop"),f=Ou({open:o===0}),m={ref:e,"aria-hidden":!0},p=n?Rg:D.Fragment,y=n?{unmount:u}:{},E=Bn();return Ae.createElement(p,{...y},E({ourProps:m,theirProps:s,slot:f,defaultTag:HO,name:"Dialog.Backdrop"}))}let GO="h2";function $O(r,e){let n=D.useId(),{id:s=`headlessui-dialog-title-${n}`,...o}=r,[{dialogState:u,setTitleId:f}]=Af("Dialog.Title"),m=ji(e);D.useEffect(()=>(f(s),()=>f(null)),[s,f]);let p=Ou({open:u===0}),y={ref:m,id:s};return Bn()({ourProps:y,theirProps:o,slot:p,defaultTag:GO,name:"Dialog.Title"})}let QO=mn(zO),YO=mn(qO);mn(FO);let KO=mn($O),To=Object.assign(QO,{Panel:YO,Title:KO,Description:fD});function XO({title:r,titleId:e,...n},s){return D.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":e},n),r?D.createElement("title",{id:e},r):null,D.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6.75 3v2.25M17.25 3v2.25M3 18.75V7.5a2.25 2.25 0 0 1 2.25-2.25h13.5A2.25 2.25 0 0 1 21 7.5v11.25m-18 0A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75m-18 0v-7.5A2.25 2.25 0 0 1 5.25 9h13.5A2.25 2.25 0 0 1 21 11.25v7.5m-9-6h.008v.008H12v-.008ZM12 15h.008v.008H12V15Zm0 2.25h.008v.008H12v-.008ZM9.75 15h.008v.008H9.75V15Zm0 2.25h.008v.008H9.75v-.008ZM7.5 15h.008v.008H7.5V15Zm0 2.25h.008v.008H7.5v-.008Zm6.75-4.5h.008v.008h-.008v-.008Zm0 2.25h.008v.008h-.008V15Zm0 2.25h.008v.008h-.008v-.008Zm2.25-4.5h.008v.008H16.5v-.008Zm0 2.25h.008v.008H16.5V15Z"}))}const ZO=D.forwardRef(XO);function JO({title:r,titleId:e,...n},s){return D.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":e},n),r?D.createElement("title",{id:e},r):null,D.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m19.5 8.25-7.5 7.5-7.5-7.5"}))}const WO=D.forwardRef(JO);function e4({title:r,titleId:e,...n},s){return D.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":e},n),r?D.createElement("title",{id:e},r):null,D.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M11.35 3.836c-.065.21-.1.433-.1.664 0 .414.336.75.75.75h4.5a.75.75 0 0 0 .75-.75 2.25 2.25 0 0 0-.1-.664m-5.8 0A2.251 2.251 0 0 1 13.5 2.25H15c1.012 0 1.867.668 2.15 1.586m-5.8 0c-.376.023-.75.05-1.124.08C9.095 4.01 8.25 4.973 8.25 6.108V8.25m8.9-4.414c.376.023.75.05 1.124.08 1.131.094 1.976 1.057 1.976 2.192V16.5A2.25 2.25 0 0 1 18 18.75h-2.25m-7.5-10.5H4.875c-.621 0-1.125.504-1.125 1.125v11.25c0 .621.504 1.125 1.125 1.125h9.75c.621 0 1.125-.504 1.125-1.125V18.75m-7.5-10.5h6.375c.621 0 1.125.504 1.125 1.125v9.375m-8.25-3 1.5 1.5 3-3.75"}))}const t4=D.forwardRef(e4);function n4({title:r,titleId:e,...n},s){return D.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":e},n),r?D.createElement("title",{id:e},r):null,D.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6v12m-3-2.818.879.659c1.171.879 3.07.879 4.242 0 1.172-.879 1.172-2.303 0-3.182C13.536 12.219 12.768 12 12 12c-.725 0-1.45-.22-2.003-.659-1.106-.879-1.106-2.303 0-3.182s2.9-.879 4.006 0l.415.33M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}const eS=D.forwardRef(n4);function i4({title:r,titleId:e,...n},s){return D.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":e},n),r?D.createElement("title",{id:e},r):null,D.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v3.75m-9.303 3.376c-.866 1.5.217 3.374 1.948 3.374h14.71c1.73 0 2.813-1.874 1.948-3.374L13.949 3.378c-.866-1.5-3.032-1.5-3.898 0L2.697 16.126ZM12 15.75h.007v.008H12v-.008Z"}))}const tS=D.forwardRef(i4);function r4({title:r,titleId:e,...n},s){return D.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":e},n),r?D.createElement("title",{id:e},r):null,D.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m11.25 11.25.041-.02a.75.75 0 0 1 1.063.852l-.708 2.836a.75.75 0 0 0 1.063.853l.041-.021M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Zm-9-3.75h.008v.008H12V8.25Z"}))}const nS=D.forwardRef(r4);function s4({title:r,titleId:e,...n},s){return D.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":e},n),r?D.createElement("title",{id:e},r):null,D.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13.19 8.688a4.5 4.5 0 0 1 1.242 7.244l-4.5 4.5a4.5 4.5 0 0 1-6.364-6.364l1.757-1.757m13.35-.622 1.757-1.757a4.5 4.5 0 0 0-6.364-6.364l-4.5 4.5a4.5 4.5 0 0 0 1.242 7.244"}))}const a4=D.forwardRef(s4);function o4({title:r,titleId:e,...n},s){return D.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":e},n),r?D.createElement("title",{id:e},r):null,D.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 10.5a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"}),D.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 10.5c0 7.142-7.5 11.25-7.5 11.25S4.5 17.642 4.5 10.5a7.5 7.5 0 1 1 15 0Z"}))}const iS=D.forwardRef(o4);function l4({title:r,titleId:e,...n},s){return D.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":e},n),r?D.createElement("title",{id:e},r):null,D.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M18 7.5v3m0 0v3m0-3h3m-3 0h-3m-2.25-4.125a3.375 3.375 0 1 1-6.75 0 3.375 3.375 0 0 1 6.75 0ZM3 19.235v-.11a6.375 6.375 0 0 1 12.75 0v.109A12.318 12.318 0 0 1 9.374 21c-2.331 0-4.512-.645-6.374-1.766Z"}))}const u4=D.forwardRef(l4);function c4({title:r,titleId:e,...n},s){return D.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":e},n),r?D.createElement("title",{id:e},r):null,D.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18 18 6M6 6l12 12"}))}const rS=D.forwardRef(c4),XE="REPLACE_THIS_WITH_YOUR_USER_ID",Cp={apiKey:"AIzaSyC4F87md0cSuUVhTzhnPMUtvlqb0273ckE",authDomain:"climb-ccny-app.firebaseapp.com",projectId:"climb-ccny-app",storageBucket:"climb-ccny-app.firebasestorage.app",messagingSenderId:"819152854217",appId:"1:819152854217:web:2d0dd98c9c35086ba70118"},xg=typeof __app_id<"u"?__app_id:"default-app-id";let rs,ta,ei;try{rs=Ih(Cp),ta=qT(rs),ei=vp(rs),KT("Debug")}catch(r){console.error("Firebase initialization error:",r)}const sS=`/artifacts/${xg}/users`,au=`/artifacts/${xg}/public/data/sessions`,ou=`/artifacts/${xg}/public/data/signups`,Ig=r=>{if(!r)return"N/A";let e=r;return r&&typeof r.toDate=="function"&&(e=r.toDate()),new Intl.DateTimeFormat("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric",hour:"numeric",minute:"numeric",hour12:!0}).format(e)},h4=({userId:r,isAuthReady:e,onShowTutorial:n})=>b.jsx("header",{className:"bg-purple-800 shadow-md",children:b.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:b.jsxs("div",{className:"flex justify-between items-center h-20",children:[b.jsx("div",{className:"flex items-center",children:b.jsx("h1",{className:"text-2xl font-bold text-white text-center",children:"Climb CCNY Sign-Ups"})}),b.jsx("div",{className:"flex items-center space-x-4",children:b.jsxs("button",{onClick:n,className:"flex items-center text-purple-200 hover:text-white focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-purple-800 focus:ring-white rounded-md p-1",title:"How to Use This App",children:[b.jsx(nS,{className:"h-7 w-7"}),b.jsx("span",{className:"ml-1 hidden sm:inline",children:"How to Use"})]})})]})})}),yu=()=>b.jsxs("div",{className:"flex justify-center items-center p-10",children:[b.jsxs("svg",{className:"animate-spin h-8 w-8 text-purple-700",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[b.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),b.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),b.jsx("span",{className:"ml-3 text-gray-700",children:"Loading..."})]}),f4=({userId:r,db:e})=>{const[n,s]=D.useState(""),[o,u]=D.useState(""),[f,m]=D.useState(""),[p,y]=D.useState(""),[E,S]=D.useState(""),[R,O]=D.useState(""),[B,Y]=D.useState(""),[$,se]=D.useState(!1),[ie,re]=D.useState(""),ge=async ce=>{if(ce.preventDefault(),!n||!o||!B||!f||!p||!E||!R){re("Please fill out all fields.");return}if(!$){re("You must confirm you have filled out the Movement Harlem waiver to create a profile.");return}re("Creating profile...");try{const pe=Po(e,sS,r);await BN(pe,{name:n,emplid:o,phone:f,email:p,citymail:E,address:R,emergencyContact:B,waiverChecked:$,createdAt:et.now()}),re("Profile created successfully!")}catch(pe){console.error("Error creating profile:",pe),re("Error creating profile. Please try again.")}};return b.jsxs("div",{className:"bg-white shadow-lg rounded-xl overflow-hidden max-w-2xl mx-auto p-6 md:p-8 mt-8 border border-purple-200",children:[b.jsxs("div",{className:"text-center",children:[b.jsx(u4,{className:"mx-auto h-12 w-12 text-purple-600"}),b.jsx("h2",{className:"text-2xl font-bold text-gray-900 mt-4",children:"Create Your Climber Profile"}),b.jsx("p",{className:"mt-2 text-gray-600",children:"Welcome to Climb CCNY! Please create your profile once. This info will be automatically used every time you sign up."})]}),b.jsxs("div",{className:"bg-yellow-50 border border-yellow-300 rounded-lg p-4 mt-6",children:[b.jsx("h3",{className:"text-lg font-semibold text-yellow-800",children:"Important Note!"}),b.jsxs("p",{className:"mt-1 text-yellow-700",children:["Your profile is saved to this ",b.jsx("strong",{children:"specific browser and device"}),". If you use a different computer or phone (or a different browser), you will be asked to create a new profile."]}),b.jsx("p",{className:"mt-2 text-yellow-700",children:"Please try to use the same device/browser each week!"})]}),b.jsxs("div",{className:"bg-purple-50 border border-purple-200 rounded-lg p-4 mt-6",children:[b.jsx("h3",{className:"text-lg font-semibold text-purple-800 mb-2",children:"How to Get Started (One-Time Setup)"}),b.jsxs("ol",{className:"list-decimal list-inside space-y-1 text-purple-700",children:[b.jsxs("li",{children:["Fill in your ",b.jsx("strong",{children:"Full Name"}),", ",b.jsx("strong",{children:"EMPLID"}),", and all contact details."]}),b.jsx("li",{children:"Check the box to confirm you've filled out the **Movement Harlem waiver**."}),b.jsx("li",{children:'Click "Save Profile".'})]}),b.jsx("p",{className:"mt-3 text-sm text-purple-600",children:"That's it! After this, you'll just click one button to sign up for sessions."}),b.jsxs("p",{className:"mt-3 text-sm text-purple-700",children:["Need help or want to connect? Find us on"," ",b.jsx("a",{href:"https://linktr.ee/climbccny",target:"_blank",rel:"noopener noreferrer",className:"font-bold underline hover:text-purple-900",children:"our Linktree"}),"."]})]}),b.jsxs("form",{onSubmit:ge,className:"mt-6 space-y-4",children:[b.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[b.jsxs("div",{children:[b.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700",children:"Full Name"}),b.jsx("input",{type:"text",id:"name",value:n,onChange:ce=>s(ce.target.value),placeholder:"e.g., Sam Climber",className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-purple-500 focus:border-purple-500",required:!0})]}),b.jsxs("div",{children:[b.jsx("label",{htmlFor:"emplid",className:"block text-sm font-medium text-gray-700",children:"EMPLID"}),b.jsx("input",{type:"text",id:"emplid",value:o,onChange:ce=>u(ce.target.value),placeholder:"e.g., 12345678",className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-purple-500 focus:border-purple-500",required:!0})]}),b.jsxs("div",{children:[b.jsx("label",{htmlFor:"phone",className:"block text-sm font-medium text-gray-700",children:"Phone Number"}),b.jsx("input",{type:"tel",id:"phone",value:f,onChange:ce=>m(ce.target.value),placeholder:"e.g., (555) 123-4567",className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-purple-500 focus:border-purple-500",required:!0})]}),b.jsxs("div",{children:[b.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700",children:"Personal Email"}),b.jsx("input",{type:"email",id:"email",value:p,onChange:ce=>y(ce.target.value),placeholder:"e.g., sam.climber@gmail.com",className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-purple-500 focus:border-purple-500",required:!0})]}),b.jsxs("div",{className:"md:col-span-2",children:[b.jsx("label",{htmlFor:"citymail",className:"block text-sm font-medium text-gray-700",children:"Citymail Email"}),b.jsx("input",{type:"email",id:"citymail",value:E,onChange:ce=>S(ce.target.value),placeholder:"e.g., SClimber001@citymail.cuny.edu",className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-purple-500 focus:border-purple-500",required:!0})]}),b.jsxs("div",{className:"md:col-span-2",children:[b.jsx("label",{htmlFor:"address",className:"block text-sm font-medium text-gray-700",children:"Address"}),b.jsx("input",{type:"text",id:"address",value:R,onChange:ce=>O(ce.target.value),placeholder:"e.g., 123 Main St, New York, NY 10001",className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-purple-500 focus:border-purple-500",required:!0})]}),b.jsxs("div",{className:"md:col-span-2",children:[b.jsx("label",{htmlFor:"emergencyContact",className:"block text-sm font-medium text-gray-700",children:"Emergency Contact (Name & Phone)"}),b.jsx("input",{type:"text",id:"emergencyContact",value:B,onChange:ce=>Y(ce.target.value),placeholder:"e.g., Jane Climber - (555) 123-4567",className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-purple-500 focus:border-purple-500",required:!0})]})]}),b.jsx("div",{className:"mt-6",children:b.jsxs("div",{className:"relative flex items-start",children:[b.jsx("div",{className:"flex h-5 items-center",children:b.jsx("input",{id:"waiver",name:"waiver",type:"checkbox",checked:$,onChange:ce=>se(ce.target.checked),className:"h-4 w-4 rounded border-gray-300 text-purple-600 focus:ring-purple-500",required:!0})}),b.jsxs("div",{className:"ml-3 text-sm",children:[b.jsx("label",{htmlFor:"waiver",className:"font-medium text-gray-700",children:"I confirm I have filled out the Movement Harlems waiver"}),b.jsx("p",{className:"text-gray-500",children:"This is required to participate."})]})]})}),b.jsx("button",{type:"submit",className:"w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-purple-700 hover:bg-purple-800 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-purple-500 mt-6",children:"Save Profile"}),ie&&b.jsx("p",{className:`text-center text-sm mt-4 ${ie.includes("Error")||ie.includes("must confirm")?"text-red-600":"text-gray-600"}`,children:ie})]})]})},d4=({userId:r,db:e,profile:n})=>{const[s,o]=D.useState([]),[u,f]=D.useState({}),[m,p]=D.useState(!0),[y,E]=D.useState({});D.useEffect(()=>{if(!e)return;const O=gu(sa(e,au)),B=Io(O,Y=>{const se=Y.docs.map(ie=>({id:ie.id,...ie.data()})).filter(ie=>!ie.sessionDate||typeof ie.sessionDate.toDate!="function"?!1:ie.sessionDate.toDate()>=new Date);o(se.sort((ie,re)=>ie.sessionDate-re.sessionDate)),p(!1)},Y=>{console.error("Error fetching sessions:",Y),p(!1)});return()=>B()},[e]),D.useEffect(()=>{if(!e||!r)return;const O=gu(sa(e,ou),_g("userId","==",r)),B=Io(O,Y=>{const $={};Y.docs.forEach(se=>{$[se.data().sessionId]=se.id}),f($)});return()=>B()},[e,r]);const S=async O=>{if(!n){E({...y,[O]:"Error: Profile missing."});return}E({...y,[O]:"Signing up..."});try{await A1(sa(e,ou),{userId:r,sessionId:O,profileName:n.name,profileEmplid:n.emplid,profilePhone:n.phone,profileEmail:n.email,profileCitymail:n.citymail,profileAddress:n.address,profileEmergencyContact:n.emergencyContact,signedUpAt:et.now()}),E({...y,[O]:"Signed up!"})}catch(B){console.error("Error signing up:",B),E({...y,[O]:"Error. Please try again."})}},R=async O=>{const B=u[O];if(!B){E({...y,[O]:"Error: Signup not found."});return}E({...y,[O]:"Canceling..."});try{await S1(Po(e,ou,B)),E({...y,[O]:"Canceled."})}catch(Y){console.error("Error canceling signup:",Y),E({...y,[O]:"Error. Please try again."})}};return m?b.jsx(yu,{}):b.jsxs("div",{className:"max-w-4xl mx-auto mt-8",children:[b.jsxs("h2",{className:"text-3xl font-bold text-gray-900 mb-6 flex items-center",children:[b.jsx(ZO,{className:"h-8 w-8 text-purple-700 mr-2"}),"Available Climbing Sessions"]}),b.jsx("div",{className:"space-y-6",children:s.length===0?b.jsx("p",{className:"text-center text-gray-600 bg-white p-6 rounded-lg shadow",children:"No upcoming sessions have been posted by an admin yet. Check back soon!"}):s.map(O=>{const B=!!u[O.id],Y=y[O.id]||null;return b.jsx("div",{className:"bg-white shadow-lg rounded-xl overflow-hidden border border-gray-200",children:b.jsxs("div",{className:"p-5 sm:p-6",children:[b.jsxs("div",{className:"sm:flex sm:items-center sm:justify-between",children:[b.jsxs("div",{children:[b.jsx("h3",{className:"text-xl font-semibold text-purple-800",children:O.name}),b.jsx("p",{className:"text-gray-600 mt-1",children:Ig(O.sessionDate)})]}),b.jsx("div",{className:"mt-4 sm:mt-0 sm:ml-6 sm:flex-shrink-0",children:B?b.jsx("button",{onClick:()=>R(O.id),disabled:!!Y,className:"w-full inline-flex justify-center items-center px-5 py-2 border border-gray-300 text-base font-medium rounded-md text-gray-700 bg-gray-100 hover:bg-gray-200 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-purple-500 sm:w-auto disabled:opacity-50",children:Y||"Cancel Sign-Up"}):b.jsx("button",{onClick:()=>S(O.id),disabled:!!Y,className:"w-full inline-flex justify-center items-center px-5 py-2 border border-transparent text-base font-medium rounded-md text-white bg-purple-700 hover:bg-purple-800 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-purple-500 sm:w-auto disabled:opacity-50",children:Y||"Sign Up"})})]}),b.jsxs("div",{className:"mt-4 pt-4 border-t border-gray-200 space-y-3",children:[O.location&&b.jsxs("div",{className:"flex items-center",children:[b.jsx(iS,{className:"h-5 w-5 text-gray-500 mr-2"}),b.jsx("span",{className:"text-gray-700",children:O.location})]}),O.price&&b.jsxs("div",{className:"flex items-center",children:[b.jsx(eS,{className:"h-5 w-5 text-gray-500 mr-2"}),b.jsx("span",{className:"text-gray-700",children:O.price})]}),O.description&&b.jsx("p",{className:"text-gray-600",children:O.description}),O.waiverLink&&b.jsxs("div",{className:"flex items-start",children:[b.jsx(tS,{className:"h-5 w-5 text-yellow-600 mr-2 mt-0.5"}),b.jsxs("span",{className:"text-gray-700",children:["Please complete this session's waiver:"," ",b.jsx("a",{href:O.waiverLink.startsWith("http")?O.waiverLink:`https://${O.waiverLink}`,target:"_blank",rel:"noopener noreferrer",className:"font-medium text-purple-700 underline hover:text-purple-900",children:"Click Here"})]})]})]})]})},O.id)})})]})},m4=({db:r,userId:e})=>{const[n,s]=D.useState(""),[o,u]=D.useState(""),[f,m]=D.useState(""),[p,y]=D.useState(""),[E,S]=D.useState(""),[R,O]=D.useState(""),[B,Y]=D.useState(""),[$,se]=D.useState([]),[ie,re]=D.useState({}),[ge,ce]=D.useState(!0),[pe,x]=D.useState({}),[w,I]=D.useState({}),[k,M]=D.useState("create"),[P,C]=D.useState(null);D.useEffect(()=>{if(!r)return;const j=gu(sa(r,au)),ne=Io(j,he=>{const ye=he.docs.map(Te=>({id:Te.id,...Te.data()}));se(ye.sort((Te,qe)=>qe.sessionDate-Te.sessionDate)),ce(!1)},he=>{console.error("Error fetching all sessions:",he),ce(!1)});return()=>ne()},[r]);const Be=async j=>{if(j.preventDefault(),!n||!o){Y("Please add a name and date.");return}Y("Creating session...");try{await A1(sa(r,au),{name:n,description:f,location:p,price:E,waiverLink:R,sessionDate:et.fromDate(new Date(o)),createdBy:e,createdAt:et.now()}),Y("Session created successfully!"),s(""),u(""),m(""),y(""),S(""),O(""),setTimeout(()=>{Y(""),M("manage")},1500)}catch(ne){console.error("Error creating session:",ne),Y("Error creating session.")}},[$e,K]=D.useState({isOpen:!1,message:"",onConfirm:()=>{},onCancel:()=>{}}),ae=j=>new Promise(ne=>{K({isOpen:!0,message:j,onConfirm:()=>{K({isOpen:!1,message:"",onConfirm:()=>{},onCancel:()=>{}}),ne(!0)},onCancel:()=>{K({isOpen:!1,message:"",onConfirm:()=>{},onCancel:()=>{}}),ne(!1)}})}),de=async j=>{if(await ae("Are you sure you want to delete this session? This will not delete the sign-ups, but the session will be gone."))try{await S1(Po(r,au,j))}catch(he){console.error("Error deleting session:",he),alert("Error deleting session.")}},xe=async j=>{if(P===j){C(null);return}C(j),x({...pe,[j]:!0});try{const ne=gu(sa(r,ou),_g("sessionId","==",j)),ye=(await zN(ne)).docs.map(Te=>Te.data());re({...ie,[j]:ye}),x({...pe,[j]:!1})}catch(ne){console.error("Error fetching roster:",ne),x({...pe,[j]:!1})}},Oe=(j,ne,he)=>{const ye=document.createElement("textarea");ye.value=j,ye.style.position="fixed",ye.style.opacity="0",document.body.appendChild(ye),ye.select();try{document.execCommand("copy"),I({...w,[ne]:{...w[ne],[he]:"Copied!"}})}catch(Te){console.error("Failed to copy:",Te),I({...w,[ne]:{...w[ne],[he]:"Failed."}})}document.body.removeChild(ye),setTimeout(()=>I({...w,[ne]:{...w[ne],[he]:null}}),2e3)},V=j=>{const ne=ie[j];if(!ne||ne.length===0){I({...w,[j]:{...w[j],roster:"Empty."}});return}const he="Name	EMPLID	Phone	Personal Email	Citymail	Address	Emergency Contact",ye=ne.map(qe=>`${qe.profileName||"N/A"}	${qe.profileEmplid||"N/A"}	${qe.profilePhone||"N/A"}	${qe.profileEmail||"N/A"}	${qe.profileCitymail||"N/A"}	${qe.profileAddress||"N/A"}	${qe.profileEmergencyContact||"N/A"}`),Te=[he,...ye].join(`
`);Oe(Te,j,"roster")},Z=j=>{const ne=`${window.location.origin}${window.location.pathname}?page=roster&session=${j}`;Oe(ne,j,"link")};return b.jsxs(b.Fragment,{children:[b.jsx("div",{className:"max-w-4xl mx-auto mt-10 bg-white shadow-2xl rounded-xl border border-purple-300 overflow-hidden",children:b.jsxs("div",{className:"p-6",children:[b.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-6",children:"Admin Panel"}),b.jsx("div",{className:"border-b border-gray-200",children:b.jsxs("nav",{className:"-mb-px flex space-x-8","aria-label":"Tabs",children:[b.jsx("button",{onClick:()=>M("create"),className:`
                  ${k==="create"?"border-purple-600 text-purple-700":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}
                  whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm
                `,children:"Create Session"}),b.jsx("button",{onClick:()=>M("manage"),className:`
                  ${k==="manage"?"border-purple-600 text-purple-700":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}
                  whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm
                `,children:"Manage Sessions & Rosters"})]})}),b.jsx("div",{className:k==="create"?"block":"hidden",children:b.jsxs("form",{onSubmit:Be,className:"mt-6 space-y-4",children:[b.jsxs("div",{children:[b.jsx("label",{htmlFor:"sessionName",className:"block text-sm font-medium text-gray-700",children:"Session Name"}),b.jsx("input",{type:"text",id:"sessionName",value:n,onChange:j=>s(j.target.value),placeholder:"e.g., Weekly Climbing @ GP81",className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-purple-500 focus:border-purple-500",required:!0})]}),b.jsxs("div",{children:[b.jsx("label",{htmlFor:"sessionDate",className:"block text-sm font-medium text-gray-700",children:"Session Date and Time"}),b.jsx("input",{type:"datetime-local",id:"sessionDate",value:o,onChange:j=>u(j.target.value),className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-purple-500 focus:border-purple-500",required:!0})]}),b.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[b.jsxs("div",{children:[b.jsx("label",{htmlFor:"sessionLocation",className:"block text-sm font-medium text-gray-700",children:"Location (Optional)"}),b.jsx("input",{type:"text",id:"sessionLocation",value:p,onChange:j=>y(j.target.value),placeholder:"e.g., Movement Harlem",className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-purple-500 focus:border-purple-500"})]}),b.jsxs("div",{children:[b.jsx("label",{htmlFor:"sessionPrice",className:"block text-sm font-medium text-gray-700",children:"Price (Optional)"}),b.jsx("input",{type:"text",id:"sessionPrice",value:E,onChange:j=>S(j.target.value),placeholder:"e.g., $15 (with gear)",className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-purple-500 focus:border-purple-500"})]})]}),b.jsxs("div",{children:[b.jsx("label",{htmlFor:"sessionWaiverLink",className:"block text-sm font-medium text-gray-700",children:"Waiver Link (Optional)"}),b.jsx("input",{type:"text",id:"sessionWaiverLink",value:R,onChange:j=>O(j.target.value),placeholder:"e.g., movementgyms.com/waiver",className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-purple-500 focus:border-purple-500"})]}),b.jsxs("div",{children:[b.jsx("label",{htmlFor:"sessionDesc",className:"block text-sm font-medium text-gray-700",children:"Description (Optional)"}),b.jsx("textarea",{id:"sessionDesc",value:f,onChange:j=>m(j.target.value),rows:"3",placeholder:"e.g., Bouldering session. All levels welcome!",className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-purple-500 focus:border-purple-500"})]}),b.jsx("button",{type:"submit",className:"w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-purple-700 hover:bg-purple-800 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-purple-500",children:"Create Session"}),B&&b.jsx("p",{className:"text-center text-sm text-gray-600 mt-2",children:B})]})}),b.jsx("div",{className:k==="manage"?"block":"hidden",children:b.jsx("div",{className:"mt-6 flow-root",children:ge?b.jsx(yu,{}):b.jsx("ul",{role:"list",className:"-my-5 divide-y divide-gray-200",children:$.length===0?b.jsx("p",{className:"text-gray-600 text-center py-4",children:"You haven't created any sessions yet."}):$.map(j=>b.jsxs("li",{className:"py-5",children:[b.jsxs("div",{className:"flex items-center space-x-4",children:[b.jsxs("div",{className:"flex-1 min-w-0",children:[b.jsx("p",{className:"text-base font-medium text-purple-800 truncate",children:j.name}),b.jsx("p",{className:"text-sm text-gray-600 truncate",children:Ig(j.sessionDate)})]}),b.jsxs("div",{className:"flex items-center space-x-2",children:[b.jsxs("button",{onClick:()=>xe(j.id),className:"inline-flex items-center shadow-sm px-3 py-2 border border-gray-300 text-sm leading-4 font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-purple-500",children:[b.jsxs("span",{children:[P===j.id?"Hide":"View"," Roster"]}),b.jsx(WO,{className:`ml-1 h-4 w-4 transform ${P===j.id?"rotate-180":""}`})]}),b.jsx("button",{onClick:()=>de(j.id),className:"inline-flex items-center p-2 border border-transparent rounded-full shadow-sm text-white bg-red-600 hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500",title:"Delete Session",children:b.jsx(rS,{className:"h-5 w-5"})})]})]}),P===j.id&&b.jsx("div",{className:"mt-4 pl-4 border-l-4 border-purple-200",children:pe[j.id]?b.jsx(yu,{}):b.jsxs("div",{children:[b.jsxs("div",{className:"flex flex-wrap justify-between items-center mb-2 gap-2",children:[b.jsxs("h4",{className:"text-lg font-semibold text-gray-800",children:["Roster (",ie[j.id]?.length||0," signed up)"]}),b.jsxs("div",{className:"flex space-x-2",children:[b.jsxs("button",{onClick:()=>Z(j.id),className:"flex items-center text-sm font-medium text-purple-700 hover:text-purple-900",children:[b.jsx(a4,{className:"h-5 w-5 mr-1"}),w[j.id]?.link||"Share Live Link"]}),b.jsxs("button",{onClick:()=>V(j.id),className:"flex items-center text-sm font-medium text-purple-700 hover:text-purple-900",children:[b.jsx(t4,{className:"h-5 w-5 mr-1"}),w[j.id]?.roster||"Copy for Sheet"]})]})]}),b.jsx("div",{className:"max-h-60 overflow-y-auto pr-2",children:ie[j.id]&&ie[j.id].length>0?b.jsx("div",{className:"overflow-x-auto",children:b.jsxs("table",{className:"min-w-full divide-y divide-gray-300",children:[b.jsx("thead",{className:"bg-gray-50",children:b.jsxs("tr",{children:[b.jsx("th",{scope:"col",className:"py-3.5 pl-4 pr-3 text-left text-sm font-semibold text-gray-900 sm:pl-0",children:"Name"}),b.jsx("th",{scope:"col",className:"px-3 py-3.5 text-left text-sm font-semibold text-gray-900",children:"EMPLID"}),b.jsx("th",{scope:"col",className:"px-3 py-3.5 text-left text-sm font-semibold text-gray-900",children:"Phone"}),b.jsx("th",{scope:"col",className:"px-3 py-3.5 text-left text-sm font-semibold text-gray-900",children:"Personal Email"}),b.jsx("th",{scope:"col",className:"px-3 py-3.5 text-left text-sm font-semibold text-gray-900",children:"Citymail"}),b.jsx("th",{scope:"col",className:"px-3 py-3.5 text-left text-sm font-semibold text-gray-900",children:"Address"}),b.jsx("th",{scope:"col",className:"px-3 py-3.5 text-left text-sm font-semibold text-gray-900",children:"Emergency Contact"})]})}),b.jsx("tbody",{className:"divide-y divide-gray-200 bg-white",children:ie[j.id].map((ne,he)=>b.jsxs("tr",{children:[b.jsx("td",{className:"whitespace-nowrap py-4 pl-4 pr-3 text-sm font-medium text-gray-900 sm:pl-0",children:ne.profileName||"N/A"}),b.jsx("td",{className:"whitespace-nowrap px-3 py-4 text-sm text-gray-500",children:ne.profileEmplid||"N/A"}),b.jsx("td",{className:"whitespace-nowrap px-3 py-4 text-sm text-gray-500",children:ne.profilePhone||"N/A"}),b.jsx("td",{className:"whitespace-nowrap px-3 py-4 text-sm text-gray-500",children:ne.profileEmail||"N/A"}),b.jsx("td",{className:"whitespace-nowrap px-3 py-4 text-sm text-gray-500",children:ne.profileCitymail||"N/A"}),b.jsx("td",{className:"whitespace-nowrap px-3 py-4 text-sm text-gray-500",children:ne.profileAddress||"N/A"}),b.jsx("td",{className:"whitespace-nowrap px-3 py-4 text-sm text-gray-500",children:ne.profileEmergencyContact||"N/A"})]},he))})]})}):b.jsx("p",{className:"text-gray-500",children:"No one has signed up for this session yet."})})]})})]},j.id))})})})]})}),b.jsx(la,{appear:!0,show:$e.isOpen,as:D.Fragment,children:b.jsxs(To,{as:"div",className:"relative z-50",onClose:()=>$e.onCancel(),children:[b.jsx(la.Child,{as:D.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-200",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:b.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-25"})}),b.jsx("div",{className:"fixed inset-0 overflow-y-auto",children:b.jsx("div",{className:"flex min-h-full items-center justify-center p-4 text-center",children:b.jsx(la.Child,{as:D.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0 scale-95",enterTo:"opacity-100 scale-100",leave:"ease-in duration-200",leaveFrom:"opacity-100 scale-100",leaveTo:"opacity-0 scale-95",children:b.jsxs(To.Panel,{className:"w-full max-w-md transform overflow-hidden rounded-2xl bg-white p-6 text-left align-middle shadow-xl transition-all",children:[b.jsx(To.Title,{as:"h3",className:"text-lg font-medium leading-6 text-gray-900",children:"Are you sure?"}),b.jsx("div",{className:"mt-2",children:b.jsx("p",{className:"text-sm text-gray-500",children:$e.message})}),b.jsxs("div",{className:"mt-4 flex justify-end space-x-2",children:[b.jsx("button",{type:"button",className:"inline-flex justify-center rounded-md border border-gray-300 bg-white px-4 py-2 text-sm font-medium text-gray-700 shadow-sm hover:bg-gray-50 focus:outline-none",onClick:()=>$e.onCancel(),children:"Cancel"}),b.jsx("button",{type:"button",className:"inline-flex justify-center rounded-md border border-transparent bg-red-600 px-4 py-2 text-sm font-medium text-white shadow-sm hover:bg-red-700 focus:outline-none",onClick:()=>$e.onConfirm(),children:"Delete"})]})]})})})})]})})]})},p4=({isOpen:r,onClose:e,isAdmin:n})=>b.jsx(la,{appear:!0,show:r,as:D.Fragment,children:b.jsxs(To,{as:"div",className:"relative z-40",onClose:e,children:[b.jsx(la.Child,{as:D.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-200",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:b.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-25"})}),b.jsx("div",{className:"fixed inset-0 overflow-y-auto",children:b.jsx("div",{className:"flex min-h-full items-center justify-center p-4 text-center",children:b.jsx(la.Child,{as:D.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0 scale-95",enterTo:"opacity-100 scale-100",leave:"ease-in duration-200",leaveFrom:"opacity-100 scale-100",leaveTo:"opacity-0 scale-95",children:b.jsxs(To.Panel,{className:"w-full max-w-2xl transform overflow-hidden rounded-2xl bg-white p-6 text-left align-middle shadow-xl transition-all",children:[b.jsxs(To.Title,{as:"h3",className:"text-2xl font-bold leading-6 text-gray-900 flex justify-between items-center",children:["How to Use the Climb CCNY App",b.jsx("button",{onClick:e,className:"text-gray-400 hover:text-gray-600 focus:outline-none",children:b.jsx(rS,{className:"h-6 w-6"})})]}),b.jsxs("div",{className:"mt-4 space-y-6 max-h-[70vh] overflow-y-auto pr-2",children:[b.jsxs("div",{className:"bg-purple-50 border border-purple-200 rounded-lg p-4",children:[b.jsx("h4",{className:"text-xl font-semibold text-purple-800 mb-2",children:"For All Members"}),b.jsxs("ol",{className:"list-decimal list-inside space-y-2 text-gray-700",children:[b.jsxs("li",{children:[b.jsx("strong",{children:"Sign In:"})," You are automatically signed in when you open the app. This securely links you to your profile."]}),b.jsxs("li",{children:[b.jsx("strong",{children:"Create Profile (One Time Only):"})," The first time you use the app, you'll see a form. Please fill out ",b.jsx("strong",{children:"all fields"})," and check the",b.jsx("strong",{children:"waiver confirmation box"}),"."]}),b.jsxs("li",{children:[b.jsx("strong",{children:"IMPORTANT:"})," Because the sign-in is automatic (and anonymous), your profile is tied to your",b.jsx("strong",{children:"current device and browser"}),". If you use a different device or browser, you will have to create a new profile. Please try to use the same one every week!"]}),b.jsxs("li",{children:[b.jsx("strong",{children:"Sign Up for a Session:"}),' Once your profile is made, you will see the list of "Available Climbing Sessions."']}),b.jsxs("li",{children:["Just click the purple ",b.jsx("strong",{children:'"Sign Up"'})," button for the session you want to attend. That's it!"]}),b.jsxs("li",{children:[b.jsx("strong",{children:"Cancel a Sign-Up:"}),' If you can no longer make it, just click the gray "Cancel Sign-Up" button.']}),b.jsx("li",{className:"list-none mt-3",children:b.jsxs("p",{className:"text-sm text-purple-700",children:["Need help or want to connect? Find us on"," ",b.jsx("a",{href:"https://linktr.ee/climbccny",target:"_blank",rel:"noopener noreferrer",className:"font-bold underline hover:text-purple-900",children:"our Linktree"}),"."]})})]})]}),n&&b.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:[b.jsx("h4",{className:"text-xl font-semibold text-red-800 mb-2",children:"For Club Admins (That's You!)"}),b.jsxs("p",{className:"text-gray-700 mb-2",children:["You have special powers in this app. To get them, you must follow these steps ",b.jsx("strong",{children:"one time"}),":"]}),b.jsxs("ol",{className:"list-decimal list-inside space-y-2 text-gray-700",children:[b.jsxs("li",{children:["Scroll to the ",b.jsx("strong",{children:"very bottom"})," of this app to find the footer."]}),b.jsxs("li",{children:["Copy the long ",b.jsx("strong",{children:'"Your User ID"'})," string."]}),b.jsxs("li",{children:["Go to the ",b.jsx("strong",{children:"code for `app.jsx`"}),"."]}),b.jsx("li",{children:"Find the line `const ADMIN_USER_ID = ...` (around line 26)."}),b.jsx("li",{children:"Paste your User ID inside the quotes."}),b.jsx("li",{children:'Once you do this, the "Admin Panel" will appear at the bottom of the page.'})]}),b.jsx("h4",{className:"text-lg font-semibold text-red-800 mt-4 mb-2",children:"Your Admin Tasks"}),b.jsxs("ol",{className:"list-decimal list-inside space-y-2 text-gray-700",children:[b.jsxs("li",{children:[b.jsx("strong",{children:"To Create a Session:"}),' Go to the Admin Panel and use the "Create Session" tab. Fill in the name, date, and new optional fields like **Location, Price, and Waiver Link**.']}),b.jsxs("li",{children:[b.jsx("strong",{children:"To Get the Roster for the Gym:"}),' Go to the "Manage Sessions & Rosters" tab.']}),b.jsxs("li",{children:["Find the session you need and click"," ",b.jsx("strong",{children:'"View Roster"'}),"."]}),b.jsxs("li",{children:["You will see two options:",b.jsxs("ul",{className:"list-disc list-inside ml-4 mt-1",children:[b.jsxs("li",{children:[b.jsx("strong",{children:"Share Live Link:"})," Click this to copy a special link. Email this link to the gym *one time*. They can open it and see the roster update in real-time as people sign up (even at the last second!). This is the best option."]}),b.jsxs("li",{children:[b.jsx("strong",{children:"Copy for Sheet:"})," Click this to copy a *static* list, just like before. This now includes all the new profile fields."]})]})]}),b.jsxs("li",{children:[b.jsx("strong",{children:"To Delete a Session:"})," Click the red trash can button next to any session."]})]})]})]}),b.jsx("div",{className:"mt-6 text-right",children:b.jsx("button",{type:"button",className:"inline-flex justify-center rounded-md border border-transparent bg-purple-100 px-4 py-2 text-sm font-medium text-purple-900 hover:bg-purple-200 focus:outline-none focus:ring-2 focus:ring-purple-500 focus:ring-offset-2",onClick:e,children:"Got it, thanks!"})})]})})})})]})}),g4=({sessionId:r,db:e})=>{const[n,s]=D.useState([]),[o,u]=D.useState(null),[f,m]=D.useState(!0);return D.useEffect(()=>{if(!e||!r)return;const p=Po(e,au,r),y=Io(p,E=>{E.exists()?u(E.data()):u(null)},E=>{console.error("Error fetching session details: ",E)});return()=>y()},[e,r]),D.useEffect(()=>{if(!e||!r)return;m(!0);const p=gu(sa(e,ou),_g("sessionId","==",r)),y=Io(p,E=>{const S=E.docs.map(R=>R.data());S.sort((R,O)=>R.signedUpAt.seconds-O.signedUpAt.seconds),s(S),m(!1)},E=>{console.error("Error fetching live roster: ",E),m(!1)});return()=>y()},[e,r]),b.jsx("div",{className:"min-h-screen bg-gray-50 p-4 sm:p-8",children:b.jsxs("div",{className:"max-w-6xl mx-auto",children:[b.jsx("h1",{className:"text-3xl font-bold text-purple-800",children:"Climb CCNY - Live Roster"}),f&&!o?b.jsx(yu,{}):o?b.jsxs(b.Fragment,{children:[b.jsxs("div",{className:"my-4 p-4 bg-white rounded-lg shadow border border-gray-200",children:[b.jsx("h2",{className:"text-2xl font-semibold text-gray-800",children:o.name}),b.jsx("p",{className:"text-lg text-gray-600 mb-4",children:Ig(o.sessionDate)}),b.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.location&&b.jsxs("div",{className:"flex items-center",children:[b.jsx(iS,{className:"h-5 w-5 text-gray-500 mr-2"}),b.jsx("span",{className:"text-gray-700",children:o.location})]}),o.price&&b.jsxs("div",{className:"flex items-center",children:[b.jsx(eS,{className:"h-5 w-5 text-gray-500 mr-2"}),b.jsx("span",{className:"text-gray-700",children:o.price})]}),o.waiverLink&&b.jsxs("div",{className:"flex items-start md:col-span-2",children:[b.jsx(tS,{className:"h-5 w-5 text-yellow-600 mr-2 mt-0.5"}),b.jsxs("span",{className:"text-gray-700",children:["Waiver:"," ",b.jsx("a",{href:o.waiverLink.startsWith("http")?o.waiverLink:`https://${o.waiverLink}`,target:"_blank",rel:"noopener noreferrer",className:"font-medium text-purple-700 underline hover:text-purple-900",children:"Click Here"})]})]})]})]}),b.jsxs("div",{className:"flex items-center mb-4 p-3 bg-blue-50 border border-blue-200 rounded-md",children:[b.jsx(nS,{className:"h-6 w-6 text-blue-600 mr-2 flex-shrink-0"}),b.jsxs("p",{className:"text-blue-800",children:["This list updates automatically in real-time. Last updated: ",new Date().toLocaleTimeString()]})]}),b.jsxs("div",{className:"bg-white shadow-lg rounded-xl overflow-hidden border border-gray-200",children:[b.jsx("div",{className:"flex justify-between items-center p-4 border-b",children:b.jsxs("h3",{className:"text-lg font-semibold text-gray-800",children:["Roster (",n.length," signed up)"]})}),b.jsx("div",{className:"overflow-x-auto",children:n.length>0?b.jsxs("table",{className:"min-w-full divide-y divide-gray-300",children:[b.jsx("thead",{className:"bg-gray-50 sticky top-0",children:b.jsxs("tr",{children:[b.jsx("th",{scope:"col",className:"py-3.5 pl-4 pr-3 text-left text-sm font-semibold text-gray-900 sm:pl-6",children:"#"}),b.jsx("th",{scope:"col",className:"py-3.5 pl-4 pr-3 text-left text-sm font-semibold text-gray-900 sm:pl-6",children:"Name"}),b.jsx("th",{scope:"col",className:"px-3 py-3.5 text-left text-sm font-semibold text-gray-900",children:"EMPLID"}),b.jsx("th",{scope:"col",className:"px-3 py-3.5 text-left text-sm font-semibold text-gray-900",children:"Phone"}),b.jsx("th",{scope:"col",className:"px-3 py-3.5 text-left text-sm font-semibold text-gray-900",children:"Personal Email"}),b.jsx("th",{scope:"col",className:"px-3 py-3.5 text-left text-sm font-semibold text-gray-900",children:"Citymail"}),b.jsx("th",{scope:"col",className:"px-3 py-3.5 text-left text-sm font-semibold text-gray-900",children:"Address"}),b.jsx("th",{scope:"col",className:"px-3 py-3.5 text-left text-sm font-semibold text-gray-900",children:"Emergency Contact"})]})}),b.jsx("tbody",{className:"divide-y divide-gray-200 bg-white",children:n.map((p,y)=>b.jsxs("tr",{children:[b.jsx("td",{className:"whitespace-nowrap py-4 pl-4 pr-3 text-sm text-gray-500 sm:pl-6",children:y+1}),b.jsx("td",{className:"whitespace-nowrap py-4 pl-4 pr-3 text-sm font-medium text-gray-900 sm:pl-6",children:p.profileName||"N/A"}),b.jsx("td",{className:"whitespace-nowrap px-3 py-4 text-sm text-gray-500",children:p.profileEmplid||"N/A"}),b.jsx("td",{className:"whitespace-nowrap px-3 py-4 text-sm text-gray-500",children:p.profilePhone||"N/A"}),b.jsx("td",{className:"whitespace-nowrap px-3 py-4 text-sm text-gray-500",children:p.profileEmail||"N/A"}),b.jsx("td",{className:"whitespace-nowrap px-3 py-4 text-sm text-gray-500",children:p.profileCitymail||"N/A"}),b.jsx("td",{className:"whitespace-nowrap px-3 py-4 text-sm text-gray-500",children:p.profileAddress||"N/A"}),b.jsx("td",{className:"whitespace-nowrap px-3 py-4 text-sm text-gray-500",children:p.profileEmergencyContact||"N/A"})]},y))})]}):b.jsx("p",{className:"text-gray-500 p-6 text-center",children:"No one has signed up for this session yet."})})]})]}):b.jsx("p",{className:"text-red-600 text-center mt-10",children:"Error: Session not found. The link may be incorrect."})]})})};function y4(){const[r,e]=D.useState(null),[n,s]=D.useState(!1),[o,u]=D.useState(null),[f,m]=D.useState(!0),[p,y]=D.useState(!1),E=D.useMemo(()=>new URLSearchParams(window.location.search),[]),S=D.useMemo(()=>E.get("page"),[E]),R=D.useMemo(()=>E.get("session"),[E]);D.useEffect(()=>{if(!ta)try{rs=Ih(Cp),ta=qT(rs),ei=vp(rs),KT("Debug")}catch($){console.error("Firebase re-initialization error:",$);return}if(S==="roster"){s(!0),m(!1);return}const B=async()=>{try{typeof __initial_auth_token<"u"&&__initial_auth_token?await _R(ta,__initial_auth_token):await dR(ta)}catch($){console.error("Error during automated sign-in:",$)}};ta.currentUser||B();const Y=TR(ta,$=>{$?e($.uid):(e(null),B()),s(!0)});return()=>Y()},[S]),D.useEffect(()=>{if(S==="roster")return;if(!n||!r||!ei){n&&m(!1);return}m(!0);const B=Po(ei,sS,r),Y=Io(B,$=>{$.exists()?u($.data()):u(null),m(!1)},$=>{console.error("Error fetching profile:",$),m(!1)});return()=>Y()},[n,r,ei,S]);const O=D.useMemo(()=>r===XE,[r]);if(S==="roster"&&R){if(!ei)try{rs=Ih(Cp),ei=vp(rs)}catch(B){return console.error("Firebase init error on public page:",B),b.jsx("div",{children:"Error loading database."})}return b.jsx(g4,{sessionId:R,db:ei})}return b.jsxs("div",{className:"min-h-screen bg-gray-50",children:[b.jsx(p4,{isOpen:p,onClose:()=>y(!1),isAdmin:O}),b.jsx(h4,{userId:r,isAuthReady:n,onShowTutorial:()=>y(!0)}),b.jsx("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:!n||f?b.jsx(yu,{}):b.jsxs(b.Fragment,{children:[r&&!o&&b.jsx(f4,{userId:r,db:ei}),r&&o&&b.jsx(d4,{userId:r,db:ei,profile:o}),O&&b.jsx(m4,{db:ei,userId:r})]})}),b.jsx("footer",{className:"text-center py-4 mt-8",children:n&&r&&b.jsxs("div",{className:"text-xs text-gray-400 max-w-xl mx-auto",children:[b.jsxs("p",{className:"mt-1",children:["Your User ID: ",r]}),r===XE&&b.jsx("p",{className:"font-bold text-purple-600",children:"Admin Access Granted"})]})})]})}$A.createRoot(document.getElementById("root")).render(b.jsx(D.StrictMode,{children:b.jsx(y4,{})}));
